(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{271:function(t,e,s){t.exports=s.p+"assets/img/event-bus-module.18c5a6f0.png"},272:function(t,e,s){t.exports=s.p+"assets/img/event-bus-content.23c1f972.png"},273:function(t,e,s){t.exports=s.p+"assets/img/event-bus-model.a7412672.png"},274:function(t,e,s){t.exports=s.p+"assets/img/event-bus-function.8044546e.png"},275:function(t,e,s){t.exports=s.p+"assets/img/event-bus-seq-flow.2de08cda.png"},276:function(t,e,s){t.exports=s.p+"assets/img/event-bus-main-flow.c97c465a.png"},905:function(t,e,s){"use strict";s.r(e);var a=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"event-bus-module-design-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-bus-module-design-document","aria-hidden":"true"}},[t._v("#")]),t._v(" Event bus module design document")]),t._v(" "),a("p",[t._v("[TOC]")]),t._v(" "),a("h2",{attrs:{id:"_1-overall-description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-overall-description","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. Overall description")]),t._v(" "),a("h3",{attrs:{id:"_1-1-module-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-module-overview","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 Module Overview")]),t._v(" "),a("h4",{attrs:{id:"_1-1-1-why-should-i-have-the-event-bus-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-why-should-i-have-the-event-bus-module","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.1 Why should I have the Event Bus module?")]),t._v(" "),a("blockquote",[a("p",[t._v("The Event Bus Module is a functional module designed to receive and notify processing module events, managing all module events.")])]),t._v(" "),a("h4",{attrs:{id:"_1-1-2-what-is-the-event-bus"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-what-is-the-event-bus","aria-hidden":"true"}},[t._v("#")]),t._v(' 1.1.2 What is the "Event Bus"?')]),t._v(" "),a("blockquote",[a("p",[t._v("Provide event subscription, receiving, sending and other functions, which is an event transfer station between modules")])]),t._v(" "),a("h4",{attrs:{id:"_1-1-3-positioning-of-event-bus-in-the-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-positioning-of-event-bus-in-the-system","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.3 Positioning of Event Bus in the System")]),t._v(" "),a("blockquote",[a("p",[t._v("The event module is an edge system that provides some major asynchronous messaging, which means that even without an event bus, the system can operate normally, is lightweight, and does not depend on other module systems.")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-architecture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-architecture","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2 Architecture")]),t._v(" "),a("p",[a("img",{attrs:{src:s(271),alt:"event-bus-module"}})]),t._v(" "),a("ul",[a("li",[t._v("The event bus module mainly contains 2 parts of interactive logic:\n  - Microservice registration and service information acquisition with the system core module.\n  - Event message creation, subscription, and forwarding management with other base modules.")])]),t._v(" "),a("h2",{attrs:{id:"_2-functional-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-functional-design","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. functional design")]),t._v(" "),a("h3",{attrs:{id:"_2-1-functional-architecture"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-functional-architecture","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1 Functional Architecture")]),t._v(" "),a("p",[a("img",{attrs:{src:s(272),alt:"event-bus-content"}})]),t._v(" "),a("h3",{attrs:{id:"_2-2-module-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-module-service","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2 Module Service")]),t._v(" "),a("p",[a("img",{attrs:{src:s(273),alt:"event-bus-model"}})]),t._v(" "),a("blockquote",[a("p",[t._v("This module provides event subscriptions, event forwarding")])]),t._v(" "),a("h4",{attrs:{id:"_2-2-1-modifying-system-operating-parameters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-modifying-system-operating-parameters","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.1 Modifying system operating parameters")]),t._v(" "),a("blockquote",[a("p",[t._v("Only rely on the core system, the core system can start, stop, modify parameters, etc. of the event module system,")])]),t._v(" "),a("h3",{attrs:{id:"_2-3-module-internal-function"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-module-internal-function","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.3 Module internal function")]),t._v(" "),a("p",[a("img",{attrs:{src:s(274),alt:"event-bus-function"}})]),t._v(" "),a("blockquote",[a("p",[t._v("Module internal work mainly includes, subscription manager, event manager, and forwarding manager.")])]),t._v(" "),a("ul",[a("li",[t._v("Microservice interface information synchronization management\n  - for synchronizing the service interface with the kernel service management module")]),t._v(" "),a("li",[t._v("Event Storage Management (eventBus)\n  - Used to create event information, subscribe to other storage, and initialize the information when the module is restarted.")]),t._v(" "),a("li",[t._v('Event subscription management (subscribe)\n  - Maintain a "configuration table" for subscription events: including important parameters for all individual module subscriptions')]),t._v(" "),a("li",[t._v("Event forwarding management (dispatcher)\n  - The open interface is used for event reception, the receiving event is forwarded by subscription, and the forwarding call interface is obtained through the service information management interface.")]),t._v(" "),a("li",[t._v("Function Interface Management (rpc)\n  - Open query interface for external query")])]),t._v(" "),a("h3",{attrs:{id:"_2-4-event-bus-process"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-event-bus-process","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.4 Event Bus Process")]),t._v(" "),a("ul",[a("li",[t._v("Event processing timing")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(275),alt:"event-bus-seq-flow"}})]),t._v(" "),a("ul",[a("li",[t._v("Event processing basic process")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(276),alt:"event-bus-main-flow"}})]),t._v(" "),a("h3",{attrs:{id:"_2-5-business-logic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-business-logic","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.5 Business Logic")]),t._v(" "),a("blockquote",[a("p",[t._v("Exception logic processing in case of event forwarding failure (such as network reason), according to the following two logics:")])]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("Retaining event calls Repeat calls by queue until the forwarding is successful.")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("Discard it directly after trying many times. (Tentatively 5 times) Retry every 10 seconds.")])])])]),t._v(" "),a("h2",{attrs:{id:"_3-interface-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-interface-design","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. Interface Design")]),t._v(" "),a("h3",{attrs:{id:"_3-1-module-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-module-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1 Module Interface")]),t._v(" "),a("h4",{attrs:{id:"_3-1-1-event-theme-subscription"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-event-theme-subscription","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.1 Event Theme Subscription")]),t._v(" "),a("blockquote",[a("p",[t._v("cmd: subscribe")])]),t._v(" "),a("h5",{attrs:{id:"parameter-description-request-body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description-request-body","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameter Description (Request body)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app.nuls.network.bandwidth"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("//topic event topic\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moduleId"')]),t._v(" //moduleId subscriber module id\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"return-value-description-response-content"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-value-description-response-content","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value description (Response content)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reponse message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​information on failure\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"app_secret"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxxxxxxxxxx"')]),t._v(" // app_secret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" temporarily not needed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" may need to be verified later if it is not required to be called locally\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-1-2-event-unsubscribe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-event-unsubscribe","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.2 Event Unsubscribe")]),t._v(" "),a("blockquote",[a("p",[t._v("cmd: unsubscribe")])]),t._v(" "),a("h5",{attrs:{id:"parameter-description-request-body-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description-request-body-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameter Description (request body)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unsubscribe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app.nuls.network.bandwidth"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //topic event topic\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moduleId"')]),t._v(" //moduleId subscriber module id\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"return-value-description-response-content-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-value-description-response-content-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value description: (response content)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reponse message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​information on failure\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-1-3-event-sending-automatically-create-topic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-event-sending-automatically-create-topic","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.3 Event Sending [Automatically Create Topic]")]),t._v(" "),a("blockquote",[a("p",[t._v("Do you keep a certain amount of time when no one is subscribed?")])]),t._v(" "),a("blockquote",[a("p",[t._v("cmd: send")])]),t._v(" "),a("h5",{attrs:{id:"parameter-description-request-body-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description-request-body-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameter description (request body)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"send"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app.nuls.network.bandwidth"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("//topic event topic\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"moduleId"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //moduleId subscriber module id\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"key"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" // event to be sent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" jsonObj\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"return-value-description-response-content-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-value-description-response-content-3","aria-hidden":"true"}},[t._v("#")]),t._v(" return value description (response content)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reponse message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​information on failure\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-1-4-event-broadcast-push-push-or-dispatcher"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-event-broadcast-push-push-or-dispatcher","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.1.4 Event broadcast (push push or dispatcher)")]),t._v(" "),a("blockquote",[a("p",[t._v("I need each interface to provide an interface when subscribing to events. I can call it when I broadcast. I am using multithreading to remove your interface. You need to return the correct code, otherwise there will be a retry mechanism.")])]),t._v(" "),a("h5",{attrs:{id:"parameter-description-request-body-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description-request-body-4","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameter description (request body)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dispatcher"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" //data event to be sent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"return-value-description-response-content-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-value-description-response-content-4","aria-hidden":"true"}},[t._v("#")]),t._v(" return value description (response content)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​must return correctly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" do not need to tell you whether the business logic is wrong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as long as you receive it"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tell me that you have successfully received it.\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reponse message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​information on failure\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-2-function-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-function-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.2 Function Interface")]),t._v(" "),a("blockquote",[a("p",[t._v("The functional interface is the interface provided to the interface and command line tools")])]),t._v(" "),a("h4",{attrs:{id:"get-event-topic-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-event-topic-information","aria-hidden":"true"}},[t._v("#")]),t._v(" Get event topic information")]),t._v(" "),a("blockquote",[a("p",[t._v("cmd: topics")])]),t._v(" "),a("h5",{attrs:{id:"parameter-description-request-body-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameter-description-request-body-5","aria-hidden":"true"}},[t._v("#")]),t._v(" Parameter description (request body)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cmd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"topics"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",{attrs:{id:"response-body-response-content"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response-body-response-content","aria-hidden":"true"}},[t._v("#")]),t._v(" Response Body (response content)")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​must return correctly"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" do not need to tell you whether the business logic is wrong"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" as long as you receive it"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tell me that you have successfully received it.\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"reponse message."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // ​​information on failure\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topics"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //topic id\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"createTime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //Create time\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"moduleId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // theme creator (module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Id\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subscribes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("//subscriber information\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"moduleId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" //subscriber\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subscribeTime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" //Subscription time\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"get-event-topic-information-including-all-event-information-on-this-topic-every-event-i-don-t-care-about"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-event-topic-information-including-all-event-information-on-this-topic-every-event-i-don-t-care-about","aria-hidden":"true"}},[t._v("#")]),t._v(" Get event topic information (including all event information on this topic?) Every event I don't care about.")]),t._v(" "),a("blockquote",[a("p",[t._v("cmd : get_topic")])]),t._v(" "),a("h2",{attrs:{id:"_4-description-of-the-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-description-of-the-event","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. Description of the event")]),t._v(" "),a("blockquote",[a("p",[t._v("does not depend on any events")])]),t._v(" "),a("h2",{attrs:{id:"_5-agreement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-agreement","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. agreement")]),t._v(" "),a("h3",{attrs:{id:"_5-1-network-communication-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-network-communication-protocol","aria-hidden":"true"}},[t._v("#")]),t._v(" 5.1 Network Communication Protocol")]),t._v(" "),a("p",[t._v("no")]),t._v(" "),a("h3",{attrs:{id:"_5-2-trading-agreement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-trading-agreement","aria-hidden":"true"}},[t._v("#")]),t._v(" 5.2 Trading Agreement")]),t._v(" "),a("h2",{attrs:{id:"_6-module-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-module-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. Module Configuration")]),t._v(" "),a("h3",{attrs:{id:"_6-1-configuration-instructions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-configuration-instructions","aria-hidden":"true"}},[t._v("#")]),t._v(" 6.1 Configuration Instructions")]),t._v(" "),a("blockquote",[a("p",[t._v("General support configuration, port, number of retries, retry time, thread pool size of default executor, network call timeout configuration, etc.")])]),t._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Server:\n  Ip: 127.0.0.1 // local ip, used to provide services to other modules, you can not fill, the default is automatically obtained\n  Port: 8080 //The port that provides the service, you can leave it blank, the default is automatically obtained.\n")])])]),a("h3",{attrs:{id:"_6-2-module-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-module-dependencies","aria-hidden":"true"}},[t._v("#")]),t._v(" 6.2 Module Dependencies")]),t._v(" "),a("ul",[a("li",[t._v("Kernel module\n  - Module registration\n  - Module logout\n  - Module status escalation (heartbeat)\n  - Service interface data acquisition and timing update")])]),t._v(" "),a("h2",{attrs:{id:"_7-java-specific-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-java-specific-design","aria-hidden":"true"}},[t._v("#")]),t._v(" 7. Java-specific design")]),t._v(" "),a("blockquote",[a("p",[t._v("Core object class definition, storing data structures, ...")])]),t._v(" "),a("h2",{attrs:{id:"_8-supplementary-content"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-supplementary-content","aria-hidden":"true"}},[t._v("#")]),t._v(" 8. supplementary content")]),t._v(" "),a("blockquote",[a("p",[t._v("Required content not covered above")])])])}],n=s(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},a,!1,null,null,null);r.options.__file="eventBusModuleDesign.md";e.default=r.exports}}]);