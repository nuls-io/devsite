(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{724:function(t,a,s){"use strict";s.r(a);var e=s(27),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("交易是由帐户发出，带密码学签名的指令。 帐户将发起交易以更新ENULS网络的状态。 最简单的交易是将 NULS 从一个账户转到另一个帐户。")]),t._v(" "),a("h2",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),a("p",[t._v("为了帮助您更好地理解这个页面，我们建议您先阅读"),a("RouterLink",{attrs:{to:"/zh/enuls/accounts/"}},[t._v("账户")]),t._v("和我们的"),a("RouterLink",{attrs:{to:"/zh/enuls/"}},[t._v("ENULS简介")]),t._v("。")],1),t._v(" "),a("h2",{attrs:{id:"什么是交易"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是交易"}},[t._v("#")]),t._v(" 什么是交易？")]),t._v(" "),a("p",[t._v("ENULS交易是指由外部持有账户发起的行动，换句话说，是指由人管理而不是智能合约管理的账户。 例如，如果 Bob 向 Alice 发送 1 NULS，则 Bob 的帐户必须减少 1 NULS，而 Alice 的账户必须增加 1 NULS。 交易会造成状态的改变。")]),t._v(" "),a("p",[t._v("改变 EVM 状态的交易需要广播到整个网络。 任何节点都可以广播在ENULS虚拟机上执行交易的请求；此后，验证者将执行交易并将由此产生的状态变化传播到网络的其他部分。")]),t._v(" "),a("p",[t._v("交易需要付费并且必须包含在一个有效区块中。 为了使本概述更加简洁，我们将另行介绍燃料费和验证。")]),t._v(" "),a("p",[t._v("所提交的交易包括下列信息：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("recipient")]),t._v(" – 接收地址（如果为一个外部持有的帐户，交易将传输值。 如果为合约帐户，交易将执行合约代码）")]),t._v(" "),a("li",[a("code",[t._v("signature")]),t._v(" – 发送者的标识符。 当通过发送者的私钥签名交易来确保发送者已授权此交易时，生成此签名。")]),t._v(" "),a("li",[a("code",[t._v("随机数")]),t._v(" - 一个连续的递增计数器，表示帐户中的交易编号。")]),t._v(" "),a("li",[a("code",[t._v("value")]),t._v(" – 发送人向接收人转移的NULS金额（以NULS的一种面值 WEI 为单位）")]),t._v(" "),a("li",[a("code",[t._v("data")]),t._v(" – 可包括任意数据的可选字段")]),t._v(" "),a("li",[a("code",[t._v("gasLimit")]),t._v(" – 交易可以消耗的最大数量的燃料单位。 燃料单位代表计算步骤")]),t._v(" "),a("li",[a("code",[t._v("maxPriorityFeePerGas")]),t._v(" - 作为验证者小费包含的最大燃料数量")]),t._v(" "),a("li",[a("code",[t._v("maxFeePerGas")]),t._v(" - 愿意为交易支付的最大燃料数量（包括 "),a("code",[t._v("baseFeePerGas")]),t._v(" 和 "),a("code",[t._v("maxPriorityFeePerGas")]),t._v("）")])]),t._v(" "),a("p",[t._v("燃料是指验证者处理交易所需的计算。 用户必须为此计算支付费用。 "),a("code",[t._v("gasLimit")]),t._v(" 和 "),a("code",[t._v("maxPriorityFeePerGas")]),t._v(" 决定支付给验证者的最高交易费。 "),a("RouterLink",{attrs:{to:"/zh/enuls/gas/"}},[t._v("关于燃料的更多信息")]),t._v("。")],1),t._v(" "),a("p",[t._v("交易对象看起来像这样：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("from")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xEA674fdDe714fd979de3EdF0F56AA9716B898ec8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("to")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xac03bb73b6a9e108530aff4df5077c2b3d481e5a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("gasLimit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"21000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxFeePerGas")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"300"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxPriorityFeePerGas")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("nonce")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10000000000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("但交易对象需要使用发送者的私钥签名。 这证明交易只可能来自发送者，而不是欺诈。")]),t._v(" "),a("p",[t._v("GNULS 这样的ENULS客户端将处理此签名过程。")]),t._v(" "),a("p",[t._v("示例 "),a("a",{attrs:{href:"https://NULS.wiki/json-rpc/API",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-RPC"),a("OutboundLink")],1),t._v(" 调用：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsonrpc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mNULSod"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"account_signTransaction"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"params"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"from"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1923f626bb8dc025849e00f99c25fe2b2f7fb0db"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x55555"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"maxFeePerGas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"maxPriorityFeePerGas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"input"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xabcd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nonce"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x07a565b7ed7d7a678680a4c162885bedbb695fe0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("示例响应：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsonrpc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"result"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"raw"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xf88380018203339407a565b7ed7d7a678680a4c162885bedbb695fe080a44401a6e4000000000000000000000000000000000000000000000000000000000000001226a0223a7c9bcf5531c99be5ea7082183816eb20cfe0bbc322e97cc5c7f71ab8b20ea02aadee6b34b45bb15bc42d9c09de4a6754e7000908da72d48cc7704971491663"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tx"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nonce"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"maxFeePerGas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"maxPriorityFeePerGas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gas"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x55555"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"to"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x07a565b7ed7d7a678680a4c162885bedbb695fe0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"input"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xabcd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"v"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x26"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"r"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x223a7c9bcf5531c99be5ea7082183816eb20cfe0bbc322e97cc5c7f71ab8b20e"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"s"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0x2aadee6b34b45bb15bc42d9c09de4a6754e7000908da72d48cc7704971491663"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0xeba2df809e7a612a0a0d444ccfa5c839624bdc00dd29e3340d46df3870f8a30e"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("raw")]),t._v(" 是已签名交易的 RLP（Recursive Length Prefix）编码形式。")]),t._v(" "),a("li",[a("code",[t._v("tx")]),t._v(" 是已签名交易的 JSON 形式。")])]),t._v(" "),a("p",[t._v("如有签名哈希，可通过加密技术证明交易来自发送者并提交网络。")]),t._v(" "),a("h3",{attrs:{id:"data字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data字段"}},[t._v("#")]),t._v(" "),a("code",[t._v("data")]),t._v("字段")]),t._v(" "),a("p",[t._v("绝大多数交易都是从外部所有的帐户访问合约。 大多数合约用 Solidity 语言编写，并根据"),a("RouterLink",{attrs:{to:"/glossary/#abi"}},[t._v("应用程序二进制接口 (ABI)")]),t._v(" 解释其"),a("code",[t._v("data")]),t._v("字段。")],1),t._v(" "),a("p",[t._v("前四个字节使用函数名称和参数的哈希指定要调用的函数。 有时可以使用"),a("a",{attrs:{href:"https://www.4byte.directory/signatures/",target:"_blank",rel:"noopener noreferrer"}},[t._v("本数据库"),a("OutboundLink")],1),t._v("根据选择器识别函数。")]),t._v(" "),a("p",[t._v("调用数据的其余部分是参数，"),a("a",{attrs:{href:"https://docs.soliditylang.org/en/latest/abi-spec.html#formal-specification-of-the-encoding",target:"_blank",rel:"noopener noreferrer"}},[t._v("按照应用程序二进制接口规范中的规定进行编码"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("例如，我们来看一下"),a("a",{attrs:{href:"https://NULSerscan.io/tx/0xd0dcbe007569fcfa1902dae0ab8b4e078efe42e231786312289b1eee5590f6a1",target:"_blank",rel:"noopener noreferrer"}},[t._v("这笔交易"),a("OutboundLink")],1),t._v("。 使用 **Click to see More（单击查看更多）**查看调用数据。")]),t._v(" "),a("p",[t._v("函数选择器是 "),a("code",[t._v("0xa9059cbb")]),t._v("。 有几个"),a("a",{attrs:{href:"https://www.4byte.directory/signatures/?bytes4_signature=0xa9059cbb",target:"_blank",rel:"noopener noreferrer"}},[t._v("具有此签名的已知函数"),a("OutboundLink")],1),t._v("。 本例中"),a("a",{attrs:{href:"https://NULSerscan.io/address/0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48#code",target:"_blank",rel:"noopener noreferrer"}},[t._v("合约源代码"),a("OutboundLink")],1),t._v("已经上传到 NULSerscan，所以我们知道该函数是 "),a("code",[t._v("transfer(address, uint256)")]),t._v("。")]),t._v(" "),a("p",[t._v("其余数据如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("0000000000000000000000004f6742badb049791cd9a37ea913f2bac38d01279\n000000000000000000000000000000000000000000000000000000003b0559f4\n")])])]),a("p",[t._v("根据应用程序二进制接口规范，整型值（例如地址，它是 20 字节整型）在应用程序二进制接口中显示为 32 字节的字，前面用零填充。 所以我们知道 "),a("code",[t._v("to")]),t._v(" 地址是 "),a("a",{attrs:{href:"https://NULSerscan.io/address/0x4f6742badb049791cd9a37ea913f2bac38d01279",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("4f6742badb049791cd9a37ea913f2bac38d01279")]),a("OutboundLink")],1),t._v("。 "),a("code",[t._v("value")]),t._v(" 是 0x3b0559f4 = 990206452。")]),t._v(" "),a("h2",{attrs:{id:"交易类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交易类型"}},[t._v("#")]),t._v(" 交易类型")]),t._v(" "),a("p",[t._v("ENULS有几种不同类型的交易：")]),t._v(" "),a("ul",[a("li",[t._v("常规交易：从一个帐户到另一个帐户的交易。")]),t._v(" "),a("li",[t._v("合约部署交易：没有“to”地址的交易，数据字段用于合约代码。")]),t._v(" "),a("li",[t._v("执行合约：与已部署的智能合约进行交互的交易。 在这种情况下，“to”地址是智能合约地址。")])]),t._v(" "),a("h3",{attrs:{id:"关于燃料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于燃料"}},[t._v("#")]),t._v(" 关于燃料")]),t._v(" "),a("p",[t._v("如上所述，执行交易需要耗费"),a("RouterLink",{attrs:{to:"/zh/enuls/gas/"}},[t._v("燃料")]),t._v("。 简单的转账交易需要 21000 单位燃料。")],1),t._v(" "),a("p",[t._v("因此，如果 Bob 要在 "),a("code",[t._v("baseFeePerGas")]),t._v(" 为 190 Gwei 且 "),a("code",[t._v("maxPriorityFeePerGas")]),t._v(" 为 10 Gwei 时给 Alice 发送一个NULS，Bob 需要支付以下费用：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("(190 + 10) * 21000 = 4,200,000 gwei\n--或--\n0.0042 NULS\n")])])]),a("p",[t._v("Bob 的帐户将会扣除 "),a("strong",[t._v("1.0042 个NULS")]),t._v("（1 个NULS给 Alice，0.0042 个NULS作为燃料费用）")]),t._v(" "),a("p",[t._v("Alice 的帐户将会增加 "),a("strong",[t._v("+1.0 NULS")])]),t._v(" "),a("p",[t._v("基础费将会燃烧 "),a("strong",[t._v("-0.00399 NULS")])]),t._v(" "),a("p",[t._v("验证者获得 "),a("strong",[t._v("0.000210 个NULS")]),t._v("的小费")]),t._v(" "),a("p",[t._v("任何智能合约交互也需要燃料。")]),t._v(" "),a("p",[t._v("任何未用于交易的燃料都会退还给用户帐户。")]),t._v(" "),a("h2",{attrs:{id:"交易生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交易生命周期"}},[t._v("#")]),t._v(" 交易生命周期")]),t._v(" "),a("p",[t._v("交易提交后，就会发生以下情况：")]),t._v(" "),a("ol",[a("li",[t._v("一旦您发送交易，加密法生成交易哈希： "),a("code",[t._v("0x97d99bc7729211111a21b12c933c949d4f31684f1d6954ff477d0477538ff017")])]),t._v(" "),a("li",[t._v("然后将该交易转播到网络，并且与大量其他交易一起包含在一个集合中。")]),t._v(" "),a("li",[t._v("验证者必须选择你的交易并将它包含在一个区块中，以便验证交易并认为它“成功”。")]),t._v(" "),a("li",[t._v("随着时间的流逝，包含你的交易的区块将升级成“合理”状态，然后变成“最后确定”状态。 通过这些升级，可以进一步确定 你的交易已经成功并将无法更改。 区块一旦“最终确定”，只能通过耗费数十亿美元 的攻击来更改。")])]),t._v(" "),a("h2",{attrs:{id:"视频演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视频演示"}},[t._v("#")]),t._v(" 视频演示")]),t._v(" "),a("p",[t._v("跟随 Austin 了解交易、燃料和挖矿。")]),t._v(" "),a("YouTube",{attrs:{id:"er-0ihqFQB0"}}),t._v(" "),a("h2",{attrs:{id:"typed-transaction-envelope-交易"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typed-transaction-envelope-交易"}},[t._v("#")]),t._v(" Typed Transaction Envelope 交易")]),t._v(" "),a("p",[t._v("ENULS最初有一种交易形式。 每笔交易都包含 Nonce、燃料价格、燃料限制、目的地地址、价值、数据、v、r 和 s。 这些字段采用 RLP 编码，如下所示：")]),t._v(" "),a("p",[a("code",[t._v("RLP([nonce, gasPrice, gasLimit, to, value, data, v, r, s])")])]),t._v(" "),a("p",[t._v("ENULS经过演变，已经支持多种类型的交易，从而能够在不影响传统交易形式的情况下实现访问列表和 "),a("a",{attrs:{href:"https://eips.NULSereum.org/EIPS/eip-1559",target:"_blank",rel:"noopener noreferrer"}},[t._v("EIP-1559"),a("OutboundLink")],1),t._v(" 等新功能。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://eips.NULSereum.org/EIPS/eip-2718",target:"_blank",rel:"noopener noreferrer"}},[t._v("EIP-2718：类型化交易封套"),a("OutboundLink")],1),t._v("定义了交易类型，是未来交易类型的“封套”。")]),t._v(" "),a("p",[t._v("EIP-2718 是用于类型化交易的新通用封套。 在新标准中，交易被解释为：")]),t._v(" "),a("p",[a("code",[t._v("TransactionType || TransactionPayload")])]),t._v(" "),a("p",[t._v("其中，字段定义如下：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("TransactionType")]),t._v(" - 一个在 0 到 0x7f 之间的数字，总共为 128 种可能的交易类型。")]),t._v(" "),a("li",[a("code",[t._v("TransactionPayload")]),t._v(" - 由交易类型定义的任意字节数组。")])]),t._v(" "),a("h2",{attrs:{id:"相关主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关主题"}},[t._v("#")]),t._v(" 相关主题")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/zh/enuls/accounts/"}},[t._v("帐户")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/enuls/evm/"}},[t._v("ENULS虚拟机 (EVM)")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/zh/enuls/gas/"}},[t._v("燃料")])],1)])],1)}),[],!1,null,null,null);a.default=r.exports}}]);