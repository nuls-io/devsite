(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{338:function(e,t,r){e.exports=r.p+"assets/img/modules.5667d6c6.png"},339:function(e,t,r){e.exports=r.p+"assets/img/module.84e040d4.png"},340:function(e,t,r){e.exports=r.p+"assets/img/mykernelstarted.cfb5fce2.png"},341:function(e,t,r){e.exports=r.p+"assets/img/ledger.d4383200.png"},342:function(e,t,r){e.exports=r.p+"assets/img/ledgerstart.e024f199.png"},343:function(e,t,r){e.exports=r.p+"assets/img/package.06d61e5f.png"},935:function(e,t,r){"use strict";r.r(t);var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"package-generation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package-generation","aria-hidden":"true"}},[this._v("#")]),this._v(" Package Generation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"essential-knowledge"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#essential-knowledge","aria-hidden":"true"}},[this._v("#")]),this._v(" Essential knowledge")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"get-the-program-source-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-the-program-source-code","aria-hidden":"true"}},[this._v("#")]),this._v(" Get the program source code")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"debugger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#debugger","aria-hidden":"true"}},[this._v("#")]),this._v(" Debugger")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(338),alt:"modules"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(339),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(340),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(341),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(342),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"generating-executable-packages"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generating-executable-packages","aria-hidden":"true"}},[this._v("#")]),this._v(" Generating executable packages")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("./package.sh -J /usr/local/java/jdk11.0.2 -o ../NULS2\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("img",{attrs:{src:r(343),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("Lijunzhou:nuls_2.0 zhoulijun$ ./package.sh -h\n     Desc: Use this script to generate an executable submodule that conforms to the NULSTAR specification.\n     All submodules are configured according to module.ncf, packaged with the mvn command, and generate start and stop scripts.\n     Usage: ./package.sh\n     -b <branch> Synchronize the latest code before packaging. Parameter is the remote branch name for synchronization.\n     -p Synchronize the latest code before packing. Pull from the master branch\n     -o <directory> specifies the output directory\n     -h View help\n     -j JAVA_HOME\n     -J outputs the jvm virtual machine directory, the script will copy this directory to the program dependencies\n     -i skip mvn package\n     -z generates a tarball\n     Author: zlj\n")])])])}],s=r(0),n=Object(s.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("The Nuls2 base module is developed using java11, which uses a distributed multi-module micro-service architecture, and uses websocket for communication between modules. However, there is no language requirement between modules. The language that can support the websocket protocol for network programming can be a module of NULS2, so you need to have a certain understanding of the websocket protocol.")]),e._v(" "),e._m(2),e._v(" "),r("p",[e._v("The source code for NULS2 is hosted on github.com and is freely available to anyone. Project address "),r("a",{attrs:{href:"https://github.com/nuls-io/nuls_2.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("nuls_2.0"),r("OutboundLink")],1),e._v(", see "),r("a",{attrs:{href:"https://git-scm.com/book/en/v2",target:"_blank",rel:"noopener noreferrer"}},[e._v("git"),r("OutboundLink")],1),e._v(" for how to get it.")]),e._v(" "),e._m(3),e._v(" "),r("p",[e._v("If you want to develop or debug the source code of NULS2, you need to prepare the development environment, install JDK11.0.2, apache maven 3.3, and a development tool. We recommend IntelliJ IDEA. After the development environment and source code are ready, import the program module in IDEA by importing the maven project.")]),e._v(" "),e._m(4),e._v(" "),r("p",[e._v("The module with the module.ncf file in the root directory of the module is defined as the nuls2 submodule, where mykernel is the core scheduling module, which is responsible for other submodule registration services. The startup class of each module is named XXXXBootstrap, and the main function of the startup class is used to start the module.")]),e._v(" "),e._m(5),e._v(" "),r("p",[e._v('In the development environment, you first need to start the mykernel module, and then start other modules, the dependencies between modules are automatically controlled by the framework. When the "MYKELNEL STARTED. PORT:8887" is printed in the log, the mykernel module is successfully started.')]),e._v(" "),e._m(6),e._v(" "),r("p",[e._v("Start other modules (take the ledger module as an example), find the LedgerBootstrap class, and run the main function.")]),e._v(" "),e._m(7),e._v(" "),r("p",[e._v('When the log prints "RMB:module state : Running", the module starts successfully.')]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),r("p",[e._v("Once you have the source code, you can generate your own scripts from the source code. Run the script package.sh in the nuls2.0 root directory to execute the automatic packager (the script needs to rely on jdk11, maven3.3, git).")]),e._v(" "),r("p",[e._v("Execute the packager and copy the JDK in the /usr/local/java/jdk11.0.2 directory to the runtime directory to the wallet directory. The wallet can run the program output to the relative directory of ../NULS2.")]),e._v(" "),e._m(10),r("p",[e._v("When the log outputs XXXX PACKAGE FINISH, the packager is successfully generated.")]),e._v(" "),e._m(11),e._v(" "),r("p",[e._v("More package.sh script parameters can be viewed with help in -h.")]),e._v(" "),e._m(12),r("p",[e._v("Please refer to the [Command Line User Manual] (/zh/NULS2.0/linuxTutorial.html) for how to use the wallet.")])])},a,!1,null,null,null);n.options.__file="packageGeneration.md";t.default=n.exports}}]);