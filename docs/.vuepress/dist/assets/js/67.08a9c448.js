(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{632:function(t,e,n){"use strict";n.r(e);var a=n(27),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"nuls2-0-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nuls2-0-api"}},[t._v("#")]),t._v(" NULS2.0 API")]),t._v(" "),e("p",[e("strong",[t._v("NULS customized the NULS2.0 wallet version required for docking. The docking wallet embeds the "),e("code",[t._v("NULS-API")]),t._v(" module. The module encapsulates the NULS-SDK function, uses the HTTP protocol to access the interface, and supports "),e("code",[t._v("JSON-RPC")]),t._v(" and "),e("code",[t._v("RESTful")]),t._v(" two formats.")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("mainnet and test wallet download address"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"http://nuls-cn.oss-cn-hangzhou.aliyuncs.com/2.1/NULS_API-offline_v2.0.0.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("NULS-API offline operation tool download address"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#settings"}},[t._v("#")]),t._v(" Settings")]),t._v(" "),e("p",[t._v("The default port number for the "),e("code",[t._v("NULS-API")]),t._v(" module is 18004, which can be modified in the nuls.ncf configuration file (for the entire wallet chainbox) or the module.ncf configuration file (for the individual module), as follows:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[nuls-API]\n#httpServerStart port\nserverPort=18004\n")])])]),e("h2",{attrs:{id:"description"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[t._v("#")]),t._v(" Description")]),t._v(" "),e("p",[t._v("In order to better understand the related business of NULS2.0, and the meaning of the return value of the interface, do some explanation here in advance.")]),t._v(" "),e("h3",{attrs:{id:"online-offline"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#online-offline"}},[t._v("#")]),t._v(" Online & Offline")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("nuls-api")]),t._v(" module provides several online and offline interfaces.")]),t._v(" "),e("p",[t._v("Online interface: The wallet must operate normally and be able to connect to other nodes in the network to properly synchronize blocks and broadcast data. Before calling the online interface, it is best to sync to the latest block. The data generated by the interface is saved in the wallet. For example, create an account, change a password, transfer money, get a block header, and so on.")]),t._v(" "),e("p",[t._v("Offline interface: NULS 2.0 provides a NULS-API "),e("a",{attrs:{href:"http://nuls-cn.oss-cn-hangzhou.aliyuncs.com/2.1/NULS_API-offline_v2.0.0.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("tool for offline operation"),e("OutboundLink")],1),t._v(" .No need to install a wallet, you can run independently on a server that is not connected to the network.The user receives the relevant parameters by calling the offline interface, and obtains the return value, and the corresponding data is not stored in the wallet.For example, creating an account offline, offline assembly transfer transactions, offline signatures, and the like.")]),t._v(" "),e("h4",{attrs:{id:"field-description"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#field-description"}},[t._v("#")]),t._v(" Field Description")]),t._v(" "),e("p",[e("strong",[t._v("chainId:")])]),t._v(" "),e("p",[t._v("NULS2.0 supports multi-chain parallel and cross-chain transfers. Each chain is distinguished by chain ID. The chain ID of NULS MainNet is 1, and that of NULS TestNet is 2.")]),t._v(" "),e("p",[e("strong",[t._v("Chain Assets:")])]),t._v(" "),e("p",[t._v("Besides the default asset, NULS2.0 supports the dynamic addition of assets to each chain according to business needs. Each asset in each chain is distinguished by a composit primary key of the chain ID and the asset ID. For example, NULS, the default asset of NULS MainNet, has the chainId = 1 and assetId = 1.")]),t._v(" "),e("p",[e("strong",[t._v("Transaction Type:")])]),t._v(" "),e("p",[t._v("NULS2.0 has multiple transactions with different functions by default. When calling the interface to query transaction details, different transaction types can be distinguished by the type field. The following are the enum values of the transaction type (txType):")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("int COIN_BASE = 1;\t\t\t\t\t\t//coinBase reward\nint TRANSFER = 2;\t\t\t\t\t\t//transfer\nint ACCOUNT_ALIAS = 3;\t\t\t\t\t//set account alias\nint REGISTER_AGENT = 4;\t\t\t\t\t//register consensus node\nint DEPOSIT = 5;\t\t\t\t\t\t//stake to join consensus\nint CANCEL_DEPOSIT = 6;\t\t\t\t\t//cancel staking\nint YELLOW_PUNISH = 7;\t\t\t\t\t//yellow card punishment\nint RED_PUNISH = 8;\t\t\t\t\t\t//red card punishment\nint STOP_AGENT = 9;\t\t\t\t\t\t//unregister consensus node\nint CROSS_CHAIN = 10;\t\t\t\t\t//cross-chain transfer\nint REGISTER_CHAIN_AND_ASSET = 11;\t\t//register chain\nint DESTROY_CHAIN_AND_ASSET = 12;\t\t//destroy chain\nint ADD_ASSET_TO_CHAIN = 13;\t\t\t//add asset to chain\nint REMOVE_ASSET_FROM_CHAIN = 14;\t\t//remove asset from chain\nint CREATE_CONTRACT = 15;\t\t\t\t//create contract\nint CALL_CONTRACT = 16;\t\t\t\t\t//call contract\nint DELETE_CONTRACT = 17;\t\t\t\t//delete contract\nint CONTRACT_TRANSFER = 18;\t\t\t\t//contract transfer\nint CONTRACT_RETURN_GAS = 19;\t\t\t//contract for returning fee\nint CONTRACT_CREATE_AGENT = 20;\t\t\t//contract for registering consensus node\nint CONTRACT_DEPOSIT = 21;\t\t\t\t//contract for staking to join consensus\nint CONTRACT_CANCEL_DEPOSIT = 22;\t\t//contract for canceling staking\nint CONTRACT_STOP_AGENT = 23;\t\t\t//contract for unregistering consensus node\nint VERIFIER_CHANGE = 24;\t\t\t\t// validator change\n")])])]),e("p",[e("strong",[t._v("from and to in transactionï¼š")])]),t._v(" "),e("p",[t._v("Take the transfer transaction as an example: tx.type = 2")]),t._v(" "),e("p",[t._v("From is the sender of the transfer transaction. Each from is regarded as the amount of assets transferred by a sender. The nonce changes after each transfer and the latest nonce can be obtained by calling the interface: get account balance.")]),t._v(" "),e("p",[t._v("To is the receiver of the transfer transaction. Each to is considered as the amount of assets that the recipient receives, and lockTime is the lock-in time. When the lockTime is greater than 0, it means that the asset can be usable only if the actual time exceeds this value; when lockTime = -1, it means that the asset is locked permanently and can be unlocked with special transactions, such as joining staking and canceling staking.")]),t._v(" "),e("p",[t._v("Transaction fees = sum of main assets of this chain in from - sum of main assets of this chain in to")]),t._v(" "),e("h2",{attrs:{id:"access-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#access-mode"}},[t._v("#")]),t._v(" Access Mode")]),t._v(" "),e("ul",[e("li",[e("strong",[e("code",[t._v("JSON-RPC")])])])]),t._v(" "),e("p",[t._v("Add request header:\nContent-Type: application/json;charset=UTF-8\nHttpMethod: POST\nURL: http://${ip}ðŸ˜’{port}/jsonrpc")]),t._v(" "),e("p",[t._v("For example: http://127.0.1:18004/jsonrpc")]),t._v(" "),e("p",[t._v("Request Format:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('```json\n\n{\n    "jsonrpc":"2.0",\n    "method":"methodCMD", //interface name\n    "params":[],  //all parameters of the interface passed in an array, and the order of parameters can not be changed. If the parameters are not required, you should also fill in null.\n    "id":1234\n}\n```\n')])])]),e("ul",[e("li",[e("strong",[e("code",[t._v("RESTFUL")])])])]),t._v(" "),e("p",[t._v("Add request header:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v("Content-Type: application/json;charset=UTF-8\n")])])]),e("p",[t._v("For the rest, please refer to "),e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/blob/master/module/nuls-api/documents/nuls-api_Postman_RESTFUL.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("RESTFUL API Documentation"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"api-documentation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-documentation"}},[t._v("#")]),t._v(" API Documentation")]),t._v(" "),e("p",[t._v("We provide two types of API, namely "),e("code",[t._v("JSON-RPC")]),t._v(" and "),e("code",[t._v("Restful")]),t._v(". Users can choose different docking methods according to their needs. Please see the interface documentation below for details:")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/blob/master/module/nuls-api/documents/nuls-api_JSONRPC.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-RPC API Documentation"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/blob/master/module/nuls-api/documents/nuls-api_Postman_RESTFUL.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("RESTFUL API Documentation"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("_ "),e("strong",[t._v("FYI:")]),t._v(" The official tool NULS-SDK-4J is available now, through which partners using JAVA can dock "),e("code",[t._v("NULS-SDK-Provider")]),t._v(" module, see: "),e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2-sdk4j/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("NULS-SDK-4J Instructions"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"api-debugging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-debugging"}},[t._v("#")]),t._v(" API Debugging")]),t._v(" "),e("p",[t._v("We provide the import files of ("),e("code",[t._v("JSON-RPC")]),t._v(" and "),e("code",[t._v("RESTFUL")]),t._v(") for "),e("code",[t._v("Postman")]),t._v(" interface debug tool. Users can debug interfaces with the corresponding file imported.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/blob/master/module/nuls-api/documents/nuls-api_Postman_JSONRPC.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSON-PRC API Debugging-POSTMAN Import File"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nuls-io/nuls-v2/blob/master/module/nuls-api/documents/nuls-api_Postman_RESTFUL.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("RESTFUL API Debugging-POSTMAN Import File"),e("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=s.exports}}]);