(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{613:function(t,_,v){t.exports=v.p+"assets/img/architecture.784f3b18.png"},614:function(t,_,v){t.exports=v.p+"assets/img/structure.2a58a4c4.png"},615:function(t,_,v){t.exports=v.p+"assets/img/chainRegister.9111e337.png"},616:function(t,_,v){t.exports=v.p+"assets/img/chainDestroy.013520b1.png"},617:function(t,_,v){t.exports=v.p+"assets/img/assetRegister.b72c7a79.png"},618:function(t,_,v){t.exports=v.p+"assets/img/assetDestroy.62602f22.png"},844:function(t,_,v){"use strict";v.r(_);var e=[function(){var t=this,_=t.$createElement,e=t._self._c||_;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"链管理模块设计文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#链管理模块设计文档","aria-hidden":"true"}},[t._v("#")]),t._v(" 链管理模块设计文档")]),t._v(" "),e("p",[t._v("[TOC]")]),t._v(" "),e("h2",{attrs:{id:"一、总体描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、总体描述","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、总体描述")]),t._v(" "),e("h3",{attrs:{id:"_1-1-模块概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-模块概述","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 模块概述")]),t._v(" "),e("h4",{attrs:{id:"_1-1-1-为什么要有《链管理》模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-为什么要有《链管理》模块","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.1 为什么要有《链管理》模块")]),t._v(" "),e("p",[t._v("在NULS 1.0中，只有一条链（NULS主网），因此不需要链管理模块。")]),t._v(" "),e("p",[t._v("在NULS 2.0中，NULS主网上可以注册其他友链信息，包括:")]),t._v(" "),e("ul",[e("li",[t._v("NULS生态圈中的链：与NULS主网使用同一套代码衍生出来。")]),t._v(" "),e("li",[t._v("其他链：比特币、以太坊等")])]),t._v(" "),e("p",[t._v("《链管理》模块用来管理所有加入NULS主网的友链的信息")]),t._v(" "),e("p",[t._v("名词解释：")]),t._v(" "),e("ul",[e("li",[t._v("NULS主网：不同于NULS 1.0，是独立运行的另一条链，也称之为NULS 2.0。\n《链管理》是NULS主网的其中一个模块")]),t._v(" "),e("li",[t._v("友链：在NULS主网上注册的其他链")])]),t._v(" "),e("p",[t._v("假设1：友链A，其拥有资产A")]),t._v(" "),e("p",[t._v("假设2：友链B，其拥有资产B")]),t._v(" "),e("ul",[e("li",[t._v("跨链交易：\n"),e("ul",[e("li",[t._v("友链A把资产A转到友链B")]),t._v(" "),e("li",[t._v("友链B内部转移资产A")]),t._v(" "),e("li",[t._v("友链B把资产A转回到友链A")]),t._v(" "),e("li",[t._v("友链B把资产A转到其他友链（C,D等）")])])]),t._v(" "),e("li",[t._v("非跨链交易：\n"),e("ul",[e("li",[t._v("友链A内部转移资产A")]),t._v(" "),e("li",[t._v("友链B内部转移资产B")])])])]),t._v(" "),e("p",[t._v("备注：不论链内资产，还是链外资产，只要资产跨链进行交易，就需要主网进行确认。")]),t._v(" "),e("h4",{attrs:{id:"_1-1-2-《链管理》要做什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-《链管理》要做什么","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.2 《链管理》要做什么")]),t._v(" "),e("p",[t._v("《链管理》模块用来管理加入NULS主网的链的基本信息，包括：")]),t._v(" "),e("ul",[e("li",[t._v("注册一条新的友链")]),t._v(" "),e("li",[t._v("销毁已经存在的友链")]),t._v(" "),e("li",[t._v("查询友链信息")]),t._v(" "),e("li",[t._v("特定友链增加资产类型")]),t._v(" "),e("li",[t._v("特定友链销毁资产类型")]),t._v(" "),e("li",[t._v("跨链资产校验")])]),t._v(" "),e("h4",{attrs:{id:"_1-1-3-《链管理》在系统中的定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-《链管理》在系统中的定位","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1.3 《链管理》在系统中的定位")]),t._v(" "),e("p",[t._v("《链管理》强依赖的模块：")]),t._v(" "),e("ul",[e("li",[t._v("核心模块")]),t._v(" "),e("li",[t._v("网络模块")]),t._v(" "),e("li",[t._v("交易管理模块")]),t._v(" "),e("li",[t._v("账本模块")])]),t._v(" "),e("p",[t._v("《链管理》弱依赖的模块：")]),t._v(" "),e("ul",[e("li",[t._v("事件总线模块")])]),t._v(" "),e("h3",{attrs:{id:"_1-2-模块内部架构图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-模块内部架构图","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2 模块内部架构图")]),t._v(" "),e("p",[e("img",{attrs:{src:v(613),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"二、功能设计"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、功能设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、功能设计")]),t._v(" "),e("h3",{attrs:{id:"_2-1-功能架构图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-功能架构图","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.1 功能架构图")]),t._v(" "),e("p",[e("img",{attrs:{src:v(614),alt:""}})]),t._v(" "),e("h3",{attrs:{id:"_2-2-模块服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-模块服务","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2 模块服务")]),t._v(" "),e("h4",{attrs:{id:"_2-2-1-注册一条新的友链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-注册一条新的友链","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.1 注册一条新的友链")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("NULS主网会提供一个入口（网页），可以通过这个入口注册新的友链到NULS主网。")]),t._v(" "),e("p",[t._v("注册一条友链必须含一个注册资产。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("p",[e("img",{attrs:{src:v(615),alt:""}})])])]),t._v(" "),e("p",[t._v("步骤描述：")]),t._v(" "),e("p",[t._v("1.用户通过终端注册登记链信息以及随链初始化的资产信息。")]),t._v(" "),e("p",[t._v("2.链管理模块进行链交易的封装发送给交易模块。期间需要通过账本模块获取账户余额及交易nonce值。")]),t._v(" "),e("p",[t._v("​      并且通过网络模块获取跨链的种子节点信息 返回给用户。")]),t._v(" "),e("p",[t._v("3.交易模块会在交易处理过程中进行数据校验的回调。")]),t._v(" "),e("p",[t._v("4.链管理模块通过 交易模块回调 “提交链注册交易”的接口 来进行注册数据提交。")]),t._v(" "),e("p",[t._v("5.链管理模块存储数据并将注册信息下发给网络模块。")]),t._v(" "),e("p",[t._v("6.注册链需要1000NULS，其中20%直接销毁，80%用于抵押，删除资产时退回。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        向链管理模块注册友链信息。")]),t._v(" "),e("p",[t._v("​        method : cm_chainReg")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "chainName": "nuls chain",\n        "addressType": "1",\n        "magicNumber":454546,\n        "supportInflowAsset":"1",\n        "minAvailableNodeNum":5,\n        "singleNodeMinConnectionNum":5,\n        "txConfirmedBlockNum":30,\n        "address":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "assetId":85,\n        "symbol":"NULS",\n        "assetName":"纳斯",\n        "initNumber":"1000000000",\n        "decimalPlaces":8,\n        "password":"xxxxxxxxxxxxx"\n        \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainName")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("链名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("addressType")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链上创建的账户的地址类型：1生态内 2非生态内")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("magicNumber")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("网络魔法参数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("minAvailableNodeNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("最小可用节点数量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("singleNodeConMinNodeNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("单节点连接最小数量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("txConfirmBlockNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("交易确认块数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("symbol")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产符号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetName")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("initNumber")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产初始值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("decimalPlaces")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("最小资产可分割位数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("address")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("私钥对应的密码")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n"seeds":"xxx.xxx.xxx.xxx:8001,xxx.xxx.xxx.xxx:8002"\n}\n\n')])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("seeds")]),t._v(" "),e("td",[t._v("String")]),t._v(" "),e("td",[t._v("种子节点")])])])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("网络管理模块")]),t._v(" "),e("li",[t._v("交易管理模块，发送交易")]),t._v(" "),e("li",[t._v("账本模块，获取账本信息")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-2-注销已经存在的友链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-注销已经存在的友链","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.2 注销已经存在的友链")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("NULS主网会提供一个入口（网页），可以通过这个入口注销已经存在的友链。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("p",[e("img",{attrs:{src:v(616),alt:""}})])])]),t._v(" "),e("ol",[e("li",[t._v("链是随资产而创建，所以注销链必须进行资产校验，只有删除最后一条资产，链才会随着一起注销。")])]),t._v(" "),e("p",[t._v("2.判断是否允许注销的条件：")]),t._v(" "),e("p",[t._v("​     资产与链存在。")]),t._v(" "),e("p",[t._v("​    随链只有最后一个资产。")]),t._v(" "),e("p",[t._v("​    链资产有n%资产在自有主链上。")]),t._v(" "),e("p",[t._v("3.链管理模块进行链交易的封装发送给交易模块。")]),t._v(" "),e("p",[t._v("​     期间需要通过账本模块获取账户余额及交易nonce值。")]),t._v(" "),e("p",[t._v("4.交易模块会在交易处理过程中进行数据校验的回调。")]),t._v(" "),e("p",[t._v("5.链管理模块通过 交易模块回调 “提交链注销交易”的接口 来进行注销数据提交。")]),t._v(" "),e("p",[t._v("6.链管理模块存储数据并将注册信息下发给网络模块。")]),t._v(" "),e("p",[t._v("7.删除链随注销的资产，将退回抵押押金的80%。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        向链管理模块注销友链信息（调用的是资产注销接口，因为链随最后资产一起注销）。")]),t._v(" "),e("p",[t._v("​        method : cm_assetDisable")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "assetId": 45,\n        "address":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "password":"xxxxxxxxxxxxx"\n        \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("address")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网账户地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("私钥对应的密码")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("网络管理模块")]),t._v(" "),e("li",[t._v("交易管理模块，发送交易")]),t._v(" "),e("li",[t._v("账本模块，校验账本信息")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-3-增加资产信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-增加资产信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.3  增加资产信息")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("NULS主网会提供一个入口（网页），可以通过这个入口选择链及登记注册资产。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")])])]),t._v(" "),e("p",[e("img",{attrs:{src:v(617),alt:""}})]),t._v(" "),e("p",[t._v("步骤描述：")]),t._v(" "),e("p",[t._v("1.用户通过终端选择链 及随链录入资产信息：判断资产是否重叠。")]),t._v(" "),e("p",[t._v("2.链管理模块进行链交易的封装发送给交易模块。")]),t._v(" "),e("p",[t._v("期间需要通过账本模块获取账户余额及交易nonce值。")]),t._v(" "),e("p",[t._v("3.交易模块会在交易处理过程中进行数据校验的回调。")]),t._v(" "),e("p",[t._v("4.链管理模块通过 交易模块回调 “提交资产注册交易”的接口 来进行注册数据提交。")]),t._v(" "),e("p",[t._v("5.注册资产收1000NULS，其中20%直接销毁，80%用于抵押，删除资产时退回。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        向链管理模块注册资产信息。")]),t._v(" "),e("p",[t._v("​        method : cm_assetReg")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "assetId":85,\n        "symbol":"NULS",\n        "assetName":"纳斯",\n        "initNumber":"1000000000",\n        "decimalPlaces":8,\n         "address":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "password":"xxxxxxxxxxxxx"\n        \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("symbol")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产符号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetName")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("initNumber")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产初始值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("decimalPlaces")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("最小资产可分割位数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("address")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("私钥对应的密码")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n")])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("交易管理模块，发送交易")]),t._v(" "),e("li",[t._v("账本模块，获取账本信息")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-4-特定友链删除资产类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-特定友链删除资产类型","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.4 特定友链删除资产类型")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("NULS主网会提供一个入口（网页），可以通过这个入口对指定友链销毁资产。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("p",[e("img",{attrs:{src:v(618),alt:""}})]),t._v(" "),e("ol",[e("li",[e("p",[t._v("连下注册有多个资产时，单资产允许注销，如果只有一个资产，则资产随链一起注销。")]),t._v(" "),e("p",[t._v("2.判断是否允许注销的条件：")])])]),t._v(" "),e("p",[t._v("​    连下存在多个资产。")]),t._v(" "),e("p",[t._v("​    链资产有n%资产在自有主链上。")]),t._v(" "),e("p",[t._v("3.链管理模块进行链交易的封装发送给交易模块。")]),t._v(" "),e("p",[t._v("​     期间需要通过账本模块获取账户余额及交易nonce值。")]),t._v(" "),e("p",[t._v("4.交易模块会在交易处理过程中进行数据校验的回调。")]),t._v(" "),e("p",[t._v("5.链管理模块通过 交易模块回调 “提交链注销交易”的接口 来进行注销数据提交。")]),t._v(" "),e("p",[t._v("6.注销资产将退回抵押押金的80%。")])]),t._v(" "),e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        向链管理模块注销资产信息。")]),t._v(" "),e("p",[t._v("​        method : cm_assetDisable")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "assetId": 45,\n        "address":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "password":"xxxxxxxxxxxxx"\n        \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("address")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网账户地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("私钥对应的密码")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("交易管理模块，发送交易")]),t._v(" "),e("li",[t._v("账本模块，校验账本信息")])])])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-5-跨链交易的链资产校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5-跨链交易的链资产校验","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.5 跨链交易的链资产校验")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("交易模块在产生一笔跨链交易时，调用该接口进行跨链资产的校验。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("ol",[e("li",[t._v("校验链及资产是否在跨链模块正常注册")]),t._v(" "),e("li",[t._v("校验链上资产金额是否透支。")]),t._v(" "),e("li",[t._v("校验资产状态是否正常。")])])]),t._v(" "),e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​       跨链资产流通时，向链管理提交校验")]),t._v(" "),e("p",[t._v("​        method : cm_assetCirculateValidator")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "coinDatas": "FFAABB214324"       \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("coinDatas")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",[t._v("交易coindata的HEX值")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("交易管理模块，跨链交易校验调用")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-6-跨链交易的链资产提交"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-6-跨链交易的链资产提交","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.6  跨链交易的链资产提交")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("交易模块在产生一笔跨链交易，并校验通过时，调用该接口进行跨链资产的提交。")]),t._v(" "),e("p",[t._v("用于变更链资产，并用于链资产的管理。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("ol",[e("li",[t._v("直接调用cm_assetCirculateCommit 接口")])])]),t._v(" "),e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​       跨链资产流通时，校验通过并且确认可提交时，可向链管理提交该笔交易")]),t._v(" "),e("p",[t._v("​        method : cm_assetCirculateCommit")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "coinDatas": "FFAABB214324"       \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("coinDatas")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),t._v(" "),e("td",[t._v("交易coindata的HEX值")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("parameter")]),t._v(" "),e("th",[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td")])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("交易管理模块，跨链交易调用")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-7-链管理交易处理函数的注册"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-7-链管理交易处理函数的注册","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.7 链管理交易处理函数的注册")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("在模块启动时，需要进行交易回调函数的注册，以便交易模块在进行相关类型交易处理时，进行回调处理。")]),t._v(" "),e("p",[t._v("注册函数分为4类：1>交易校验  2>交易提交 3>交易回滚 4>一个区块内的模块批量交易校验")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")]),t._v(" "),e("ol",[e("li",[t._v("链管理模块启动")]),t._v(" "),e("li",[t._v("判断交易模块RPC调用状态是否可访问")]),t._v(" "),e("li",[t._v("提交回调接口")])])]),t._v(" "),e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("p",[t._v("参看 交易模块 设计文档中的 “注册交易” 部分")])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("ul",[e("li",[t._v("交易管理模块")])])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-8-查询链信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-8-查询链信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.8  查询链信息")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("查询注册链信息")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")])])]),t._v(" "),e("p",[t._v("​        无")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        查询注册友链信息。")]),t._v(" "),e("p",[t._v("​        method : cm_chain")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n   "chainId":4545 \n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "chainName": "nuls chain",\n        "addressType": 1,\n        "magicNumber":454546,\n        "supportInflowAsset":"1",\n        "minAvailableNodeNum":5,\n        "singleNodeMinConnectionNum":5,\n        "txConfirmedBlockNum":30,\n        "regAddress":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "regTxHash":"FFFFF", \n        "selfAssetKeyList":["1232_32","528_8"],\n        "totalAssetKeyList":["1232_32","528_8"],\n        "createTime":1212131\n}\n')])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainName")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("链名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("addressType")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链上创建的账户的地址类型：1生态内 2非生态内")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("magicNumber")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("网络魔法参数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("minAvailableNodeNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("最小可用节点数量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("singleNodeConMinNodeNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("单节点连接最小数量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("txConfirmBlockNum")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("交易确认块数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("regTxHash")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("交易hash")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("regAddress")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("selfAssetKeyList")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("list")]),t._v(" "),e("td",[t._v("链下注册的资产列表，由chainId_assetId 组合的资产key值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("totalAssetKeyList")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("list")]),t._v(" "),e("td",[t._v("链下流通的资产列表，由chainId_assetId 组合的资产key值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("createTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("long")]),t._v(" "),e("td",[t._v("创建时间")])])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("p",[t._v("无")])])]),t._v(" "),e("h4",{attrs:{id:"_2-2-9-查询链下资产信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-9-查询链下资产信息","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.2.9  查询链下资产信息")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("功能说明：")]),t._v(" "),e("p",[t._v("查询某链资产信息。")])]),t._v(" "),e("li",[e("p",[t._v("流程描述")])])]),t._v(" "),e("p",[t._v("​        无")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("接口定义")]),t._v(" "),e("ul",[e("li",[t._v("接口说明")])]),t._v(" "),e("p",[t._v("​        向链管理模块查询某资产信息。")]),t._v(" "),e("p",[t._v("​        method : cm_asset")]),t._v(" "),e("ul",[e("li",[t._v("请求示例")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n   "chainId":4545， \n   "assetId":45\n}\n')])])]),e("ul",[e("li",[t._v("请求参数说明")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("required")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("资产id")])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("返回示例")]),t._v(" "),e("p",[t._v("Failed")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("统一RPC标准格式\n\n")])])]),e("p",[t._v("Success")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\n        "chainId": 152,\n        "assetId":85,\n        "symbol":"NULS",\n        "assetName":"纳斯",\n        "initNumber":"1000000000",\n        "decimalPlaces":8,\n        "address":"NsdxSexqXF4eVXkcGLPpZCPKo92A8xpp",\n        "txHash":"xxxxxxxxxxxxx",\n        "createTime":125848\n        }\n')])])])]),t._v(" "),e("li",[e("p",[t._v("返回字段说明")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("parameter")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("type")]),t._v(" "),e("th",[t._v("description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("chainId")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("链标识")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("symbol")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产符号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("assetName")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("initNumber")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("资产初始值")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("decimalPlaces")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("int")]),t._v(" "),e("td",[t._v("最小资产可分割位数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("address")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("创建链的主网地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("txHash")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("string")]),t._v(" "),e("td",[t._v("交易hash")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("createTime")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("long")]),t._v(" "),e("td",[t._v("创建时间")])])])])]),t._v(" "),e("li",[e("p",[t._v("依赖服务")]),t._v(" "),e("p",[t._v("无")])])]),t._v(" "),e("h2",{attrs:{id:"_3、事件说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、事件说明","aria-hidden":"true"}},[t._v("#")]),t._v(" 3、事件说明")]),t._v(" "),e("ul",[e("li",[t._v("链注册事件")]),t._v(" "),e("li",[t._v("链注销事件")]),t._v(" "),e("li",[t._v("新增资产事件")]),t._v(" "),e("li",[t._v("注销资产事件")])]),t._v(" "),e("h2",{attrs:{id:"_4、协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、协议","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、协议")]),t._v(" "),e("h3",{attrs:{id:"_4-1-网络通讯协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-网络通讯协议","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.1 网络通讯协议")]),t._v(" "),e("h4",{attrs:{id:"_4-1-1-向友链请求获取发行的资产总量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-向友链请求获取发行的资产总量","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.1.1 向友链请求获取发行的资产总量")]),t._v(" "),e("ul",[e("li",[t._v("消息说明：定期链管理向友链发起发行资产总量数据请求消息。")]),t._v(" "),e("li",[t._v("cmd：requestAssetAmount")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Length")]),t._v(" "),e("th",[t._v("Fields")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Remark")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("chainId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("链Id")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("assetId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",[t._v("4")]),t._v(" "),e("td",[t._v("randomCode")]),t._v(" "),e("td",[t._v("uint32")]),t._v(" "),e("td",[t._v("随机数")])])])]),t._v(" "),e("h4",{attrs:{id:"_4-1-1-接收友链回复的资产总量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-接收友链回复的资产总量","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.1.1 接收友链回复的资产总量")]),t._v(" "),e("ul",[e("li",[t._v("消息说明：接收到友链对资产的回复。")]),t._v(" "),e("li",[t._v("cmd：responseAssetAmount")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Length")]),t._v(" "),e("th",[t._v("Fields")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Remark")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("chainId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("链Id")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("assetId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",[t._v("48")]),t._v(" "),e("td",[t._v("amount")]),t._v(" "),e("td",[t._v("biginteger")]),t._v(" "),e("td",[t._v("资产总量")])]),t._v(" "),e("tr",[e("td",[t._v("4")]),t._v(" "),e("td",[t._v("randomCode")]),t._v(" "),e("td",[t._v("uint32")]),t._v(" "),e("td",[t._v("随机数")])])])]),t._v(" "),e("h3",{attrs:{id:"_4-2-交易协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-交易协议","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2 交易协议")]),t._v(" "),e("h5",{attrs:{id:"_4-2-1-注册一条新的友链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-注册一条新的友链","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2.1 注册一条新的友链")]),t._v(" "),e("p",[t._v("与通用交易相比，只有类型和txData有区别，具体区别如下")]),t._v(" "),e("p",[t._v("交易类型定义：10101")]),t._v(" "),e("p",[t._v("txData定义")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Length")]),t._v(" "),e("th",[t._v("Fields")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Remark")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("chainId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("链Id")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("name")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("链名称")])]),t._v(" "),e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("addressType")]),t._v(" "),e("td",[t._v("uint8")]),t._v(" "),e("td",[t._v("地址类型")])]),t._v(" "),e("tr",[e("td",[t._v("4")]),t._v(" "),e("td",[t._v("magicNumber")]),t._v(" "),e("td",[t._v("uint32")]),t._v(" "),e("td",[t._v("魔法参数")])]),t._v(" "),e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("supportInflowAsset")]),t._v(" "),e("td",[t._v("uint8")]),t._v(" "),e("td",[t._v("是否支出资产流入")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("minAvailableNodeNum")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("最小可用节点数")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("singleNodeMinConnectionNum")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("单节点最小连接数")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("address")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("账户地址")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("assetId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("symbol")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("单位")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("assetName")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("资产名称")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("depositNuls")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("抵押NULS数量")])]),t._v(" "),e("tr",[e("td",[t._v("48")]),t._v(" "),e("td",[t._v("initNumber")]),t._v(" "),e("td",[t._v("Biginteger")]),t._v(" "),e("td",[t._v("资产初始数量")])]),t._v(" "),e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("decimalPlaces")]),t._v(" "),e("td",[t._v("uint8")]),t._v(" "),e("td",[t._v("资产最小分割位数")])])])]),t._v(" "),e("h5",{attrs:{id:"_4-2-2-注销已经存在的友链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-注销已经存在的友链","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2.2 注销已经存在的友链")]),t._v(" "),e("p",[t._v("与通用交易相比，只有类型和txData有区别，具体区别如下")]),t._v(" "),e("p",[t._v("交易类型定义：10102")]),t._v(" "),e("p",[t._v("txData定义：同4.2.1 链注册交易")]),t._v(" "),e("h5",{attrs:{id:"_4-2-3-新增友链资产"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-新增友链资产","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2.3 新增友链资产")]),t._v(" "),e("p",[t._v("与通用交易相比，只有类型和txData有区别，具体区别如下")]),t._v(" "),e("p",[t._v("交易类型定义：10103")]),t._v(" "),e("p",[t._v("txData定义：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Length")]),t._v(" "),e("th",[t._v("Fields")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Remark")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("chainId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("链Id")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("assetId")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("资产id")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("symbol")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("单位")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("assetName")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("资产名称")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("depositNuls")]),t._v(" "),e("td",[t._v("uint16")]),t._v(" "),e("td",[t._v("抵押NULS数量")])]),t._v(" "),e("tr",[e("td",[t._v("48")]),t._v(" "),e("td",[t._v("initNumber")]),t._v(" "),e("td",[t._v("Biginteger")]),t._v(" "),e("td",[t._v("资产初始数量")])]),t._v(" "),e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("decimalPlaces")]),t._v(" "),e("td",[t._v("uint8")]),t._v(" "),e("td",[t._v("资产最小分割位数")])]),t._v(" "),e("tr",[e("td",[t._v("？")]),t._v(" "),e("td",[t._v("address")]),t._v(" "),e("td",[t._v("byte[]")]),t._v(" "),e("td",[t._v("账户地址")])])])]),t._v(" "),e("h5",{attrs:{id:"_4-2-2-注销已经存在的资产"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-注销已经存在的资产","aria-hidden":"true"}},[t._v("#")]),t._v(" 4.2.2 注销已经存在的资产")]),t._v(" "),e("p",[t._v("与通用交易相比，只有类型和txData有区别，具体区别如下")]),t._v(" "),e("p",[t._v("交易类型定义：10104")]),t._v(" "),e("p",[t._v("txData定义：同4.2.3 资产新增交易")]),t._v(" "),e("h2",{attrs:{id:"六、模块配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六、模块配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 六、模块配置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[system]\nlanguage = en\nencoding = UTF-8\n\n[db]\nrocksdb.datapath = ../data\n\n[param]\nasset_symbol_max = 5\nasset_name_max = 20\nasset_depositNuls = 200000\nasset_depositNuls_destroy_rate = 0.2\nasset_depositNuls_lock_rate = 0.8\nasset_initNumber_min = 10000\nasset_initNumber_max = 100000000\nasset_decimalPlaces_min = 4\nasset_decimalPlaces_max = 8\nasset_recovery_rate = 0.9\n\n[defaultAsset]\nnuls_chain_id = 8964\nnuls_chain_name = nuls chain\nnuls_asset_id = 1\nnuls_asset_initNumber_max = 100000000\nnuls_asset_symbol = NULS\n")])])]),e("h2",{attrs:{id:"七、java特有的设计"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七、java特有的设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 七、Java特有的设计")]),t._v(" "),e("h2",{attrs:{id:"八、补充内容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#八、补充内容","aria-hidden":"true"}},[t._v("#")]),t._v(" 八、补充内容")])])}],a=v(0),l=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);l.options.__file="chainModuleDesign.md";_.default=l.exports}}]);