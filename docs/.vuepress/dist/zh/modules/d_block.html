<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŒºå—ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£ | æ–‡æ¡£</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="å…¨çƒAIæ¶ˆè´¹å±‚ - NULS AI åŒºå—é“¾æ–‡æ¡£">
    <meta name="theme-color" content="#A8D5FF">
    
    <link rel="preload" href="/assets/css/0.styles.c0387eb2.css" as="style"><link rel="preload" href="/assets/js/app.0bafe896.js" as="script"><link rel="preload" href="/assets/js/2.6c3a80b8.js" as="script"><link rel="preload" href="/assets/js/1.22a4e5b0.js" as="script"><link rel="preload" href="/assets/js/23.18ea5f72.js" as="script"><link rel="prefetch" href="/assets/js/10.18a9796f.js"><link rel="prefetch" href="/assets/js/100.c6dcc4ee.js"><link rel="prefetch" href="/assets/js/101.7d7ebb68.js"><link rel="prefetch" href="/assets/js/102.58666c13.js"><link rel="prefetch" href="/assets/js/103.b682e489.js"><link rel="prefetch" href="/assets/js/104.24bacb02.js"><link rel="prefetch" href="/assets/js/105.3743813e.js"><link rel="prefetch" href="/assets/js/106.73fa77cb.js"><link rel="prefetch" href="/assets/js/107.f42da1f4.js"><link rel="prefetch" href="/assets/js/108.0282c3bd.js"><link rel="prefetch" href="/assets/js/109.ab04f47a.js"><link rel="prefetch" href="/assets/js/11.cb4cdfd8.js"><link rel="prefetch" href="/assets/js/110.a7414102.js"><link rel="prefetch" href="/assets/js/111.c99ec821.js"><link rel="prefetch" href="/assets/js/112.edf30d53.js"><link rel="prefetch" href="/assets/js/113.437a657d.js"><link rel="prefetch" href="/assets/js/114.ca376ebb.js"><link rel="prefetch" href="/assets/js/115.411f17d8.js"><link rel="prefetch" href="/assets/js/116.0be2757f.js"><link rel="prefetch" href="/assets/js/117.ed69432a.js"><link rel="prefetch" href="/assets/js/118.4f7585a0.js"><link rel="prefetch" href="/assets/js/119.bc60f714.js"><link rel="prefetch" href="/assets/js/12.e402ed1a.js"><link rel="prefetch" href="/assets/js/120.79d9e821.js"><link rel="prefetch" href="/assets/js/121.13efa6ca.js"><link rel="prefetch" href="/assets/js/122.767a3b55.js"><link rel="prefetch" href="/assets/js/123.8fe931f3.js"><link rel="prefetch" href="/assets/js/124.6adbbadd.js"><link rel="prefetch" href="/assets/js/125.626cef62.js"><link rel="prefetch" href="/assets/js/126.3dda9445.js"><link rel="prefetch" href="/assets/js/127.d62c90cb.js"><link rel="prefetch" href="/assets/js/128.c961670a.js"><link rel="prefetch" href="/assets/js/129.04de186a.js"><link rel="prefetch" href="/assets/js/13.847fb38c.js"><link rel="prefetch" href="/assets/js/130.e922ba04.js"><link rel="prefetch" href="/assets/js/131.e463809b.js"><link rel="prefetch" href="/assets/js/132.ddd02961.js"><link rel="prefetch" href="/assets/js/133.c0020aa7.js"><link rel="prefetch" href="/assets/js/134.a3f3bb32.js"><link rel="prefetch" href="/assets/js/135.8e4807f7.js"><link rel="prefetch" href="/assets/js/136.5cc7c540.js"><link rel="prefetch" href="/assets/js/137.9353bd9b.js"><link rel="prefetch" href="/assets/js/138.5e65b123.js"><link rel="prefetch" href="/assets/js/139.bdd7d1bc.js"><link rel="prefetch" href="/assets/js/14.0ebe191f.js"><link rel="prefetch" href="/assets/js/140.baee8264.js"><link rel="prefetch" href="/assets/js/141.cab83fae.js"><link rel="prefetch" href="/assets/js/142.2fccba43.js"><link rel="prefetch" href="/assets/js/143.6523903e.js"><link rel="prefetch" href="/assets/js/144.01c779f4.js"><link rel="prefetch" href="/assets/js/145.2017a624.js"><link rel="prefetch" href="/assets/js/146.d1de5a16.js"><link rel="prefetch" href="/assets/js/147.3b9d5abc.js"><link rel="prefetch" href="/assets/js/148.78a96ee0.js"><link rel="prefetch" href="/assets/js/149.ccd1442e.js"><link rel="prefetch" href="/assets/js/15.5ecc9329.js"><link rel="prefetch" href="/assets/js/150.c65eee6a.js"><link rel="prefetch" href="/assets/js/151.75a1e1d9.js"><link rel="prefetch" href="/assets/js/152.604fb4c8.js"><link rel="prefetch" href="/assets/js/153.93cfc5c0.js"><link rel="prefetch" href="/assets/js/154.d99114ee.js"><link rel="prefetch" href="/assets/js/155.168bfbc5.js"><link rel="prefetch" href="/assets/js/156.8b012700.js"><link rel="prefetch" href="/assets/js/157.3bd2e91d.js"><link rel="prefetch" href="/assets/js/158.041258e2.js"><link rel="prefetch" href="/assets/js/159.95e86c15.js"><link rel="prefetch" href="/assets/js/16.8d31e076.js"><link rel="prefetch" href="/assets/js/160.87143748.js"><link rel="prefetch" href="/assets/js/161.8593a3b4.js"><link rel="prefetch" href="/assets/js/162.b395549c.js"><link rel="prefetch" href="/assets/js/163.a2aa4a1d.js"><link rel="prefetch" href="/assets/js/17.4840b3c9.js"><link rel="prefetch" href="/assets/js/18.cefe558e.js"><link rel="prefetch" href="/assets/js/19.8e262afc.js"><link rel="prefetch" href="/assets/js/20.adeac68c.js"><link rel="prefetch" href="/assets/js/21.77d8c04a.js"><link rel="prefetch" href="/assets/js/22.a9f26a79.js"><link rel="prefetch" href="/assets/js/24.cd796014.js"><link rel="prefetch" href="/assets/js/25.fb08cb66.js"><link rel="prefetch" href="/assets/js/26.5c949c09.js"><link rel="prefetch" href="/assets/js/27.2a2d4831.js"><link rel="prefetch" href="/assets/js/28.e0e4c4fb.js"><link rel="prefetch" href="/assets/js/29.b7521a49.js"><link rel="prefetch" href="/assets/js/3.e8b17741.js"><link rel="prefetch" href="/assets/js/30.ab6b748a.js"><link rel="prefetch" href="/assets/js/31.60464bb8.js"><link rel="prefetch" href="/assets/js/32.c95faf86.js"><link rel="prefetch" href="/assets/js/33.7d9d7a3b.js"><link rel="prefetch" href="/assets/js/34.26b92d69.js"><link rel="prefetch" href="/assets/js/35.1eeee0af.js"><link rel="prefetch" href="/assets/js/36.1c7f3048.js"><link rel="prefetch" href="/assets/js/37.9471e7bd.js"><link rel="prefetch" href="/assets/js/38.ec9abedd.js"><link rel="prefetch" href="/assets/js/39.f36e5ab8.js"><link rel="prefetch" href="/assets/js/4.8d532655.js"><link rel="prefetch" href="/assets/js/40.1ea1a444.js"><link rel="prefetch" href="/assets/js/41.8b5b74dd.js"><link rel="prefetch" href="/assets/js/42.04a077c1.js"><link rel="prefetch" href="/assets/js/43.0fe4c703.js"><link rel="prefetch" href="/assets/js/44.b935d6b9.js"><link rel="prefetch" href="/assets/js/45.2b7f5a17.js"><link rel="prefetch" href="/assets/js/46.8bc06ce9.js"><link rel="prefetch" href="/assets/js/47.82a83e28.js"><link rel="prefetch" href="/assets/js/48.6c0f32dd.js"><link rel="prefetch" href="/assets/js/49.029c21dc.js"><link rel="prefetch" href="/assets/js/5.99605394.js"><link rel="prefetch" href="/assets/js/50.e16baf5e.js"><link rel="prefetch" href="/assets/js/51.12ad3e3f.js"><link rel="prefetch" href="/assets/js/52.1ec26d8c.js"><link rel="prefetch" href="/assets/js/53.45cddd06.js"><link rel="prefetch" href="/assets/js/54.2108b43b.js"><link rel="prefetch" href="/assets/js/55.c08c272e.js"><link rel="prefetch" href="/assets/js/56.3bad307d.js"><link rel="prefetch" href="/assets/js/57.867e7ecf.js"><link rel="prefetch" href="/assets/js/58.bf774815.js"><link rel="prefetch" href="/assets/js/59.b8abadae.js"><link rel="prefetch" href="/assets/js/6.290b516c.js"><link rel="prefetch" href="/assets/js/60.61acacb6.js"><link rel="prefetch" href="/assets/js/61.81b74b64.js"><link rel="prefetch" href="/assets/js/62.264c985a.js"><link rel="prefetch" href="/assets/js/63.da901bb6.js"><link rel="prefetch" href="/assets/js/64.dbfc6dec.js"><link rel="prefetch" href="/assets/js/65.5a7bd5da.js"><link rel="prefetch" href="/assets/js/66.d7ebc9ac.js"><link rel="prefetch" href="/assets/js/67.08a9c448.js"><link rel="prefetch" href="/assets/js/68.50931544.js"><link rel="prefetch" href="/assets/js/69.e1c822fc.js"><link rel="prefetch" href="/assets/js/7.bfe2d576.js"><link rel="prefetch" href="/assets/js/70.640a1bf0.js"><link rel="prefetch" href="/assets/js/71.b22c16f7.js"><link rel="prefetch" href="/assets/js/72.bcdbc9a2.js"><link rel="prefetch" href="/assets/js/73.232c9381.js"><link rel="prefetch" href="/assets/js/74.8dd848c9.js"><link rel="prefetch" href="/assets/js/75.5b39d848.js"><link rel="prefetch" href="/assets/js/76.339f1901.js"><link rel="prefetch" href="/assets/js/77.fd812ad4.js"><link rel="prefetch" href="/assets/js/78.59c9582b.js"><link rel="prefetch" href="/assets/js/79.b4588cba.js"><link rel="prefetch" href="/assets/js/80.d20b7f7f.js"><link rel="prefetch" href="/assets/js/81.0de2e426.js"><link rel="prefetch" href="/assets/js/82.8fa26f1a.js"><link rel="prefetch" href="/assets/js/83.8cbb912a.js"><link rel="prefetch" href="/assets/js/84.a1b83b1c.js"><link rel="prefetch" href="/assets/js/85.4237db2a.js"><link rel="prefetch" href="/assets/js/86.4b6842e9.js"><link rel="prefetch" href="/assets/js/87.0290cd66.js"><link rel="prefetch" href="/assets/js/88.ad25d269.js"><link rel="prefetch" href="/assets/js/89.e34aa4b2.js"><link rel="prefetch" href="/assets/js/90.b9ad822e.js"><link rel="prefetch" href="/assets/js/91.4d2cd6d0.js"><link rel="prefetch" href="/assets/js/92.321d2cde.js"><link rel="prefetch" href="/assets/js/93.cec650ad.js"><link rel="prefetch" href="/assets/js/94.732e613a.js"><link rel="prefetch" href="/assets/js/95.b93723c8.js"><link rel="prefetch" href="/assets/js/96.c9532164.js"><link rel="prefetch" href="/assets/js/97.23e04641.js"><link rel="prefetch" href="/assets/js/98.c5b31a70.js"><link rel="prefetch" href="/assets/js/99.d3eae370.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.811c81b7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0387eb2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><img src="/logo.svg" alt="æ–‡æ¡£" class="logo"> <span class="site-name can-hide">æ–‡æ¡£</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/user-guide/" class="nav-link">
  ç”¨æˆ·æŒ‡å—
</a></div><div class="nav-item"><a href="/zh/chain-api/" class="nav-link">
  APIæ¥å£
</a></div><div class="nav-item"><a href="/zh/dapp-builder/" class="nav-link">
  DAppå¼€å‘
</a></div><div class="nav-item"><a href="/zh/chain-builder/" class="nav-link">
  æ„å»ºé“¾
</a></div><div class="nav-item"><a href="/zh/modules/" class="nav-link router-link-active">
  æ¨¡å—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/modules/d_block.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/modules/d_block.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ä¸­æ–‡
</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/user-guide/" class="nav-link">
  ç”¨æˆ·æŒ‡å—
</a></div><div class="nav-item"><a href="/zh/chain-api/" class="nav-link">
  APIæ¥å£
</a></div><div class="nav-item"><a href="/zh/dapp-builder/" class="nav-link">
  DAppå¼€å‘
</a></div><div class="nav-item"><a href="/zh/chain-builder/" class="nav-link">
  æ„å»ºé“¾
</a></div><div class="nav-item"><a href="/zh/modules/" class="nav-link router-link-active">
  æ¨¡å—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">é€‰æ‹©è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/modules/d_block.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/modules/d_block.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  ä¸­æ–‡
</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>âš™ï¸ æ ¸å¿ƒæ¨¡å—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/modules/" aria-current="page" class="sidebar-link">âš™ï¸ æ ¸å¿ƒæ¨¡å—</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>ğŸ—ï¸ è®¾è®¡æ–‡æ¡£</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/modules/d_account.html" class="sidebar-link">è´¦æˆ·æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_address.html" class="sidebar-link">NULS Protocol Address</a></li><li><a href="/zh/modules/d_block.html" aria-current="page" class="active sidebar-link">åŒºå—ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#ä¸€ã€æ€»ä½“æè¿°" class="sidebar-link">ä¸€ã€æ€»ä½“æè¿°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_1-1-æ¨¡å—æ¦‚è¿°" class="sidebar-link">1.1 æ¨¡å—æ¦‚è¿°</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_1-2-æ¶æ„å›¾" class="sidebar-link">1.2 æ¶æ„å›¾</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#äºŒã€åŠŸèƒ½è®¾è®¡" class="sidebar-link">äºŒã€åŠŸèƒ½è®¾è®¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_2-1-åŠŸèƒ½æ¶æ„å›¾" class="sidebar-link">2.1 åŠŸèƒ½æ¶æ„å›¾</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_2-2-æ¨¡å—æœåŠ¡" class="sidebar-link">2.2 æ¨¡å—æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_2-3-æ¨¡å—å†…éƒ¨åŠŸèƒ½" class="sidebar-link">2.3 æ¨¡å—å†…éƒ¨åŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#ä¸‰ã€äº‹ä»¶è¯´æ˜" class="sidebar-link">ä¸‰ã€äº‹ä»¶è¯´æ˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_3-1-å‘å¸ƒçš„äº‹ä»¶" class="sidebar-link">3.1 å‘å¸ƒçš„äº‹ä»¶</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_3-2-è®¢é˜…çš„äº‹ä»¶" class="sidebar-link">3.2 è®¢é˜…çš„äº‹ä»¶</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#å››ã€åè®®" class="sidebar-link">å››ã€åè®®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_4-1-ç½‘ç»œé€šè®¯åè®®" class="sidebar-link">4.1 ç½‘ç»œé€šè®¯åè®®</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#_4-2-æ¶ˆæ¯åè®®" class="sidebar-link">4.2 æ¶ˆæ¯åè®®</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#äº”ã€æ¨¡å—é…ç½®" class="sidebar-link">äº”ã€æ¨¡å—é…ç½®</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#å…­ã€javaç‰¹æœ‰çš„è®¾è®¡" class="sidebar-link">å…­ã€Javaç‰¹æœ‰çš„è®¾è®¡</a></li><li class="sidebar-sub-header"><a href="/zh/modules/d_block.html#ä¸ƒã€è¡¥å……å†…å®¹" class="sidebar-link">ä¸ƒã€è¡¥å……å†…å®¹</a></li></ul></li><li><a href="/zh/modules/d_chain_manager.html" class="sidebar-link">é“¾ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_consensus.html" class="sidebar-link">å…±è¯†æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_cross_chain.html" class="sidebar-link">è·¨é“¾æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_ledger.html" class="sidebar-link">è´¦æœ¬æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_network.html" class="sidebar-link">ç½‘ç»œæ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_protocol_update.html" class="sidebar-link">åè®®å‡çº§æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_public_service.html" class="sidebar-link">public-serviceæ¨¡å—è®¾è®¡æ–‡æ¡£</a></li><li><a href="/zh/modules/d_smart_contract.html" class="sidebar-link">æ™ºèƒ½åˆçº¦æ¨¡å—è®¾è®¡</a></li><li><a href="/zh/modules/d_transaction.html" class="sidebar-link">äº¤æ˜“ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ğŸ“‹ å®ç°æŒ‡å—</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>ğŸ”§ ç³»ç»Ÿå·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="åŒºå—ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£"><a href="#åŒºå—ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£" class="header-anchor">#</a> åŒºå—ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£</h1> <h2 id="ä¸€ã€æ€»ä½“æè¿°"><a href="#ä¸€ã€æ€»ä½“æè¿°" class="header-anchor">#</a> ä¸€ã€æ€»ä½“æè¿°</h2> <h3 id="_1-1-æ¨¡å—æ¦‚è¿°"><a href="#_1-1-æ¨¡å—æ¦‚è¿°" class="header-anchor">#</a> 1.1 æ¨¡å—æ¦‚è¿°</h3> <h4 id="_1-1-1-ä¸ºä»€ä¹ˆè¦æœ‰ã€ŠåŒºå—ç®¡ç†ã€‹æ¨¡å—"><a href="#_1-1-1-ä¸ºä»€ä¹ˆè¦æœ‰ã€ŠåŒºå—ç®¡ç†ã€‹æ¨¡å—" class="header-anchor">#</a> 1.1.1 ä¸ºä»€ä¹ˆè¦æœ‰ã€ŠåŒºå—ç®¡ç†ã€‹æ¨¡å—</h4> <p>â€‹	åŒºå—é“¾ä¸Šæ‰€æœ‰äº¤æ˜“æ•°æ®éƒ½ä¿å­˜åœ¨åŒºå—ä¸­ï¼Œæ‰€ä»¥è¦æœ‰ä¸€ä¸ªæ¨¡å—è´Ÿè´£åŒºå—çš„å­˜å‚¨ä¸ç®¡ç†ï¼Œä»¥ä¾¿å…¶ä»–æ¨¡å—å¯¹åŒºå—ä¸­æ•°æ®è¿›è¡ŒéªŒè¯ã€ä¸šåŠ¡å¤„ç†æ—¶å¯ä»¥è·å–åˆ°åŒºå—ã€‚</p> <p>â€‹	åŒºå—é“¾ç¨‹åºåˆæ¬¡å¯åŠ¨æ—¶ï¼Œéœ€è¦åŒæ­¥ç½‘ç»œä¸Šçš„æœ€æ–°åŒºå—åˆ°æœ¬åœ°ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬è€—æ—¶è¾ƒé•¿ï¼Œä¸”åŒæ­¥æœªå®Œæˆæ—¶ä¸èƒ½å‘èµ·äº¤æ˜“ï¼Œæ‰€ä»¥é€‚åˆç”±å•ç‹¬æ¨¡å—æ¥å®Œæˆè¯¥å·¥ä½œã€‚</p> <p>â€‹	ç»¼ä¸Šæ‰€è¿°ï¼Œä¸ºå…¶ä»–æ¨¡å—æä¾›ç»Ÿä¸€çš„åŒºå—æ•°æ®æœåŠ¡æ˜¯å¿…è¦çš„ï¼Œä¹Ÿèƒ½æ›´å¥½åœ°æŠŠåŒºå—çš„ç®¡ç†ä¸åŒºå—çš„å…·ä½“ä¸šåŠ¡è¿›è¡Œåˆ†ç¦»ï¼Œç”¨åˆ°åŒºå—çš„æ¨¡å—ä¸å¿…å…³å¿ƒåŒºå—çš„è·å–ç»†èŠ‚ã€‚</p> <h4 id="_1-1-2-ã€ŠåŒºå—ç®¡ç†ã€‹è¦åšä»€ä¹ˆ"><a href="#_1-1-2-ã€ŠåŒºå—ç®¡ç†ã€‹è¦åšä»€ä¹ˆ" class="header-anchor">#</a> 1.1.2 ã€ŠåŒºå—ç®¡ç†ã€‹è¦åšä»€ä¹ˆ</h4> <ul><li>æä¾›apiï¼Œè¿›è¡ŒåŒºå—å­˜å‚¨ã€æŸ¥è¯¢ã€å›æ»šçš„æ“ä½œ</li> <li>ä»ç½‘ç»œä¸ŠåŒæ­¥æœ€æ–°åŒºå—ï¼ŒéªŒè¯é€šè¿‡åä¿å­˜</li> <li>åŒºå—åŒæ­¥ã€å¹¿æ’­ã€è½¬å‘æ¶ˆæ¯çš„å¤„ç†</li> <li>åˆ†å‰åŒºå—çš„åˆ¤æ–­ã€å­˜å‚¨</li> <li>å­¤å„¿åŒºå—çš„åˆ¤æ–­ã€å­˜å‚¨</li> <li>åˆ†å‰é“¾ç»´æŠ¤ã€åˆ‡æ¢</li> <li>å­¤å„¿é“¾ç»´æŠ¤ã€åˆ‡æ¢</li></ul> <h4 id="_1-1-3-ã€ŠåŒºå—ç®¡ç†ã€‹åœ¨ç³»ç»Ÿä¸­çš„å®šä½"><a href="#_1-1-3-ã€ŠåŒºå—ç®¡ç†ã€‹åœ¨ç³»ç»Ÿä¸­çš„å®šä½" class="header-anchor">#</a> 1.1.3 ã€ŠåŒºå—ç®¡ç†ã€‹åœ¨ç³»ç»Ÿä¸­çš„å®šä½</h4> <p>åŒºå—ç®¡ç†æ˜¯åº•å±‚æ¨¡å—ä¹‹ä¸€ï¼Œä»¥ä¸‹åˆ†åŠŸèƒ½è®¨è®ºæ¨¡å—ä¾èµ–æƒ…å†µ</p> <p>ä¾èµ–</p> <ul><li>åŒºå—åŒæ­¥-ä¾èµ–ç½‘ç»œæ¨¡å—çš„é€šè®¯æ¥å£ï¼Œä¾èµ–å·¥å…·æ¨¡å—çš„åºåˆ—åŒ–å·¥å…·</li> <li>åŒºå—å­˜å‚¨ã€å›æ»š-ä¾èµ–å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·ã€å…±è¯†æ¨¡å—ã€äº¤æ˜“ç®¡ç†æ¨¡å—</li> <li>åŒºå—è½¬å‘-ä¾èµ–ç½‘ç»œæ¨¡å—çš„å¹¿æ’­æ¶ˆæ¯æ¥å£</li></ul> <p>è¢«ä¾èµ–</p> <ul><li>æ•´ä¸ªç³»ç»Ÿå¯ä»¥å‘èµ·äº¤æ˜“-åŒºå—åŒæ­¥</li> <li>å…±è¯†æ¨¡å—:åŒºå—è¯¦ç»†éªŒè¯ã€æ‰“åŒ…-åŒºå—æŸ¥è¯¢ã€åŒºå—ä¿å­˜ã€åŒºå—å¹¿æ’­ã€åŒºå—å›æ»š</li></ul> <h3 id="_1-2-æ¶æ„å›¾"><a href="#_1-2-æ¶æ„å›¾" class="header-anchor">#</a> 1.2 æ¶æ„å›¾</h3> <p><img src="/assets/img/block-module.ffc57f74.png" alt=""></p> <h2 id="äºŒã€åŠŸèƒ½è®¾è®¡"><a href="#äºŒã€åŠŸèƒ½è®¾è®¡" class="header-anchor">#</a> äºŒã€åŠŸèƒ½è®¾è®¡</h2> <h3 id="_2-1-åŠŸèƒ½æ¶æ„å›¾"><a href="#_2-1-åŠŸèƒ½æ¶æ„å›¾" class="header-anchor">#</a> 2.1 åŠŸèƒ½æ¶æ„å›¾</h3> <p><img src="/assets/img/block-functions.844c1285.png" alt=""></p> <h3 id="_2-2-æ¨¡å—æœåŠ¡"><a href="#_2-2-æ¨¡å—æœåŠ¡" class="header-anchor">#</a> 2.2 æ¨¡å—æœåŠ¡</h3> <h4 id="_2-2-1-è·å–æœ€æ–°åŒºå—é«˜åº¦"><a href="#_2-2-1-è·å–æœ€æ–°åŒºå—é«˜åº¦" class="header-anchor">#</a> 2.2.1 è·å–æœ€æ–°åŒºå—é«˜åº¦</h4> <h4 id="_2-2-2-è·å–æœ€æ–°åŒºå—å¤´"><a href="#_2-2-2-è·å–æœ€æ–°åŒºå—å¤´" class="header-anchor">#</a> 2.2.2 è·å–æœ€æ–°åŒºå—å¤´</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <ol><li>æ ¹æ®é“¾IDã€ç¼“å­˜çš„æœ€æ–°åŒºå—é«˜åº¦æŸ¥è¯¢DBå¾—åˆ°æœ€æ–°åŒºå—å¤´HASH</li> <li>æ ¹æ®HASHæŸ¥è¯¢DBå¾—åˆ°åŒºå—å¤´byteæ•°ç»„</li> <li>ååºåˆ—åŒ–ä¸ºåŒºå—å¤´å¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bestBlockHeader&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
        &quot;chainId&quot;: &quot;888&quot;,
        &quot;hash&quot;: &quot;xxxxxxx&quot;,
        &quot;preHash&quot;: &quot;xxxxxxx&quot;,
        &quot;merkleHash&quot;: &quot;1&quot;,
        &quot;height&quot;: 1,
        &quot;size&quot;: 1,
        &quot;time&quot;: 1,
        &quot;txCount&quot;: 1,
        &quot;packingAddress&quot;: &quot;1&quot;,
        &quot;reward&quot;: 0,
        &quot;fee&quot;: 0,
        &quot;extend&quot;: xxxxxxx,HEX
        &quot;scriptSig&quot;: &quot;1&quot;
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>chainId</td> <td>Long</td> <td>é“¾ID</td></tr> <tr><td>hash</td> <td>String</td> <td>åŒºå—HASH</td></tr> <tr><td>preHash</td> <td>String</td> <td>ä¸Šä¸€åŒºå—HASH</td></tr> <tr><td>merkleHash</td> <td>String</td> <td>åŒºå—MerkleHash</td></tr> <tr><td>height</td> <td>Long</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>size</td> <td>Integer</td> <td>åŒºå—å¤§å°</td></tr> <tr><td>time</td> <td>Long</td> <td>åŒºå—æ‰“åŒ…æ—¶é—´</td></tr> <tr><td>txCount</td> <td>Integer</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>packingAddress</td> <td>String</td> <td>æ‰“åŒ…åœ°å€</td></tr> <tr><td>reward</td> <td>Long</td> <td>å…±è¯†å¥–åŠ±</td></tr> <tr><td>fee</td> <td>Long</td> <td>æ‰‹ç»­è´¹</td></tr> <tr><td>extend</td> <td>String</td> <td>æ‰©å±•å­—æ®µ,HEX,åŒ…å«roundIndexã€roundStartTimeã€consensusMemberCountã€packingIndexOfRoundã€stateRoot</td></tr> <tr><td>scriptSig</td> <td>String</td> <td>åŒºå—ç­¾å</td></tr></tbody></table> <h4 id="_2-2-3-è·å–æœ€æ–°åŒºå—"><a href="#_2-2-3-è·å–æœ€æ–°åŒºå—" class="header-anchor">#</a> 2.2.3 è·å–æœ€æ–°åŒºå—</h4> <ul><li>æ¥å£è¯´æ˜:</li></ul> <ol><li>æ ¹æ®é“¾IDè·å–æœ¬åœ°æœ€æ–°åŒºå—å¤´</li> <li>æ ¹æ®åŒºå—å¤´é«˜åº¦æŸ¥è¯¢DBå¾—åˆ°äº¤æ˜“HASHåˆ—è¡¨</li> <li>æ ¹æ®HASHåˆ—è¡¨ä»äº¤æ˜“ç®¡ç†æ¨¡å—è·å–äº¤æ˜“æ•°æ®</li> <li>ç»„è£…æˆblockå¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bestBlock&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre><code>```
{
    &quot;version&quot;: 1.2,
    &quot;code&quot;:1,
    &quot;msg&quot; :&quot;xxxxxxxxxxxxxxxxxx&quot;,
    &quot;result&quot;:{}
}
```
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
    	&quot;blockHeader&quot;: {
            &quot;chainId&quot;: &quot;888&quot;,
            &quot;hash&quot;: &quot;xxxxxxx&quot;,
            &quot;preHash&quot;: &quot;xxxxxxx&quot;,
            &quot;merkleHash&quot;: &quot;1&quot;,
            &quot;height&quot;: 1,
            &quot;size&quot;: 1,
            &quot;time&quot;: 1,
            &quot;txCount&quot;: 1,
            &quot;packingAddress&quot;: &quot;1&quot;,
            &quot;reward&quot;: 0,
            &quot;fee&quot;: 0,
            &quot;extend&quot;: xxxxxxx,HEX
            &quot;scriptSig&quot;: &quot;1&quot;
    	}, //åŒºå—å¤´
    	&quot;transactions&quot;: [
    	    {
                &quot;chainId&quot;: &quot;888&quot;, //é“¾Id
                &quot;height&quot;: &quot;1&quot;, //åŒºå—é«˜åº¦
                &quot;hash&quot;: &quot;1&quot;, //äº¤æ˜“HASH
                &quot;remark&quot;: &quot;1&quot;, //äº¤æ˜“å¤‡æ³¨
                &quot;size&quot;: &quot;1&quot;, //äº¤æ˜“å¤§å°
                &quot;time&quot;: &quot;1&quot;, //äº¤æ˜“æ—¶é—´
                &quot;type&quot;: &quot;1&quot;, //äº¤æ˜“ç±»å‹
                &quot;transactionSignature&quot;: &quot;1&quot;, //äº¤æ˜“ç­¾å
                &quot;coinData&quot;: {
                    &quot;from&quot; : [
                        {
                            &quot;fromAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;fromAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;fromAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                        },{...}
                    ]
                    &quot;to&quot; : [
                        {
                            &quot;toAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;toAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;toAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;locktime&quot;:&quot;&quot;
                        },{...}
                    ]
                }
                &quot;txData&quot;: XXXX, //äº¤æ˜“æ•°æ® HEX
    	    },
    	    {...}
    	] //äº¤æ˜“åˆ—è¡¨
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p> <p>ç•¥</p></li></ul> <h4 id="_2-2-4-æ ¹æ®é«˜åº¦è·å–åŒºå—å¤´"><a href="#_2-2-4-æ ¹æ®é«˜åº¦è·å–åŒºå—å¤´" class="header-anchor">#</a> 2.2.4 æ ¹æ®é«˜åº¦è·å–åŒºå—å¤´</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <ol><li>æ ¹æ®é“¾IDã€é«˜åº¦æŸ¥è¯¢DBå¾—åˆ°æœ€æ–°åŒºå—å¤´HASH</li> <li>æ ¹æ®HASHæŸ¥è¯¢DBå¾—åˆ°åŒºå—å¤´byteæ•°ç»„</li> <li>ååºåˆ—åŒ–ä¸ºåŒºå—å¤´å¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;getBlockHeaderByHeight&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;111&quot;,&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>height</td> <td>true</td> <td>Long</td> <td style="text-align:center;">åŒºå—é«˜åº¦</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
        &quot;chainId&quot;: &quot;888&quot;,
        &quot;hash&quot;: &quot;xxxxxxx&quot;,
        &quot;preHash&quot;: &quot;xxxxxxx&quot;,
        &quot;merkleHash&quot;: &quot;1&quot;,
        &quot;height&quot;: 1,
        &quot;size&quot;: 1,
        &quot;time&quot;: 1,
        &quot;txCount&quot;: 1,
        &quot;packingAddress&quot;: &quot;1&quot;,
        &quot;reward&quot;: 0,
        &quot;fee&quot;: 0,
        &quot;extend&quot;: xxxxxxx,HEX
        &quot;scriptSig&quot;: &quot;1&quot;
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>chainId</td> <td>Long</td> <td>é“¾Id</td></tr> <tr><td>hash</td> <td>String</td> <td>åŒºå—HASH</td></tr> <tr><td>preHash</td> <td>String</td> <td>ä¸Šä¸€åŒºå—HASH</td></tr> <tr><td>merkleHash</td> <td>String</td> <td>åŒºå—MerkleHash</td></tr> <tr><td>height</td> <td>Long</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>size</td> <td>Integer</td> <td>åŒºå—å¤§å°</td></tr> <tr><td>time</td> <td>Long</td> <td>åŒºå—æ‰“åŒ…æ—¶é—´</td></tr> <tr><td>txCount</td> <td>Integer</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>packingAddress</td> <td>String</td> <td>æ‰“åŒ…åœ°å€</td></tr> <tr><td>reward</td> <td>Long</td> <td>å…±è¯†å¥–åŠ±</td></tr> <tr><td>fee</td> <td>Long</td> <td>æ‰‹ç»­è´¹</td></tr> <tr><td>extend</td> <td>String</td> <td>æ‰©å±•å­—æ®µ,HEX,åŒ…å«roundIndexã€roundStartTimeã€consensusMemberCountã€packingIndexOfRoundã€stateRoot</td></tr> <tr><td>scriptSig</td> <td>String</td> <td>åŒºå—ç­¾å</td></tr></tbody></table> <h4 id="_2-2-4-æ ¹æ®é«˜åº¦è·å–åŒºå—"><a href="#_2-2-4-æ ¹æ®é«˜åº¦è·å–åŒºå—" class="header-anchor">#</a> 2.2.4 æ ¹æ®é«˜åº¦è·å–åŒºå—</h4> <ul><li>æ¥å£è¯´æ˜:</li></ul> <ol><li>æ ¹æ®é“¾IDã€é«˜åº¦è·å–åŒºå—å¤´</li> <li>æ ¹æ®åŒºå—å¤´é«˜åº¦æŸ¥è¯¢DBå¾—åˆ°äº¤æ˜“HASHåˆ—è¡¨</li> <li>æ ¹æ®HASHåˆ—è¡¨ä»äº¤æ˜“ç®¡ç†æ¨¡å—è·å–äº¤æ˜“æ•°æ®</li> <li>ç»„è£…æˆblockå¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_getBlockByHeight&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;111&quot;,&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>height</td> <td>true</td> <td>Long</td> <td style="text-align:center;">åŒºå—é«˜åº¦</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre><code>```
{
    &quot;version&quot;: 1.2,
    &quot;code&quot;:1,
    &quot;msg&quot; :&quot;xxxxxxxxxxxxxxxxxx&quot;,
    &quot;result&quot;:{}
}
```
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
    	&quot;blockHeader&quot;: {
            &quot;chainId&quot;: &quot;888&quot;,
            &quot;hash&quot;: &quot;xxxxxxx&quot;,
            &quot;preHash&quot;: &quot;xxxxxxx&quot;,
            &quot;merkleHash&quot;: &quot;1&quot;,
            &quot;height&quot;: 1,
            &quot;size&quot;: 1,
            &quot;time&quot;: 1,
            &quot;txCount&quot;: 1,
            &quot;packingAddress&quot;: &quot;1&quot;,
            &quot;reward&quot;: 0,
            &quot;fee&quot;: 0,
            &quot;extend&quot;: xxxxxxx,HEX
            &quot;scriptSig&quot;: &quot;1&quot;
    	}, //åŒºå—å¤´
    	&quot;transactions&quot;: [
    	    {
                &quot;chainId&quot;: &quot;888&quot;,//é“¾ID
                &quot;height&quot;: &quot;1&quot;, //åŒºå—é«˜åº¦
                &quot;hash&quot;: &quot;1&quot;, //äº¤æ˜“HASH
                &quot;remark&quot;: &quot;1&quot;, //äº¤æ˜“å¤‡æ³¨
                &quot;size&quot;: &quot;1&quot;, //äº¤æ˜“å¤§å°
                &quot;time&quot;: &quot;1&quot;, //äº¤æ˜“æ—¶é—´
                &quot;type&quot;: &quot;1&quot;, //äº¤æ˜“ç±»å‹
                &quot;transactionSignature&quot;: &quot;1&quot;, //äº¤æ˜“ç­¾å
                &quot;coinData&quot;: {
                    &quot;from&quot; : [
                        {
                            &quot;fromAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;fromAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;fromAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                        },{...}
                    ]
                    &quot;to&quot; : [
                        {
                            &quot;toAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;toAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;toAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                        },{...}
                    ]
                }
                &quot;txData&quot;: XXXX, //äº¤æ˜“æ•°æ® HEX
    	    },
    	    {...}
    	], //äº¤æ˜“åˆ—è¡¨
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p> <p>ç•¥</p></li></ul> <h4 id="_2-2-5-æ ¹æ®hashè·å–åŒºå—å¤´"><a href="#_2-2-5-æ ¹æ®hashè·å–åŒºå—å¤´" class="header-anchor">#</a> 2.2.5 æ ¹æ®HASHè·å–åŒºå—å¤´</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <ol><li>æ ¹æ®é“¾IDã€HASHæŸ¥è¯¢DBå¾—åˆ°åŒºå—å¤´byteæ•°ç»„</li> <li>ååºåˆ—åŒ–ä¸ºåŒºå—å¤´å¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_getBlockHeaderByHash&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;,&quot;aaa&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>hash</td> <td>true</td> <td>String</td> <td style="text-align:center;">åŒºå—hash</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
        &quot;chainId&quot;: &quot;888&quot;,
        &quot;hash&quot;: &quot;xxxxxxx&quot;,
        &quot;preHash&quot;: &quot;xxxxxxx&quot;,
        &quot;merkleHash&quot;: &quot;1&quot;,
        &quot;height&quot;: 1,
        &quot;size&quot;: 1,
        &quot;time&quot;: 1,
        &quot;txCount&quot;: 1,
        &quot;packingAddress&quot;: &quot;1&quot;,
        &quot;reward&quot;: 0,
        &quot;fee&quot;: 0,
        &quot;extend&quot;: xxxxxxx,HEX
        &quot;scriptSig&quot;: &quot;1&quot;
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>chainId</td> <td>Long</td> <td>é“¾ID</td></tr> <tr><td>hash</td> <td>String</td> <td>åŒºå—HASH</td></tr> <tr><td>preHash</td> <td>String</td> <td>ä¸Šä¸€åŒºå—HASH</td></tr> <tr><td>merkleHash</td> <td>String</td> <td>åŒºå—MerkleHash</td></tr> <tr><td>height</td> <td>Long</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>size</td> <td>Integer</td> <td>åŒºå—å¤§å°</td></tr> <tr><td>time</td> <td>Long</td> <td>åŒºå—æ‰“åŒ…æ—¶é—´</td></tr> <tr><td>txCount</td> <td>Integer</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>packingAddress</td> <td>String</td> <td>æ‰“åŒ…åœ°å€</td></tr> <tr><td>reward</td> <td>Long</td> <td>å…±è¯†å¥–åŠ±</td></tr> <tr><td>fee</td> <td>Long</td> <td>æ‰‹ç»­è´¹</td></tr> <tr><td>extend</td> <td>String</td> <td>æ‰©å±•å­—æ®µ,HEX,åŒ…å«roundIndexã€roundStartTimeã€consensusMemberCountã€packingIndexOfRoundã€stateRoot</td></tr> <tr><td>scriptSig</td> <td>String</td> <td>åŒºå—ç­¾å</td></tr></tbody></table> <h4 id="_2-2-6-æ ¹æ®hashè·å–åŒºå—"><a href="#_2-2-6-æ ¹æ®hashè·å–åŒºå—" class="header-anchor">#</a> 2.2.6 æ ¹æ®HASHè·å–åŒºå—</h4> <ul><li>æ¥å£è¯´æ˜:</li></ul> <ol><li>æ ¹æ®é“¾IDã€hashè·å–åŒºå—å¤´</li> <li>æ ¹æ®åŒºå—å¤´é«˜åº¦æŸ¥è¯¢DBå¾—åˆ°äº¤æ˜“HASHåˆ—è¡¨</li> <li>æ ¹æ®HASHåˆ—è¡¨ä»äº¤æ˜“ç®¡ç†æ¨¡å—è·å–äº¤æ˜“æ•°æ®</li> <li>ç»„è£…æˆblockå¯¹è±¡</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_getBlockByHash&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;,&quot;aaa&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>hash</td> <td>true</td> <td>String</td> <td style="text-align:center;">åŒºå—hash</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre><code>```
{
    &quot;version&quot;: 1.2,
    &quot;code&quot;:1,
    &quot;msg&quot; :&quot;xxxxxxxxxxxxxxxxxx&quot;,
    &quot;result&quot;:{}
}
```
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
    	&quot;blockHeader&quot;: {
    	    &quot;chainId&quot;: &quot;888&quot;,
            &quot;hash&quot;: &quot;xxxxxxx&quot;,
            &quot;preHash&quot;: &quot;xxxxxxx&quot;,
            &quot;merkleHash&quot;: &quot;1&quot;,
            &quot;height&quot;: 1,
            &quot;size&quot;: 1,
            &quot;time&quot;: 1,
            &quot;txCount&quot;: 1,
            &quot;packingAddress&quot;: &quot;1&quot;,
            &quot;reward&quot;: 0,
            &quot;fee&quot;: 0,
            &quot;extend&quot;: xxxxxxx,HEX
            &quot;scriptSig&quot;: &quot;1&quot;
    	}, //åŒºå—å¤´
    	&quot;transactions&quot;: [
    	    {
    	        &quot;chainId&quot;: &quot;888&quot;,
                &quot;height&quot;: &quot;1&quot;, //åŒºå—é«˜åº¦
                &quot;hash&quot;: &quot;1&quot;, //äº¤æ˜“HASH
                &quot;remark&quot;: &quot;1&quot;, //äº¤æ˜“å¤‡æ³¨
                &quot;size&quot;: &quot;1&quot;, //äº¤æ˜“å¤§å°
                &quot;time&quot;: &quot;1&quot;, //äº¤æ˜“æ—¶é—´
                &quot;type&quot;: &quot;1&quot;, //äº¤æ˜“ç±»å‹
                &quot;transactionSignature&quot;: &quot;1&quot;, //äº¤æ˜“ç­¾å
                &quot;coinData&quot;: {
                    &quot;from&quot; : [
                        {
                            &quot;fromAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;fromAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;fromAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                        },{...}
                    ]
                    &quot;to&quot; : [
                        {
                            &quot;toAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                            &quot;toAssetsId&quot;:&quot;&quot;//èµ„äº§id
                            &quot;toAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                            &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                            &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                        },{...}
                    ]
                }
                &quot;txData&quot;: XXXX, //äº¤æ˜“æ•°æ® HEX
    	    },
    	    {...}
    	], //äº¤æ˜“åˆ—è¡¨
    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p> <p>ç•¥</p></li></ul> <h4 id="_2-2-7-è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—å¤´"><a href="#_2-2-7-è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—å¤´" class="header-anchor">#</a> 2.2.7 è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—å¤´</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <ol><li>ä»¤queryHash=endHash</li> <li>æ ¹æ®é“¾IDã€queryHashæŸ¥è¯¢DBå¾—åˆ°åŒºå—å¤´byteæ•°ç»„</li> <li>ååºåˆ—åŒ–ä¸ºåŒºå—å¤´å¯¹è±¡blockHeaderï¼Œæ·»åŠ åˆ°Listä¸­ä½œä¸ºè¿”å›å€¼</li> <li>å¦‚æœblockHeader.hash!=startHashï¼Œä»¤queryHash=blockHeader.preHashï¼Œé‡å¤ç¬¬2æ­¥</li> <li>è¿”å›List</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_getBlockHeaderBetweenHeights&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;,111&quot;,&quot;111&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>startHeight</td> <td>true</td> <td>Long</td> <td style="text-align:center;">èµ·å§‹é«˜åº¦</td></tr> <tr><td>2</td> <td>endHeight</td> <td>true</td> <td>Long</td> <td style="text-align:center;">ç»“æŸé«˜åº¦</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
        &quot;list&quot; : [
            {
           &quot;chainId&quot;: &quot;888&quot;,
           &quot;hash&quot;: &quot;xxxxxxx&quot;,
           &quot;preHash&quot;: &quot;xxxxxxx&quot;,
           &quot;merkleHash&quot;: &quot;1&quot;,
           &quot;height&quot;: 1,
           &quot;size&quot;: 1,
           &quot;time&quot;: 1,
           &quot;txCount&quot;: 1,
           &quot;packingAddress&quot;: &quot;1&quot;,
           &quot;reward&quot;: 0,
           &quot;fee&quot;: 0,
           &quot;extend&quot;: xxxxxxx,HEX
           &quot;scriptSig&quot;: &quot;1&quot;
           }
        ]

    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>chainId</td> <td>Long</td> <td>é“¾ID</td></tr> <tr><td>hash</td> <td>String</td> <td>åŒºå—HASH</td></tr> <tr><td>preHash</td> <td>String</td> <td>ä¸Šä¸€åŒºå—HASH</td></tr> <tr><td>merkleHash</td> <td>String</td> <td>åŒºå—MerkleHash</td></tr> <tr><td>height</td> <td>Long</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>size</td> <td>Integer</td> <td>åŒºå—å¤§å°</td></tr> <tr><td>time</td> <td>Long</td> <td>åŒºå—æ‰“åŒ…æ—¶é—´</td></tr> <tr><td>txCount</td> <td>Integer</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>packingAddress</td> <td>String</td> <td>æ‰“åŒ…åœ°å€</td></tr> <tr><td>reward</td> <td>Long</td> <td>å…±è¯†å¥–åŠ±</td></tr> <tr><td>fee</td> <td>Long</td> <td>æ‰‹ç»­è´¹</td></tr> <tr><td>extend</td> <td>String</td> <td>æ‰©å±•å­—æ®µ,HEX,åŒ…å«roundIndexã€roundStartTimeã€consensusMemberCountã€packingIndexOfRoundã€stateRoot</td></tr> <tr><td>scriptSig</td> <td>String</td> <td>åŒºå—ç­¾å</td></tr></tbody></table> <h4 id="_2-2-8-è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—"><a href="#_2-2-8-è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—" class="header-anchor">#</a> 2.2.8 è·å–æŸé«˜åº¦åŒºé—´å†…åŒºå—</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <ol><li>ä»¤queryHash=endHash</li> <li>æ ¹æ®é“¾IDã€queryHashæŸ¥è¯¢DBå¾—åˆ°åŒºå—byteæ•°ç»„</li> <li>ååºåˆ—åŒ–ä¸ºåŒºå—å¯¹è±¡blockï¼Œæ·»åŠ åˆ°Listä¸­ä½œä¸ºè¿”å›å€¼</li> <li>å¦‚æœblock.hash!=startHashï¼Œä»¤queryHash=block.preHashï¼ŒstartHashï¼Œé‡å¤ç¬¬2æ­¥</li> <li>è¿”å›List</li></ol> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_getBlockBetweenHeights&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;,111&quot;,&quot;111&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p></li></ul> <table><thead><tr><th>index</th> <th>parameter</th> <th>required</th> <th>type</th> <th style="text-align:center;">description</th></tr></thead> <tbody><tr><td>0</td> <td>chainId</td> <td>true</td> <td>Long</td> <td style="text-align:center;">é“¾ID</td></tr> <tr><td>1</td> <td>startHeight</td> <td>true</td> <td>Long</td> <td style="text-align:center;">èµ·å§‹é«˜åº¦</td></tr> <tr><td>2</td> <td>endHeight</td> <td>true</td> <td>Long</td> <td style="text-align:center;">ç»“æŸé«˜åº¦</td></tr></tbody></table> <ul><li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {
        &quot;list&quot; : [
            {
                &quot;blockHeader&quot;: {
                    &quot;chainId&quot;: &quot;888&quot;,
                    &quot;hash&quot;: &quot;xxxxxxx&quot;,
                    &quot;preHash&quot;: &quot;xxxxxxx&quot;,
                    &quot;merkleHash&quot;: &quot;1&quot;,
                    &quot;height&quot;: 1,
                    &quot;size&quot;: 1,
                    &quot;time&quot;: 1,
                    &quot;txCount&quot;: 1,
                    &quot;packingAddress&quot;: &quot;1&quot;,
                    &quot;reward&quot;: 0,
                    &quot;fee&quot;: 0,
                    &quot;extend&quot;: xxxxxxx,HEX
                    &quot;scriptSig&quot;: &quot;1&quot;
                }, //åŒºå—å¤´
                &quot;transactions&quot;: [
                    {
                        &quot;chainId&quot;: &quot;888&quot;,
                        &quot;height&quot;: &quot;1&quot;, //åŒºå—é«˜åº¦
                        &quot;hash&quot;: &quot;1&quot;, //äº¤æ˜“HASH
                        &quot;remark&quot;: &quot;1&quot;, //äº¤æ˜“å¤‡æ³¨
                        &quot;size&quot;: &quot;1&quot;, //äº¤æ˜“å¤§å°
                        &quot;time&quot;: &quot;1&quot;, //äº¤æ˜“æ—¶é—´
                        &quot;type&quot;: &quot;1&quot;, //äº¤æ˜“ç±»å‹
                        &quot;transactionSignature&quot;: &quot;1&quot;, //äº¤æ˜“ç­¾å
                        &quot;coinData&quot;: {
                            &quot;from&quot; : [
                                {
                                    &quot;fromAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                                    &quot;fromAssetsId&quot;:&quot;&quot;//èµ„äº§id
                                    &quot;fromAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                                    &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                                    &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                                },{...}
                            ]
                            &quot;to&quot; : [
                                {
                                    &quot;toAssetsChainId&quot;:&quot;&quot;//èµ„äº§å‘è¡Œé“¾çš„id  
                                    &quot;toAssetsId&quot;:&quot;&quot;//èµ„äº§id
                                    &quot;toAddress&quot;:&quot;&quot;//è½¬å‡ºè´¦æˆ·åœ°å€
                                    &quot;amount&quot;:&quot;&quot;//è½¬å‡ºé‡‘é¢
                                    &quot;nonce&quot;:&quot;&quot;//äº¤æ˜“é¡ºåºå·ï¼Œé€’å¢
                                },{...}
                            ]
                        }
                        &quot;txData&quot;: XXXX, //äº¤æ˜“æ•°æ® HEX
                    },
                    {...}
                ], //äº¤æ˜“åˆ—è¡¨
           }
        ]

    }
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p> <p>ç•¥</p></li></ul> <h4 id="_2-2-9-æ¥æ”¶æœ€æ–°æ‰“åŒ…åŒºå—"><a href="#_2-2-9-æ¥æ”¶æœ€æ–°æ‰“åŒ…åŒºå—" class="header-anchor">#</a> 2.2.9 æ¥æ”¶æœ€æ–°æ‰“åŒ…åŒºå—</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <p>æœ¬åœ°èŠ‚ç‚¹å…±è¯†æ¨¡å—æ‰“åŒ…åï¼Œè°ƒç”¨æ­¤æ¥å£ä¿å­˜åŒºå—æ•°æ®</p> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;receivePackingBlock&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [
  	blockhex//èƒ½ç”¨hexå°±ç”¨hex
  ]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p> <p>ç•¥</p></li> <li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {&quot;sync&quot;: &quot;true&quot;}
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>sync</td> <td>String</td> <td>åŒºå—æ˜¯å¦ä¿å­˜æˆåŠŸ</td></tr></tbody></table> <h4 id="_2-2-10-è¿è¡Œä¸€æ¡é“¾"><a href="#_2-2-10-è¿è¡Œä¸€æ¡é“¾" class="header-anchor">#</a> 2.2.10 è¿è¡Œä¸€æ¡é“¾</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <p>åœ¨é“¾å·¥å‚å‘å¸ƒä¸€æ¡é“¾åï¼Œæ ¸å¿ƒæ¨¡å—ä¼šè°ƒç”¨åŒºå—ç®¡ç†æ¨¡å—çš„è¯¥æ¥å£ï¼Œæ ¹æ®chainIDåˆå§‹åŒ–åŒºå—ã€åˆ†å‰é“¾æ•°æ®åº“ï¼Œå¼€å¯chainIDå¯¹åº”çš„ä¸€ç³»åˆ—å·¥ä½œçº¿ç¨‹ï¼Œå¹¶ä¸ºè¿è¡Œæ–°é“¾åšå‡†å¤‡ã€‚</p> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_startChain&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p> <p>ç•¥</p></li> <li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {&quot;result&quot;: &quot;true&quot;}
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>result</td> <td>String</td> <td>æ–°é“¾æ˜¯å¦å¯åŠ¨æˆåŠŸ</td></tr></tbody></table> <h4 id="_2-2-11-åœæ­¢ä¸€æ¡é“¾"><a href="#_2-2-11-åœæ­¢ä¸€æ¡é“¾" class="header-anchor">#</a> 2.2.11 åœæ­¢ä¸€æ¡é“¾</h4> <ul><li>æ¥å£è¯´æ˜</li></ul> <p>åœ¨é“¾å·¥å‚åœæ­¢ä¸€æ¡é“¾åï¼Œæ ¸å¿ƒæ¨¡å—ä¼šè°ƒç”¨åŒºå—ç®¡ç†æ¨¡å—çš„è¯¥æ¥å£ï¼Œåˆ é™¤è¯¥é“¾çš„ç¼“å­˜åŒºå—ã€åˆ†å‰é“¾æ•°æ®ï¼Œåœæ­¢chainIDå¯¹åº”çš„ä¸€ç³»åˆ—å·¥ä½œçº¿ç¨‹ã€‚</p> <ul><li><p>è¯·æ±‚ç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;cmd&quot;: &quot;bl_stopChain&quot;,
  &quot;minVersion&quot;:&quot;1.1&quot;,
  &quot;params&quot;: [&quot;888&quot;]
}
</code></pre></div></li> <li><p>è¯·æ±‚å‚æ•°è¯´æ˜</p> <p>ç•¥</p></li> <li><p>è¿”å›ç¤ºä¾‹</p> <p>Failed</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 1,
    &quot;msg&quot;: &quot;error message&quot;,
    &quot;result&quot;: {}
}
</code></pre></div><p>Success</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;version&quot;: 1.2,
    &quot;code&quot;: 0,
    &quot;result&quot;: {&quot;result&quot;: &quot;true&quot;}
}
</code></pre></div></li> <li><p>è¿”å›å­—æ®µè¯´æ˜</p></li></ul> <table><thead><tr><th>parameter</th> <th>type</th> <th>description</th></tr></thead> <tbody><tr><td>result</td> <td>String</td> <td>æ–°é“¾æ˜¯å¦åœæ­¢æˆåŠŸ</td></tr></tbody></table> <h3 id="_2-3-æ¨¡å—å†…éƒ¨åŠŸèƒ½"><a href="#_2-3-æ¨¡å—å†…éƒ¨åŠŸèƒ½" class="header-anchor">#</a> 2.3 æ¨¡å—å†…éƒ¨åŠŸèƒ½</h3> <h4 id="_2-3-1-æ¨¡å—å¯åŠ¨"><a href="#_2-3-1-æ¨¡å—å¯åŠ¨" class="header-anchor">#</a> 2.3.1 æ¨¡å—å¯åŠ¨</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>å¯åŠ¨åŒºå—ç®¡ç†æ¨¡å—</p></li> <li><p>æµç¨‹æè¿°</p></li></ul> <p><img src="/assets/img/block-module-boot.4686b7bf.png" alt=""></p> <ul><li><p>1.RPCæœåŠ¡åˆå§‹åŒ–</p></li> <li><p>2.åˆå§‹åŒ–é€šç”¨æ•°æ®åº“</p></li> <li><p>3.åŠ è½½é…ç½®ä¿¡æ¯</p></li> <li><p>4.åˆå§‹åŒ–å„é“¾æ•°æ®åº“</p></li> <li><p>5.ç­‰å¾…ä¾èµ–æ¨¡å—å°±ç»ª</p></li> <li><p>6.å‘ç½‘ç»œæ¨¡å—æ³¨å†Œæ¶ˆæ¯å¤„ç†ç±»</p></li> <li><p>7.å¯åŠ¨åŒæ­¥åŒºå—çº¿ç¨‹ã€æ•°æ®åº“å¤§å°ç›‘æ§çº¿ç¨‹ã€åˆ†å‰é“¾å¤„ç†çº¿ç¨‹ã€å­¤å„¿é“¾å¤„ç†çº¿ç¨‹ã€å­¤å„¿é“¾ç»´æŠ¤çº¿ç¨‹</p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—ã€å†…æ ¸æ¨¡å—ã€ç½‘ç»œæ¨¡å—ã€äº¤æ˜“ç®¡ç†æ¨¡å—</p></li></ul> <h4 id="_2-3-2-åŒºå—å­˜å‚¨"><a href="#_2-3-2-åŒºå—å­˜å‚¨" class="header-anchor">#</a> 2.3.2 åŒºå—å­˜å‚¨</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>å­˜å‚¨ä¸»é“¾ä¸ŠåŒºå—å¤´æ•°æ®ä»¥åŠåˆ†å‰é“¾ã€å­¤å„¿é“¾çš„å®Œæ•´åŒºå—æ•°æ®</p> <ul><li><p>ä¸»é“¾å­˜å‚¨</p> <p>ä¸åŒçš„é“¾å­˜åˆ°ä¸åŒçš„è¡¨ï¼Œè¡¨ååŠ chainIDåç¼€
ä¸€ä¸ªå®Œæ•´çš„åŒºå—ç”±åŒºå—å¤´å’Œäº¤æ˜“ç»„æˆï¼ŒåŒºå—å¤´ä¸äº¤æ˜“åˆ†åˆ«è¿›è¡Œå­˜å‚¨ã€‚
åŒºå—å¤´:(æ”¾åœ¨åŒºå—ç®¡ç†æ¨¡å—)
key(åŒºå—é«˜åº¦)-value(åŒºå—å¤´hash)              		block-header-index
key(åŒºå—å¤´hash)-value(å®Œæ•´çš„åŒºå—å¤´)           	block-header
äº¤æ˜“:(æ”¾åœ¨äº¤æ˜“ç®¡ç†æ¨¡å—)</p></li> <li><p>åˆ†å‰é“¾ã€å­¤å„¿é“¾å­˜å‚¨</p> <p>å†…å­˜ä¸­ç¼“å­˜æ‰€æœ‰åˆ†å‰é“¾ä¸å­¤å„¿é“¾å¯¹è±¡(åªè®°å½•èµ·å§‹é«˜åº¦ã€èµ·å§‹hashã€ç»“æŸé«˜åº¦ã€ç»“æŸhashç­‰å…³é”®ä¿¡æ¯)ï¼Œåœ¨ç¡¬ç›˜ä¸­ç¼“å­˜å…¨é‡åŒºå—æ•°æ®ï¼Œå¦‚æœéœ€è¦åˆ†å‰é“¾åˆ‡æ¢ã€æ¸…ç†åˆ†å‰é“¾ç­‰æ“ä½œï¼Œåªéœ€è¯»å–ä¸€æ¬¡æ•°æ®åº“å³å¯
ä¸åŒé“¾çš„åˆ†å‰é“¾é›†åˆå­˜åœ¨ä¸åŒçš„è¡¨ï¼Œè¡¨ååŠ chainIDåç¼€ï¼Œæ¯ä¸€ä¸ªåˆ†å‰é“¾å¯¹è±¡å¦‚ä¸‹:
key(åŒºå—hash)-value(å®Œæ•´çš„åŒºå—æ•°æ®)          	CachedBlock</p></li></ul></li> <li><p>æµç¨‹æè¿°</p> <p>ç•¥</p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å·¥å…·</p></li></ul> <h4 id="_2-3-3-åŒºå—æ¸…ç†"><a href="#_2-3-3-åŒºå—æ¸…ç†" class="header-anchor">#</a> 2.3.3 åŒºå—æ¸…ç†</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>ä¸ºäº†é¿å…è¿‡å¤šåƒåœ¾æ•°æ®å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå¯¹åˆ†å‰é“¾å’Œå­¤å„¿é“¾è¿›è¡Œå®šæ—¶æ¸…ç†</p></li> <li><p>æµç¨‹æè¿°</p> <ol><li>æŒ‰ç…§é…ç½®çš„æœ€å¤§ç¼“å­˜åŒºå—æ•°é‡è¿›è¡Œæ¸…ç†ï¼Œå½“åˆ†å‰é“¾+å­¤å„¿é“¾ç¼“å­˜çš„åŒºå—æ•°é‡å¤§äºé˜ˆå€¼æ—¶ï¼Œè¿›è¡Œæ¸…ç†</li> <li>æŒ‰ç…§åˆ†å‰é“¾æˆ–å­¤å„¿é“¾çš„èµ·å§‹é«˜åº¦ä¸ä¸»é“¾çš„æœ€æ–°é«˜åº¦å·®è¿›è¡Œæ¸…ç†</li> <li>æŒ‰ç…§å­¤å„¿é“¾çš„å¹´é¾„è¿›è¡Œæ¸…ç†ï¼Œå­¤å„¿é“¾çš„å¹´é¾„åˆå§‹å€¼ä¸º0ï¼Œæ¯ç»è¿‡ä¸€æ¬¡å­¤å„¿é“¾ç»´æŠ¤ï¼Œä½†è¯¥å­¤å„¿é“¾çš„é“¾é¦–å¹¶æ²¡æœ‰æ–°å¢åˆæ³•åŒºå—æ—¶ï¼Œè¯¥å­¤å„¿é“¾å¹´é¾„åŠ ä¸€ï¼Œå½“å­¤å„¿é“¾å¹´é¾„å¤§äºé˜ˆå€¼æ—¶ï¼Œè¿›è¡Œæ¸…ç†</li></ol></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å·¥å…·</p></li></ul> <h4 id="_2-3-4-åŒºå—åŒæ­¥"><a href="#_2-3-4-åŒºå—åŒæ­¥" class="header-anchor">#</a> 2.3.4 åŒºå—åŒæ­¥</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>ç³»ç»Ÿå¯åŠ¨åï¼Œç»´æŠ¤æœ¬åœ°åŒºå—æ•°æ®ä¸ç½‘ç»œä¸Šå¤§éƒ¨åˆ†èŠ‚ç‚¹ä¿æŒä¸€è‡´ã€‚</p> <p>BlockSynchronizer:ç»Ÿè®¡ç½‘ç»œä¸Šæœ€æ–°ä¸€è‡´é«˜åº¦ã€æ£€æŸ¥æœ¬åœ°åŒºå—æ˜¯å¦éœ€è¦å›æ»šã€åˆå§‹åŒ–å„ç§åŒºå—åŒæ­¥æœŸé—´çš„å‚æ•°</p> <p>â€‹BlockDownloader:ä»èµ·å§‹é«˜åº¦å¼€å§‹ï¼Œæ ¹æ®å„ä¸‹è½½èŠ‚ç‚¹çš„ä¿¡ç”¨å€¼åˆ†é…ä¸‹è½½ä»»åŠ¡ï¼Œç»„è£…HeightRangeMessageï¼Œå‘é€ç»™ç›®æ ‡èŠ‚ç‚¹</p> <p>â€‹BlockConsumer:æ ¹æ®é«˜åº¦ä¾æ¬¡å–å‡ºç¼“å­˜Mapä¸­çš„åŒºå—ï¼ŒéªŒè¯å¹¶ä¿å­˜ï¼Œå¦‚æœæŸä¸ªé«˜åº¦ä¸€ç›´å–ä¸åˆ°ï¼Œå°±ç»„è£…ä¸€æ¡HeightMessageï¼Œå‘é€ç»™è¿æ¥åˆ°çš„èŠ‚ç‚¹å•ç‹¬è·å–è¯¥é«˜åº¦çš„åŒºå—</p></li> <li><p>æµç¨‹æè¿°</p> <ul><li>åŒºå—åŒæ­¥ä¸»æµç¨‹</li></ul> <p><img src="/assets/img/block-synchronization.3b5f0ded.png" alt=""></p> <ul><li>è·å–ç½‘ç»œä¸Šå¯ç”¨èŠ‚ç‚¹åˆ—è¡¨</li></ul> <div class="language- extra-class"><pre class="language-text"><code>    1. éå†èŠ‚ç‚¹ï¼Œç»Ÿè®¡ä¸¤ä¸ªMAPï¼Œå‡å®šæ¯ä¸ªèŠ‚ç‚¹çš„(æœ€æ–°HASH+æœ€æ–°é«˜åº¦)æ˜¯key
    2. ä¸€ä¸ªä»¥keyä¸ºä¸»é”®ç»Ÿè®¡æ¬¡æ•°
    3. ä¸€ä¸ªä»¥keyä¸ºä¸»é”®è®°å½•æŒæœ‰è¯¥keyçš„èŠ‚ç‚¹åˆ—è¡¨
    4. æœ€ç»ˆç»Ÿè®¡å‡ºå‡ºç°é¢‘ç‡æœ€å¤§çš„keyï¼Œå°±è·å–åˆ°å½“å‰å¯ä¿¡çš„æœ€æ–°é«˜åº¦ä¸æœ€æ–°hashï¼Œä»¥åŠå¯ä¿¡çš„èŠ‚ç‚¹åˆ—è¡¨
    
    ä¸¾ä¸ªæ —å­:
    ç°åœ¨åŒæ—¶è¿æ¥åˆ°10ä¸ªèŠ‚ç‚¹ã€‚å…¶ä¸­4ä¸ªèŠ‚ç‚¹(A,B,C,D)çš„æœ€æ–°åŒºå—é«˜åº¦æ˜¯100ï¼Œæœ€æ–°åŒºå—hashæ˜¯aaaï¼Œå…¶ä¸­6ä¸ªèŠ‚ç‚¹(E,F,G,H,I,J)çš„æœ€æ–°åŒºå—é«˜åº¦æ˜¯101ï¼Œæœ€æ–°åŒºå—hashæ˜¯bbbã€‚
    æœ€ç»ˆè¿”å›(101ï¼Œbbb,[E,F,G,H,I,J])ã€‚
</code></pre></div><ul><li>ä¸‹è½½åŒºå—é€»è¾‘</li></ul> <p><img src="/assets/img/block-synchronization2.1bde323a.png" alt=""></p> <div class="language- extra-class"><pre class="language-text"><code>    åœ¨æ­£å¼ä¸‹è½½åŒºå—å‰ï¼Œè¦åˆ¤æ–­æœ¬åœ°ä¸ç½‘ç»œæ˜¯å¦å‘ç”Ÿåˆ†å‰ï¼Œæ˜¯å¦éœ€è¦å›æ»šã€‚ä»¥ä¾¿æ‰¾åˆ°å‡†ç¡®çš„åŒºå—ä¸‹è½½é«˜åº¦ã€‚
    ä»¥ä¸‹åˆ†æƒ…å†µè®¨è®º:
    å–ä¸Šä¸€æ­¥çš„ç»“æœ(101ï¼Œbbb,[E,F,G,H,I,J])ï¼ŒåŒæ—¶LH(N)ä»£è¡¨æœ¬åœ°ç¬¬Nå—çš„hashï¼ŒRH(N)ä»£è¡¨ç½‘ç»œä¸Šç¬¬Nå—çš„hashã€‚
    1.æœ¬åœ°é«˜åº¦100&amp;lt;ç½‘ç»œé«˜åº¦101ï¼ŒLH(100)==RH(100)ï¼Œæ­£å¸¸ï¼Œæ¯”è¿œç¨‹èŠ‚ç‚¹è½åï¼Œä¸‹è½½åŒºå—
    2.æœ¬åœ°é«˜åº¦100&amp;lt;ç½‘ç»œé«˜åº¦101ï¼ŒLH(100)!=RH(100)ï¼Œè®¤ä¸ºæœ¬åœ°åˆ†å‰ï¼Œå›æ»šæœ¬åœ°åŒºå—ï¼Œå¦‚æœLH(99)==RH(99)
    å›æ»šç»“æŸï¼Œä»99å—å¼€å§‹ä¸‹è½½ï¼Œå¦‚æœLH(99)!=RH(99)ï¼Œç»§ç»­å›æ»šï¼Œé‡å¤ä¸Šè¿°é€»è¾‘ã€‚ä½†æœ€å¤šå›æ»š10ä¸ªå—å°±åœæ­¢ï¼Œç­‰å¾…ä¸‹æ¬¡åŒæ­¥ï¼Œè¿™æ ·å¯ä»¥é¿å…è¢«æ¶æ„èŠ‚ç‚¹æ”»å‡»ï¼Œå¤§é‡å›æ»šæ­£å¸¸åŒºå—ã€‚
    3.æœ¬åœ°é«˜åº¦102&gt;ç½‘ç»œé«˜åº¦101ï¼ŒLH(101)==RH(101)ï¼Œæ­£å¸¸ï¼Œæ¯”è¿œç¨‹èŠ‚ç‚¹é¢†å…ˆï¼Œæ— éœ€ä¸‹è½½åŒºå—
    4.æœ¬åœ°é«˜åº¦102&gt;ç½‘ç»œé«˜åº¦101ï¼ŒLH(101)!=RH(101)ï¼Œè®¤ä¸ºæœ¬åœ°åˆ†å‰ï¼Œå…ˆä¸€æ¬¡æ€§å›æ»šåˆ°é«˜åº¦ä¸è¿œç¨‹ä¸€è‡´ï¼Œé‡å¤åœºæ™¯2
    5.æœ¬åœ°é«˜åº¦101=ç½‘ç»œé«˜åº¦101ï¼ŒLH(101)==RH(101)ï¼Œæ­£å¸¸ï¼Œä¸è¿œç¨‹èŠ‚ç‚¹ä¸€è‡´ï¼Œæ— éœ€ä¸‹è½½åŒºå—
    6.æœ¬åœ°é«˜åº¦101=ç½‘ç»œé«˜åº¦101ï¼ŒLH(101)!=RH(101)ï¼Œè®¤ä¸ºæœ¬åœ°åˆ†å‰ï¼Œé‡å¤åœºæ™¯2
    
    åœºæ™¯1ã€2éœ€è¦é¢å¤–ä»èŠ‚ç‚¹ä¸‹è½½ä¸æœ¬åœ°é«˜åº¦ä¸€è‡´çš„åŒºå—ï¼Œè¿›è¡Œhashåˆ¤æ–­
    ä¸Šè¿°éœ€è¦å›æ»šçš„åœºæ™¯ï¼Œè¦æ»¡è¶³å¯ç”¨èŠ‚ç‚¹æ•°(10ä¸ª)&gt;é…ç½®ï¼Œä¸€è‡´å¯ç”¨èŠ‚ç‚¹æ•°(6ä¸ª)å æ¯”è¶…80%ä¸¤ä¸ªæ¡ä»¶ï¼Œé¿å…èŠ‚ç‚¹å¤ªå°‘å¯¼è‡´é¢‘ç¹å›æ»šã€‚ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œæ¸…ç©ºå·²è¿æ¥èŠ‚ç‚¹ï¼Œé‡æ–°è·å–å¯ç”¨èŠ‚ç‚¹ã€‚
 
    çœŸæ­£ä¸‹è½½åŒºå—æ—¶ï¼Œä¸¾ä¸ªä¾‹å­:
    å½“å‰é«˜åº¦100ï¼Œç½‘ç»œé«˜åº¦500ï¼Œå¯ç”¨èŠ‚ç‚¹12ä¸ªï¼Œä¸€è‡´å¯ç”¨èŠ‚ç‚¹10ä¸ªï¼Œæ¯ä¸ªèŠ‚ç‚¹åˆå§‹ä¸‹è½½åŒºå—2ä¸ªï¼Œä¸‹è½½æ—¶ç¼“å­˜é˜Ÿåˆ—æœ€å¤šå…è®¸ç¼“å­˜100ä¸ªåŒºå—
    ä¼ªä»£ç è¡¨ç¤º
    	ç©ºé—²çš„ä¸‹è½½èŠ‚ç‚¹é˜Ÿåˆ—ï¼šnodes(æ¯ä¸ªä¸‹è½½èŠ‚ç‚¹ä¼šæœ‰åˆå§‹ä¸‹è½½ä¿¡ç”¨å€¼ï¼Œæ¯ä¸‹è½½æˆåŠŸä¸€æ¬¡ä¿¡ç”¨å€¼å¢åŠ ï¼Œä¿¡ç”¨æœ€å¤§å€¼ä¸ºåˆå§‹å€¼çš„2å€)
    	ä¸‹è½½åˆ°çš„åŒºå—ç¼“å­˜é˜Ÿåˆ—ï¼šqueue
        ä¸‹è½½èµ·å§‹é«˜åº¦ï¼šstartHeight = 101;
        ä¸‹è½½ç»“æŸé«˜åº¦ï¼šnetLatestHeight = 500;
        while (startHeight &amp;lt;= netLatestHeight) {
                while (queue.size() &gt; 100) {
                    BlockDownloader waitï¼ cached queue size beyond config
                }
                è·å–ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹
                æ ¹æ®èŠ‚ç‚¹ä¸‹è½½ä¿¡ç”¨å€¼è®¡ç®—æœ¬æ¬¡ä¸‹è½½åŒºå—æ•°é‡ä¸ºsize
                æäº¤å¼‚æ­¥ä¸‹è½½ä»»åŠ¡
                startHeight += size;
        }
å¦‚æœæŸèŠ‚ç‚¹ä¸‹è½½å¤±è´¥ï¼Œåˆ™ç”±å…¶ä»–èŠ‚ç‚¹ä»£ä¸ºä¸‹è½½
è€ƒè™‘ä¸‹è½½è¿‡ç¨‹ä¸­ï¼Œç½‘ç»œä¸Šå…¶ä»–èŠ‚ç‚¹è¿˜ä¼šç»§ç»­ç”Ÿæˆæ–°åŒºå—ã€‚ä¸‹è½½ç»“æŸåï¼Œéœ€è¦åˆ¤æ–­æœ¬åœ°æœ€æ–°åŒºå—é«˜åº¦ä¸ç½‘ä¸Šæœ€æ–°ä¸€è‡´é«˜åº¦æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒï¼Œæ ‡å¿—åŒºå—åŒæ­¥ç»“æŸï¼Œå¦‚æœä¸ç›¸åŒï¼Œåˆ™éœ€è¦ç»§ç»­ä¸‹è½½
</code></pre></div><ul><li>ä»èŠ‚ç‚¹ä¸‹è½½æŸé«˜åº¦åŒºé—´å†…çš„åŒºå—</li></ul> <p><img src="/assets/img/block-synchronization3.99496017.png" alt=""></p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·ã€RPCå·¥å…·</p></li></ul> <h4 id="_2-3-5-åŒºå—åŸºç¡€éªŒè¯"><a href="#_2-3-5-åŒºå—åŸºç¡€éªŒè¯" class="header-anchor">#</a> 2.3.5 åŒºå—åŸºç¡€éªŒè¯</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>éªŒè¯åŒºå—è‡ªèº«æ•°æ®æ­£ç¡®æ€§,ä¸‹è½½è¿‡ç¨‹ä¸­éªŒè¯ï¼ŒéªŒè¯é€šè¿‡è¯´æ˜åŒºå—æ•°æ®æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼ŒéªŒè¯å¤±è´¥åˆ™ä¸¢å¼ƒè¯¥åŒºå—</p></li> <li><p>æµç¨‹æè¿°</p> <ul><li>åŒºå—åŸºæœ¬éªŒè¯</li></ul> <p><img src="/assets/img/block-basic-validation.07557d70.png" alt=""></p> <ul><li>åŒºå—å¤´éªŒè¯</li></ul> <p><img src="/assets/img/block-basic-validation1.cf392d66.png" alt=""></p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-6-åˆ†å‰åŒºå—ã€å­¤å„¿åŒºå—éªŒè¯"><a href="#_2-3-6-åˆ†å‰åŒºå—ã€å­¤å„¿åŒºå—éªŒè¯" class="header-anchor">#</a> 2.3.6 åˆ†å‰åŒºå—ã€å­¤å„¿åŒºå—éªŒè¯</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>éªŒè¯åŒºå—ä¸Šä¸‹æ–‡æ­£ç¡®æ€§ï¼Œä¸‹è½½å®ŒæˆåéªŒè¯ï¼ŒéªŒè¯é€šè¿‡è¯´æ˜è¯¥åŒºå—ä¸ä¸»é“¾ç›¸è¿ï¼ŒéªŒè¯å¤±è´¥è¯´æ˜è¯¥åŒºå—åˆ†å‰ï¼Œè¿›å…¥åˆ†å‰é“¾å¤„ç†é€»è¾‘</p></li> <li><p>æµç¨‹æè¿°</p> <ul><li>åˆ†å‰åŒºå—ã€å­¤å„¿åŒºå—éªŒè¯</li> <li>åŒºå—Bä¸é“¾Açš„å…³ç³»æœ‰å››ç§ï¼š</li> <li>1.Bæ˜¯Aä¸Šé‡å¤çš„åŒºå—</li> <li>2.Bæ˜¯Aä¸Šåˆ†å‰çš„åŒºå—</li> <li>3.Bèƒ½ç›´æ¥è¿åˆ°A</li> <li>4.Bä¸Aæ²¡æœ‰ä»»ä½•å…³è”å…³ç³»</li> <li>ä»¥ä¸Šå››ç§å…³ç³»é€‚ç”¨äºä¸»é“¾ã€åˆ†å‰é“¾ã€å­¤å„¿é“¾</li></ul> <p>é«˜åº¦å·®1000ä»¥å†…ç¼“å­˜åˆ°ç£ç›˜ï¼Œç£ç›˜ç©ºé—´åšå¤§å°é™åˆ¶ï¼Œè¶…å‡ºé«˜åº¦åˆ™ä¸¢å¼ƒï¼Œç¼“å­˜ç©ºé—´æ»¡åˆ™æŒ‰åŠ å…¥ç¼“å­˜æ—¶é—´é¡ºåºæ¸…ç†åˆ†å‰é“¾ã€‚
å¦‚æœæ˜¯æ­£å¸¸è¿è¡Œæ—¶ï¼Œæ”¶åˆ°å…¶ä»–èŠ‚ç‚¹è½¬å‘çš„åŒºå—ï¼Œå‘ç°åˆ†å‰äº†è¦é€šçŸ¥å…±è¯†æ¨¡å—ç»™ç”Ÿæˆè¿™ä¸ªåŒºå—çš„èŠ‚ç‚¹çº¢ç‰Œæƒ©ç½šï¼Œç³»ç»Ÿå¯åŠ¨åçš„åŒæ­¥è¿‡ç¨‹ä¸­ä¸åšè¿™ä¸ªåˆ¤æ–­</p> <p><img src="/assets/img/block-fork.a3b65fd6.png" alt=""></p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-7-åˆ†å‰é“¾ç®¡ç†"><a href="#_2-3-7-åˆ†å‰é“¾ç®¡ç†" class="header-anchor">#</a> 2.3.7 åˆ†å‰é“¾ç®¡ç†</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>åˆ¤æ–­åˆ†å‰é“¾ä¸ä¸»é“¾æ˜¯å¦éœ€è¦è¿›è¡Œåˆ‡æ¢</p></li> <li><p>æµç¨‹æè¿°</p> <ul><li>æ‰¾å‡ºæœ€å¤§é«˜åº¦å·®ï¼Œä¸é“¾åˆ‡æ¢é˜ˆå€¼å¯¹æ¯”ï¼Œå¤§äºé˜ˆå€¼åˆ™è¿›è¡Œé“¾åˆ‡æ¢
<ul><li>æ‰¾åˆ°ä¸»é“¾ä¸æœ€é•¿åˆ†å‰é“¾çš„åˆ†å‰ç‚¹ï¼ŒåŒæ—¶æ‰¾å‡ºé“¾åˆ‡æ¢è·¯å¾„</li> <li>å›æ»šä¸»é“¾åŒºå—ï¼Œå›æ»šæ‰çš„åŒºå—ç»„æˆæ–°çš„åˆ†å‰é“¾é“¾æ¥åˆ°åŸä¸»é“¾</li> <li>ä¾æ¬¡æ·»åŠ åˆ‡æ¢è·¯å¾„ä¸Šçš„åˆ†å‰é“¾çš„åŒºå—</li> <li>åˆ‡æ¢å®Œæˆ</li></ul></li></ul></li></ul> <p><img src="/assets/img/block-fork-chain.ceeb7bdd.png" alt=""></p> <ul><li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-8-å­¤å„¿é“¾ç®¡ç†"><a href="#_2-3-8-å­¤å„¿é“¾ç®¡ç†" class="header-anchor">#</a> 2.3.8 å­¤å„¿é“¾ç®¡ç†</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>ç”¨æ¥è¿›è¡Œå­¤å„¿é“¾ä¸åˆ†å‰é“¾ã€ä¸»é“¾çš„ç›¸è¿ã€åˆ†å‰æ“ä½œ</p></li> <li><p>æµç¨‹æè¿°</p> <p>é“¾ä¸é“¾ä¹‹é—´çš„å…³ç³»å°±ä¸‰ç§ï¼Œç›¸è¿ã€åˆ†å‰ã€é‡å¤ã€‚</p></li></ul> <ol><li><p>æ ‡è®°(å˜æ›´é“¾å±æ€§é˜¶æ®µ)
ä¸»é“¾ã€åˆ†å‰é“¾ã€å­¤å„¿é“¾åˆ†åˆ«å¯¹åº”MASTERï¼ŒFORKï¼ŒORPHANä¸‰ç§æœ€ç»ˆç±»åˆ«</p> <ul><li>å¦‚æœå­¤å„¿é“¾ä¸ä¸»é“¾ç›¸è¿ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºMASTER_APPENDï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºMASTER_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸ä¸»é“¾é‡å¤ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºMASTER_DUPLICATEï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºMASTER_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸ä¸»é“¾åˆ†å‰ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºMASTER_FORKï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºFORK_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸åˆ†å‰é“¾ç›¸è¿ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºFORK_APPENDï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºFORK_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸åˆ†å‰é“¾é‡å¤ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºFORK_DUPLICATEï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºFORK_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸åˆ†å‰é“¾åˆ†å‰ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºFORK_FORKï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºFORK_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸å­¤å„¿é“¾ç›¸è¿ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºORPHAN_APPENDï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºORPHAN_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸å­¤å„¿é“¾é‡å¤ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºORPHAN_DUPLICATEï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºORPHAN_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ä¸å­¤å„¿é“¾åˆ†å‰ï¼Œæš‚æ—¶æ ‡è®°å­¤å„¿é“¾ä¸ºORPHAN_FORKï¼Œæ ‡è®°å­¤å„¿é“¾çš„å­é“¾ä¸ºORPHAN_FORK</li> <li>å¦‚æœå­¤å„¿é“¾ç»è¿‡ä¸Šè¿°æµç¨‹æ ‡å¿—æœªå˜ï¼Œè¯´æ˜å®ƒä¸å…¶ä»–é“¾æ²¡æœ‰å…³è”ï¼Œæ ‡å¿—ä¾ç„¶ä¸ºORPHAN</li></ul></li> <li><p>å¤åˆ¶ã€æ¸…é™¤</p> <ul><li>å¦‚æœæ ‡è®°ä¸ºä¸ä¸»é“¾é‡å¤,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä¹Ÿä¸ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.MASTER_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸ä¸»é“¾ç›¸è¿,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä¹Ÿä¸ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.MASTER_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä»ä¸»é“¾åˆ†å‰,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä½†æ˜¯ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.FORK_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸åˆ†å‰é“¾é‡å¤,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä¹Ÿä¸ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.FORK_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸åˆ†å‰é“¾ç›¸è¿,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä¹Ÿä¸ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.FORK_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä»åˆ†å‰é“¾åˆ†å‰,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä½†æ˜¯ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.FORK_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸å­¤å„¿é“¾é‡å¤,orphanChainä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ä¹Ÿä¸ä¼šè¿›å…¥åˆ†å‰é“¾é›†åˆ,orphanChainçš„ç›´æ¥å­é“¾æ ‡è®°ä¸ºChainTypeEnum.ORPHAN_FORK</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸å­¤å„¿é“¾ç›¸è¿,ä¸ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,æ‰€æœ‰orphanChainçš„ç›´æ¥å­é“¾ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ç±»å‹ä¸å˜</li> <li>å¦‚æœæ ‡è®°ä¸ºä¸å­¤å„¿é“¾åˆ†å‰,ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,æ‰€æœ‰orphanChainçš„ç›´æ¥å­é“¾ä¼šå¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ,ç±»å‹ä¸å˜</li> <li>å¦‚æœæ ‡è®°ä¸ºå­¤å„¿é“¾(æœªå˜åŒ–),æˆ–è€…ä»å­¤å„¿é“¾åˆ†å‰,å¤åˆ¶åˆ°æ–°çš„å­¤å„¿é“¾é›†åˆ</li></ul></li></ol> <ul><li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-9-å­¤å„¿é“¾ç»´æŠ¤"><a href="#_2-3-9-å­¤å„¿é“¾ç»´æŠ¤" class="header-anchor">#</a> 2.3.9 å­¤å„¿é“¾ç»´æŠ¤</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>å®šæ—¶å°è¯•åœ¨å­¤å„¿é“¾çš„é“¾é¦–è¯·æ±‚å¢åŠ åŒºå—ï¼Œç»´æŠ¤å¤±è´¥å­¤å„¿é“¾å¹´é¾„åŠ ä¸€ã€‚</p></li> <li><p>æµç¨‹æè¿°</p> <p>éå†æ‰€æœ‰å­¤å„¿é“¾ï¼Œå–é“¾ä¸Šèµ·å§‹åŒºå—çš„preHashï¼Œç»„è£…æˆHashMessageå‘å¾€å½“å‰å¯ç”¨èŠ‚ç‚¹ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œç­‰å¾…å¼‚æ­¥è¿”å›ç»“æœã€‚</p></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-10-è½¬å‘åŒºå—"><a href="#_2-3-10-è½¬å‘åŒºå—" class="header-anchor">#</a> 2.3.10 è½¬å‘åŒºå—</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>éå‡ºå—èŠ‚ç‚¹éªŒè¯å®ŒåŒºå—åæ‰§è¡Œè½¬å‘æµç¨‹</p></li> <li><p>æµç¨‹æè¿°</p></li></ul> <ol><li>ä½¿ç”¨blockHashç»„è£…HashMessageï¼Œå‘é€ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>ç›®æ ‡èŠ‚ç‚¹æ”¶åˆ°HashMessageåï¼Œå–å‡ºhashåˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå¦‚æœä¸é‡å¤ï¼Œä½¿ç”¨hashç»„è£…HashMessageå‘ç»™æºèŠ‚ç‚¹</li> <li>æºèŠ‚ç‚¹æ”¶åˆ°GetSmallBlockMessageåï¼Œå–å‡ºhashï¼ŒæŸ¥è¯¢SmallBlockå¹¶ç»„è£…SmallBlockMessageï¼Œå‘ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>åç»­äº¤äº’æµç¨‹å‚è€ƒå¹¿æ’­åŒºå—</li></ol> <ul><li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h4 id="_2-3-11-å¹¿æ’­åŒºå—"><a href="#_2-3-11-å¹¿æ’­åŒºå—" class="header-anchor">#</a> 2.3.11 å¹¿æ’­åŒºå—</h4> <ul><li><p>åŠŸèƒ½è¯´æ˜:</p> <p>å‡ºå—çš„èŠ‚ç‚¹æ‰§è¡Œå¹¿æ’­æµç¨‹</p></li> <li><p>æµç¨‹æè¿°</p> <ul><li>æ¥æ”¶å…±è¯†æ¨¡å—çš„æ‰“åŒ…åŒºå—ï¼ŒéªŒè¯æˆåŠŸåï¼Œæ ¹æ®Blockç»„è£…SmallBlockMessageå¹¶å¹¿æ’­ç»™è¿æ¥åˆ°çš„èŠ‚ç‚¹</li> <li>ç›®æ ‡èŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯åæ ¹æ®txHashListåˆ¤æ–­å“ªäº›äº¤æ˜“æœ¬åœ°æ²¡æœ‰,å†ç»„è£…HashListMessageå‘ç»™æºèŠ‚ç‚¹</li> <li>æºèŠ‚ç‚¹æ”¶åˆ°ä¿¡æ¯åæŒ‰ç…§hashlistç»„è£…TxGroupMessage,è¿”å›ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>è‡³æ­¤å®Œæ•´åŒºå—æ•°æ®å·²ç»å‘é€ç»™ç›®æ ‡èŠ‚ç‚¹ã€‚</li></ul></li> <li><p>ä¾èµ–æœåŠ¡</p> <p>å·¥å…·æ¨¡å—çš„æ•°æ®åº“å­˜å‚¨å·¥å…·</p></li></ul> <h2 id="ä¸‰ã€äº‹ä»¶è¯´æ˜"><a href="#ä¸‰ã€äº‹ä»¶è¯´æ˜" class="header-anchor">#</a> ä¸‰ã€äº‹ä»¶è¯´æ˜</h2> <h3 id="_3-1-å‘å¸ƒçš„äº‹ä»¶"><a href="#_3-1-å‘å¸ƒçš„äº‹ä»¶" class="header-anchor">#</a> 3.1 å‘å¸ƒçš„äº‹ä»¶</h3> <h4 id="_3-1-1-åŒæ­¥å®Œæˆ"><a href="#_3-1-1-åŒæ­¥å®Œæˆ" class="header-anchor">#</a> 3.1.1 åŒæ­¥å®Œæˆ</h4> <p>è¯´æ˜:åŒæ­¥å®Œæˆï¼Œæœ¬åœ°åŒºå—é«˜åº¦ä¸ç½‘ç»œé«˜åº¦ä¸€è‡´æ—¶ï¼Œå‘å¸ƒè¯¥äº‹ä»¶</p> <p>event_topic : &quot;bl_blockSyncComplete&quot;,</p> <div class="language- extra-class"><pre class="language-text"><code>data:{
    chainId
    height
    hash
}
</code></pre></div><h4 id="_3-1-2-ä¿å­˜åŒºå—"><a href="#_3-1-2-ä¿å­˜åŒºå—" class="header-anchor">#</a> 3.1.2 ä¿å­˜åŒºå—</h4> <p>è¯´æ˜:æ¯ä¿å­˜ä¸€ä¸ªåŒºå—ï¼Œå‘å¸ƒè¯¥äº‹ä»¶ï¼Œåˆæ¬¡åŒæ­¥æ—¶ä¸å‘è¯¥äº‹ä»¶</p> <p>event_topic : &quot;bl_saveBlock&quot;,</p> <div class="language- extra-class"><pre class="language-text"><code>data:{
    chainId
    height
    hash
}
</code></pre></div><h4 id="_3-1-3-å›æ»šåŒºå—"><a href="#_3-1-3-å›æ»šåŒºå—" class="header-anchor">#</a> 3.1.3 å›æ»šåŒºå—</h4> <p>è¯´æ˜:æ¯å›æ»šä¸€ä¸ªåŒºå—ï¼Œå‘å¸ƒè¯¥äº‹ä»¶</p> <p>event_topic : &quot;bl_rollbackBlock&quot;,</p> <div class="language- extra-class"><pre class="language-text"><code>data:{
    chainId
    height
    hash
}
</code></pre></div><h3 id="_3-2-è®¢é˜…çš„äº‹ä»¶"><a href="#_3-2-è®¢é˜…çš„äº‹ä»¶" class="header-anchor">#</a> 3.2 è®¢é˜…çš„äº‹ä»¶</h3> <p>â€‹	ç•¥</p> <h2 id="å››ã€åè®®"><a href="#å››ã€åè®®" class="header-anchor">#</a> å››ã€åè®®</h2> <h3 id="_4-1-ç½‘ç»œé€šè®¯åè®®"><a href="#_4-1-ç½‘ç»œé€šè®¯åè®®" class="header-anchor">#</a> 4.1 ç½‘ç»œé€šè®¯åè®®</h3> <p>â€‹	å‚è§ç½‘ç»œæ¨¡å—</p> <h3 id="_4-2-æ¶ˆæ¯åè®®"><a href="#_4-2-æ¶ˆæ¯åè®®" class="header-anchor">#</a> 4.2 æ¶ˆæ¯åè®®</h3> <h4 id="_4-2-1-åŒºå—é«˜åº¦ä¿¡æ¯heightmessage"><a href="#_4-2-1-åŒºå—é«˜åº¦ä¿¡æ¯heightmessage" class="header-anchor">#</a> 4.2.1 åŒºå—é«˜åº¦ä¿¡æ¯HeightMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;åŒºå—åŒæ­¥&quot;è¿‡ç¨‹ä¸­é‡è¯•ä¸‹è½½</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>getBlockH</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>64</td> <td>heighrt</td> <td>int64</td> <td>åŒºå—é«˜åº¦</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>æ ¹æ®åŒºå—é«˜åº¦æŸ¥è¯¢å®Œæ•´åŒºå—å¹¶å‘é€ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>å¦‚æœæ²¡æœ‰è¯¥é«˜åº¦çš„åŒºå—ï¼Œè¿”å›ç©ºæ¶ˆæ¯</li></ul></li></ul> <h4 id="_4-2-2-å•ä¸ªæ‘˜è¦æ¶ˆæ¯hashmessage"><a href="#_4-2-2-å•ä¸ªæ‘˜è¦æ¶ˆæ¯hashmessage" class="header-anchor">#</a> 4.2.2 å•ä¸ªæ‘˜è¦æ¶ˆæ¯HashMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;è½¬å‘åŒºå—&quot;,&quot;å­¤å„¿é“¾ç»´æŠ¤&quot;åŠŸèƒ½</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>forward,getBlock,getsBlock</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>32</td> <td>hash</td> <td>byte[]</td> <td>äº¤æ˜“hash</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>è½¬å‘SmallBlockçš„hash</li> <li>æ ¹æ®hashè·å–SmallBlock</li> <li>æ ¹æ®hashè·å–å®Œæ•´åŒºå—</li></ul></li></ul> <h4 id="_4-2-3-æ‘˜è¦åˆ—è¡¨æ¶ˆæ¯hashlistmessage"><a href="#_4-2-3-æ‘˜è¦åˆ—è¡¨æ¶ˆæ¯hashlistmessage" class="header-anchor">#</a> 4.2.3 æ‘˜è¦åˆ—è¡¨æ¶ˆæ¯HashListMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;è½¬å‘åŒºå—&quot;åŠŸèƒ½</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>getTxs</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>32</td> <td>blockHash</td> <td>byte[]</td> <td>åŒºå—hash</td></tr> <tr><td>?</td> <td>hashLength</td> <td>VarInt</td> <td>æ•°ç»„é•¿åº¦</td></tr> <tr><td>32</td> <td>hash</td> <td>byte[]</td> <td>äº¤æ˜“hash</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p></li></ul> <ol><li>æ ¹æ®chainIDã€hashè·å–Transactionåˆ—è¡¨</li> <li>ç»„è£…TxGroupMessageï¼Œå¹¶å‘é€ç»™æºèŠ‚ç‚¹</li></ol> <h4 id="_4-2-4-åŒºå—å¹¿æ’­æ¶ˆæ¯smallblockmessage"><a href="#_4-2-4-åŒºå—å¹¿æ’­æ¶ˆæ¯smallblockmessage" class="header-anchor">#</a> 4.2.4 åŒºå—å¹¿æ’­æ¶ˆæ¯SmallBlockMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;è½¬å‘åŒºå—&quot;ã€&quot;å¹¿æ’­åŒºå—&quot;åŠŸèƒ½</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆshortï¼‰</p> <p>sBlock</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>?</td> <td>preHash</td> <td>byte[]</td> <td>preHash</td></tr> <tr><td>?</td> <td>merkleHash</td> <td>byte[]</td> <td>merkleHash</td></tr> <tr><td>32</td> <td>time</td> <td>Uint32</td> <td>æ—¶é—´</td></tr> <tr><td>32</td> <td>height</td> <td>Uint32</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>32</td> <td>txCount</td> <td>Uint32</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>?</td> <td>extendLength</td> <td>VarInt</td> <td>extendæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>extend</td> <td>byte[]</td> <td>extend</td></tr> <tr><td>32</td> <td>publicKeyLength</td> <td>Uint32</td> <td>å…¬é’¥æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>publicKey</td> <td>byte[]</td> <td>å…¬é’¥</td></tr> <tr><td>?</td> <td>signBytesLength</td> <td>VarInt</td> <td>ç­¾åæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>signBytes</td> <td>byte[]</td> <td>ç­¾å</td></tr> <tr><td>?</td> <td>txHashListLength</td> <td>VarInt</td> <td>äº¤æ˜“hashåˆ—è¡¨æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txHashLength</td> <td>VarInt</td> <td>äº¤æ˜“hashæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txHash</td> <td>byte[]</td> <td>äº¤æ˜“hash</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>åˆ¤æ–­åŒºå—æ—¶é—´æˆ³æ˜¯å¦å¤§äº(å½“å‰æ—¶é—´+10s)ï¼Œå¦‚æœå¤§äºè¿™ä¸ªæ—¶é—´ï¼Œåˆ™åˆ¤å®šä¸ºæ¶æ„æå‰å‡ºå—ï¼Œå¿½ç•¥è¯¥æ¶ˆæ¯</li> <li>æ ¹æ®chainIDã€åŒºå—hashåˆ¤æ–­æ¶ˆæ¯æ˜¯å¦é‡å¤ï¼Œå¦‚æœé‡å¤ï¼Œåˆ™å¿½ç•¥è¯¥æ¶ˆæ¯(è¿™é‡Œè¦æ±‚ç»´æŠ¤ä¸€ä¸ªé›†åˆ,æŒ‰ç…§chainIDåˆ†ç±»å‚¨å­˜æ”¶åˆ°çš„åŒºå—hash)</li> <li>æ ¹æ®chainIDã€åŒºå—hashåœ¨DBä¸­æŸ¥è¯¢æœ¬åœ°æ˜¯å¦å·²ç»æœ‰è¯¥åŒºå—ï¼Œå¦‚æœå·²ç»æœ‰äº†ï¼Œåˆ™å¿½ç•¥è¯¥æ¶ˆæ¯</li> <li>éªŒè¯åŒºå—å¤´ï¼ŒéªŒè¯å¤±è´¥ï¼Œåˆ™å¿½ç•¥è¯¥æ¶ˆæ¯</li> <li>å–txHashListï¼Œåˆ¤æ–­é‚£äº›txæœ¬åœ°æ²¡æœ‰ï¼Œç»„è£…HashListMessageï¼Œå‘ç»™æºèŠ‚ç‚¹ï¼Œè·å–æ²¡æœ‰çš„é‚£äº›äº¤æ˜“ä¿¡æ¯</li> <li>å¦‚æœäº¤æ˜“éƒ½æœ‰ï¼Œç»„æ”¾å…¥ç¼“å­˜é˜Ÿåˆ—ï¼Œç­‰å¾…éªŒè¯çº¿ç¨‹éªŒè¯åå­˜å‚¨</li></ul></li></ul> <h4 id="_4-2-5-é«˜åº¦åŒºé—´æ¶ˆæ¯heightrangemessage"><a href="#_4-2-5-é«˜åº¦åŒºé—´æ¶ˆæ¯heightrangemessage" class="header-anchor">#</a> 4.2.5 é«˜åº¦åŒºé—´æ¶ˆæ¯HeightRangeMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;åŒæ­¥åŒºå—&quot;åŠŸèƒ½</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>getBlocks</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>64</td> <td>startHeight</td> <td>int64</td> <td>èµ·å§‹é«˜åº¦</td></tr> <tr><td>64</td> <td>endHeight</td> <td>int64</td> <td>ç»“æŸé«˜åº¦</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>chainIDã€é«˜åº¦å‚æ•°éªŒè¯</li> <li>ä»startHeightå¼€å§‹æŸ¥æ‰¾Block,ç»„è£…BlockMessageï¼Œå‘ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>æŸ¥æ‰¾åˆ°endHeightä¸ºæ­¢ï¼Œç»„è£…CompleteMessage(true)ï¼Œå‘ç»™ç›®æ ‡èŠ‚ç‚¹</li> <li>ä¸­é€”æŸ¥æ‰¾å¤±è´¥ï¼Œç»„è£…CompleteMessage(false)ï¼Œå‘ç»™ç›®æ ‡èŠ‚ç‚¹</li></ul></li></ul> <h4 id="_4-2-6-å®Œæ•´çš„åŒºå—æ¶ˆæ¯blockmessage"><a href="#_4-2-6-å®Œæ•´çš„åŒºå—æ¶ˆæ¯blockmessage" class="header-anchor">#</a> 4.2.6 å®Œæ•´çš„åŒºå—æ¶ˆæ¯BlockMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;åŒºå—åŒæ­¥&quot;</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>block</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>32</td> <td>requestHash</td> <td>byte[]</td> <td>requestHash</td></tr> <tr><td>32</td> <td>preHash</td> <td>byte[]</td> <td>ä¸Šä¸€ä¸ªåŒºå—çš„hash</td></tr> <tr><td>32</td> <td>merkleHash</td> <td>byte[]</td> <td>merkleHash</td></tr> <tr><td>32</td> <td>time</td> <td>Uint32</td> <td>æ—¶é—´</td></tr> <tr><td>32</td> <td>height</td> <td>Uint32</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>32</td> <td>txCount</td> <td>Uint32</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>?</td> <td>extendLength</td> <td>VarInt</td> <td>extendæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>extend</td> <td>byte[]</td> <td>extend</td></tr> <tr><td>32</td> <td>publicKeyLength</td> <td>Uint32</td> <td>å…¬é’¥æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>publicKey</td> <td>byte[]</td> <td>å…¬é’¥</td></tr> <tr><td>?</td> <td>signBytesLength</td> <td>VarInt</td> <td>ç­¾åæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>signBytes</td> <td>byte[]</td> <td>åŒºå—ç­¾å</td></tr> <tr><td>16</td> <td>type</td> <td>uint16</td> <td>äº¤æ˜“ç±»å‹</td></tr> <tr><td>32</td> <td>time</td> <td>uint32</td> <td>äº¤æ˜“æ—¶é—´</td></tr> <tr><td>?</td> <td>remarkLength</td> <td>VarInt</td> <td>å¤‡æ³¨æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>remark</td> <td>byte[]</td> <td>å¤‡æ³¨</td></tr> <tr><td>?</td> <td>txDataLength</td> <td>VarInt</td> <td>äº¤æ˜“æ•°æ®æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txData</td> <td>byte[]</td> <td>äº¤æ˜“æ•°æ®</td></tr> <tr><td>?</td> <td>coinDataLength</td> <td>VarInt</td> <td>CoinDataæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>coinData</td> <td>byte[]</td> <td>CoinData</td></tr> <tr><td>?</td> <td>txSignLength</td> <td>VarInt</td> <td>äº¤æ˜“ç­¾åæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txSign</td> <td>byte[]</td> <td>äº¤æ˜“ç­¾å</td></tr> <tr><td>1</td> <td>syn</td> <td>byte</td> <td>æ˜¯å¦æ˜¯ä¸ºåŒºå—åŒæ­¥è¯·æ±‚çš„åŒºå—</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>å¦‚æœsyn==true,æŠŠåŒºå—æ”¾å…¥åŒæ­¥çš„ç¼“å­˜mapä¸­,å¹¶å¢åŠ åŒæ­¥åŒºå—å­—èŠ‚æ•°</li> <li>å¦‚æœsyn==false,æ”¾å…¥å•ä¸ªåŒºå—ç¼“å­˜ä¸­</li></ul></li></ul> <h4 id="_4-2-7-è¯·æ±‚å®Œæˆæ¶ˆæ¯completemessage"><a href="#_4-2-7-è¯·æ±‚å®Œæˆæ¶ˆæ¯completemessage" class="header-anchor">#</a> 4.2.7 è¯·æ±‚å®Œæˆæ¶ˆæ¯CompleteMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:é€šç”¨æ¶ˆæ¯ï¼Œç”¨äºå¼‚æ­¥è¯·æ±‚ï¼Œæ ‡å¿—å¼‚æ­¥è¯·æ±‚å¤„ç†ç»“æŸã€‚</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>complete</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>32</td> <td>Hash</td> <td>byte[]</td> <td>Hash</td></tr> <tr><td>1</td> <td>success</td> <td>byte</td> <td>æˆåŠŸæ ‡å¿—</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p></li></ul> <ol><li>æ ¹æ®chainIDã€nodeIdæŠŠå¯¹åº”èŠ‚ç‚¹çš„å·¥ä½œæ ‡å¿—è®¾ç½®ä¸ºç©ºé—²ã€‚</li></ol> <h4 id="_4-2-8-äº¤æ˜“åˆ—è¡¨çš„æ¶ˆæ¯txgroupmessage"><a href="#_4-2-8-äº¤æ˜“åˆ—è¡¨çš„æ¶ˆæ¯txgroupmessage" class="header-anchor">#</a> 4.2.8 äº¤æ˜“åˆ—è¡¨çš„æ¶ˆæ¯TxGroupMessage</h4> <ul><li><p>æ¶ˆæ¯è¯´æ˜:ç”¨äº&quot;è½¬å‘åŒºå—&quot;</p></li> <li><p>æ¶ˆæ¯ç±»å‹ï¼ˆcmdï¼‰</p> <p>txs</p></li> <li><p>æ¶ˆæ¯çš„æ ¼å¼ï¼ˆmessageBodyï¼‰</p></li></ul> <table><thead><tr><th>Length</th> <th>Fields</th> <th>Type</th> <th>Remark</th></tr></thead> <tbody><tr><td>32</td> <td>blockHash</td> <td>byte[]</td> <td>blockHash</td></tr> <tr><td>?</td> <td>txCount</td> <td>VarInt</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>16</td> <td>type</td> <td>uint16</td> <td>äº¤æ˜“ç±»å‹</td></tr> <tr><td>32</td> <td>time</td> <td>uint32</td> <td>äº¤æ˜“æ—¶é—´</td></tr> <tr><td>?</td> <td>remarkLength</td> <td>VarInt</td> <td>å¤‡æ³¨æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>remark</td> <td>byte[]</td> <td>å¤‡æ³¨</td></tr> <tr><td>?</td> <td>txDataLength</td> <td>VarInt</td> <td>äº¤æ˜“æ•°æ®æ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txData</td> <td>byte[]</td> <td>äº¤æ˜“æ•°æ®</td></tr> <tr><td>?</td> <td>coinDataLength</td> <td>VarInt</td> <td>CoinDataæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>coinData</td> <td>byte[]</td> <td>CoinData</td></tr> <tr><td>?</td> <td>txSignLength</td> <td>VarInt</td> <td>äº¤æ˜“ç­¾åæ•°ç»„é•¿åº¦</td></tr> <tr><td>?</td> <td>txSign</td> <td>byte[]</td> <td>äº¤æ˜“ç­¾å</td></tr></tbody></table> <ul><li><p>æ¶ˆæ¯çš„éªŒè¯</p> <p>ç•¥</p></li> <li><p>æ¶ˆæ¯çš„å¤„ç†é€»è¾‘</p> <ul><li>å¦‚æœå·²ç»æ”¶åˆ°å®Œæ•´çš„åŒºå—ï¼Œå¿½ç•¥è¯¥æ¶ˆæ¯</li> <li>å¦‚æœæ”¶åˆ°éƒ¨åˆ†åŒºå—ï¼Œè¿˜ç¼ºå¤±äº¤æ˜“ï¼Œåˆ™ç»„è£…å®Œæ•´åŒºå—å¹¶ä¿å­˜</li></ul></li></ul> <h2 id="äº”ã€æ¨¡å—é…ç½®"><a href="#äº”ã€æ¨¡å—é…ç½®" class="header-anchor">#</a> äº”ã€æ¨¡å—é…ç½®</h2> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;forkChainsMonitorInterval&quot;: 10000,
  &quot;orphanChainsMonitorInterval&quot;: 10000,
  &quot;orphanChainsMaintainerInterval&quot;: 5000,
  &quot;storageSizeMonitorInterval&quot;: 300000,
  &quot;networkResetMonitorInterval&quot;: 300000,
  &quot;nodesMonitorInterval&quot;: 5000,
  &quot;txGroupRequestorInterval&quot;: 1000,
  &quot;txGroupTaskDelay&quot;: 3000,
  &quot;testAutoRollbackAmount&quot;: 0,
  &quot;blockMaxSize&quot;: 5242880,
  &quot;resetTime&quot;: 180000,
  &quot;chainSwtichThreshold&quot;: 3,
  &quot;cacheSize&quot;: 1000,
  &quot;heightRange&quot;: 1000,
  &quot;maxRollback&quot;: 1000,
  &quot;consistencyNodePercent&quot;: 60,
  &quot;minNodeAmount&quot;: 1,
  &quot;downloadNumber&quot;: 10,
  &quot;extendMaxSize&quot;: 1024,
  &quot;validBlockInterval&quot;: 60000,
  &quot;smallBlockCache&quot;: 6,
  &quot;orphanChainMaxAge&quot;: 10,
  &quot;singleDownloadTimeout&quot;: 10000,
  &quot;waitNetworkInterval&quot;: 5000,
  &quot;cachedBlockSizeLimit&quot;: 20971520,
  &quot;genesisBlockPath&quot;: &quot;&quot;
}
</code></pre></div><h2 id="å…­ã€javaç‰¹æœ‰çš„è®¾è®¡"><a href="#å…­ã€javaç‰¹æœ‰çš„è®¾è®¡" class="header-anchor">#</a> å…­ã€Javaç‰¹æœ‰çš„è®¾è®¡</h2> <ul><li>Blockå¯¹è±¡è®¾è®¡</li></ul> <blockquote><table><thead><tr><th><code>å­—æ®µåç§°</code></th> <th><code>å­—æ®µç±»å‹</code></th> <th><code>è¯´æ˜</code></th></tr></thead> <tbody><tr><td>blockHeader</td> <td>BlockHeader</td> <td>åŒºå—å¤´</td></tr> <tr><td>transactions</td> <td>List&lt;Transaction&gt;</td> <td>äº¤æ˜“åˆ—è¡¨</td></tr></tbody></table></blockquote> <ul><li>SmallBlockå¯¹è±¡è®¾è®¡</li></ul> <blockquote><table><thead><tr><th><code>å­—æ®µåç§°</code></th> <th><code>å­—æ®µç±»å‹</code></th> <th><code>è¯´æ˜</code></th></tr></thead> <tbody><tr><td>blockHeader</td> <td>BlockHeader</td> <td>åŒºå—å¤´</td></tr> <tr><td>transactions</td> <td>List&lt;String&gt;</td> <td>æ‰€æœ‰äº¤æ˜“HASHåˆ—è¡¨</td></tr> <tr><td>subTxList</td> <td>List&lt;Transaction&gt;</td> <td>å…¶ä»–èŠ‚ç‚¹ä¸€å®šæ²¡æœ‰çš„äº¤æ˜“(å¦‚å…±è¯†å¥–åŠ±äº¤æ˜“ã€çº¢é»„ç‰Œäº¤æ˜“ç­‰)</td></tr></tbody></table></blockquote> <ul><li>BlockHeaderå¯¹è±¡è®¾è®¡</li></ul> <blockquote><table><thead><tr><th><code>å­—æ®µåç§°</code></th> <th><code>å­—æ®µç±»å‹</code></th> <th><code>è¯´æ˜</code></th></tr></thead> <tbody><tr><td>hash</td> <td>String</td> <td>åŒºå—HASH</td></tr> <tr><td>preHash</td> <td>String</td> <td>ä¸Šä¸€åŒºå—HASH</td></tr> <tr><td>merkleHash</td> <td>String</td> <td>åŒºå—MerkleHash</td></tr> <tr><td>height</td> <td>int</td> <td>åŒºå—é«˜åº¦</td></tr> <tr><td>time</td> <td>long</td> <td>åŒºå—æ‰“åŒ…æ—¶é—´</td></tr> <tr><td>txCount</td> <td>short</td> <td>äº¤æ˜“æ•°</td></tr> <tr><td>extend</td> <td>byte[]</td> <td>æ‰©å±•å­—æ®µ</td></tr> <tr><td>blockSignature</td> <td>BlockSignature</td> <td>åŒºå—ç­¾å</td></tr></tbody></table></blockquote> <ul><li>BlockSignatureå¯¹è±¡è®¾è®¡</li></ul> <blockquote><table><thead><tr><th><code>å­—æ®µåç§°</code></th> <th><code>å­—æ®µç±»å‹</code></th> <th><code>è¯´æ˜</code></th></tr></thead> <tbody><tr><td>signData</td> <td>String</td> <td>åŒºå—ç­¾å</td></tr> <tr><td>publicKey</td> <td>byte[]</td> <td>å…¬é’¥</td></tr></tbody></table></blockquote> <ul><li>Chainå¯¹è±¡è®¾è®¡</li></ul> <blockquote><table><thead><tr><th><code>å­—æ®µåç§°</code></th> <th><code>å­—æ®µç±»å‹</code></th> <th><code>è¯´æ˜</code></th></tr></thead> <tbody><tr><td>parent</td> <td>Chain</td> <td>çˆ¶é“¾</td></tr> <tr><td>sons</td> <td>SortedSet&lt;Chain&gt;</td> <td>å­é“¾é›†åˆ</td></tr> <tr><td>chainId</td> <td>int</td> <td>é“¾ID</td></tr> <tr><td>previousHash</td> <td>NulsDigestData</td> <td>é“¾ä¸Šèµ·å§‹åŒºå—çš„previousHash</td></tr> <tr><td>startHeight</td> <td>long</td> <td>é“¾èµ·å§‹é«˜åº¦</td></tr> <tr><td>startHashCode</td> <td>int</td> <td>é“¾èµ·å§‹hashè½¬æ¢int(æ’åºç”¨)</td></tr> <tr><td>endHeight</td> <td>long</td> <td>é“¾ç»“æŸé«˜åº¦</td></tr> <tr><td>hashList</td> <td>LinkedList</td> <td>é“¾ä¸ŠåŒºå—hashåˆ—è¡¨</td></tr> <tr><td>type</td> <td>ChainTypeEnum</td> <td>é“¾ç±»å‹</td></tr> <tr><td>age</td> <td>AtomicInteger</td> <td>é“¾å¹´é¾„(å­¤å„¿é“¾æ¸…ç†ä½¿ç”¨)</td></tr></tbody></table></blockquote> <h2 id="ä¸ƒã€è¡¥å……å†…å®¹"><a href="#ä¸ƒã€è¡¥å……å†…å®¹" class="header-anchor">#</a> ä¸ƒã€è¡¥å……å†…å®¹</h2></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/master/docs/zh/modules/d_block.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°:</span> <span class="time">2025/9/1 09:45:12</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/zh/modules/d_address.html" class="prev">
        NULS Protocol Address
      </a></span> <span class="next"><a href="/zh/modules/d_chain_manager.html">
        é“¾ç®¡ç†æ¨¡å—è®¾è®¡æ–‡æ¡£
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0bafe896.js" defer></script><script src="/assets/js/2.6c3a80b8.js" defer></script><script src="/assets/js/1.22a4e5b0.js" defer></script><script src="/assets/js/23.18ea5f72.js" defer></script>
  </body>
</html>
