<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gas 和费用 |  </title>
    <meta name="description" content="让区块链更简单">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.601feec8.css" as="style"><link rel="preload" href="/assets/js/app.54504d68.js" as="script"><link rel="preload" href="/assets/js/128.68c19626.js" as="script"><link rel="prefetch" href="/assets/js/10.2c42c519.js"><link rel="prefetch" href="/assets/js/100.c047bcbc.js"><link rel="prefetch" href="/assets/js/101.94e4250e.js"><link rel="prefetch" href="/assets/js/102.9b440203.js"><link rel="prefetch" href="/assets/js/103.276e1567.js"><link rel="prefetch" href="/assets/js/104.085711a1.js"><link rel="prefetch" href="/assets/js/105.826a6972.js"><link rel="prefetch" href="/assets/js/106.bb08c6f2.js"><link rel="prefetch" href="/assets/js/107.ab8d7449.js"><link rel="prefetch" href="/assets/js/108.175dd0bd.js"><link rel="prefetch" href="/assets/js/109.a5fce478.js"><link rel="prefetch" href="/assets/js/11.7172d40b.js"><link rel="prefetch" href="/assets/js/110.6e272742.js"><link rel="prefetch" href="/assets/js/111.25ac822c.js"><link rel="prefetch" href="/assets/js/112.ca268248.js"><link rel="prefetch" href="/assets/js/113.d6afc076.js"><link rel="prefetch" href="/assets/js/114.91b50a83.js"><link rel="prefetch" href="/assets/js/115.5fec28af.js"><link rel="prefetch" href="/assets/js/116.fd96878c.js"><link rel="prefetch" href="/assets/js/117.d786a7b7.js"><link rel="prefetch" href="/assets/js/118.ed7a3da2.js"><link rel="prefetch" href="/assets/js/119.6d0a3e35.js"><link rel="prefetch" href="/assets/js/12.b5e98483.js"><link rel="prefetch" href="/assets/js/120.04a5df62.js"><link rel="prefetch" href="/assets/js/121.fe9d4e57.js"><link rel="prefetch" href="/assets/js/122.330ca2c0.js"><link rel="prefetch" href="/assets/js/123.56f58e88.js"><link rel="prefetch" href="/assets/js/124.b34ac114.js"><link rel="prefetch" href="/assets/js/125.1c63cae5.js"><link rel="prefetch" href="/assets/js/126.c07e4e8b.js"><link rel="prefetch" href="/assets/js/127.3da7f77a.js"><link rel="prefetch" href="/assets/js/129.da17cb73.js"><link rel="prefetch" href="/assets/js/13.af399327.js"><link rel="prefetch" href="/assets/js/130.644ad335.js"><link rel="prefetch" href="/assets/js/131.fac11a0e.js"><link rel="prefetch" href="/assets/js/132.dd8e5d9a.js"><link rel="prefetch" href="/assets/js/133.66aa35e9.js"><link rel="prefetch" href="/assets/js/134.9064829a.js"><link rel="prefetch" href="/assets/js/135.3dfa5ab4.js"><link rel="prefetch" href="/assets/js/136.3a9b9d51.js"><link rel="prefetch" href="/assets/js/137.e9effa42.js"><link rel="prefetch" href="/assets/js/138.5b803fb1.js"><link rel="prefetch" href="/assets/js/139.6d978762.js"><link rel="prefetch" href="/assets/js/14.2edeaac2.js"><link rel="prefetch" href="/assets/js/140.8f26a0bf.js"><link rel="prefetch" href="/assets/js/141.4ad1ec77.js"><link rel="prefetch" href="/assets/js/142.411f8bd5.js"><link rel="prefetch" href="/assets/js/143.c476ee42.js"><link rel="prefetch" href="/assets/js/144.8ff659a9.js"><link rel="prefetch" href="/assets/js/145.094df2c5.js"><link rel="prefetch" href="/assets/js/146.fc6bd90e.js"><link rel="prefetch" href="/assets/js/147.cf9013cd.js"><link rel="prefetch" href="/assets/js/148.1446da0e.js"><link rel="prefetch" href="/assets/js/149.8a30c89a.js"><link rel="prefetch" href="/assets/js/15.0d6cfe24.js"><link rel="prefetch" href="/assets/js/150.1adc1030.js"><link rel="prefetch" href="/assets/js/151.8f862dd2.js"><link rel="prefetch" href="/assets/js/152.5802adbc.js"><link rel="prefetch" href="/assets/js/153.c04fd5db.js"><link rel="prefetch" href="/assets/js/154.36dfa2b0.js"><link rel="prefetch" href="/assets/js/16.9d340927.js"><link rel="prefetch" href="/assets/js/17.026f2d74.js"><link rel="prefetch" href="/assets/js/18.2c98a894.js"><link rel="prefetch" href="/assets/js/19.c5092682.js"><link rel="prefetch" href="/assets/js/2.7d82c51f.js"><link rel="prefetch" href="/assets/js/20.88ddbd1c.js"><link rel="prefetch" href="/assets/js/21.15119ac9.js"><link rel="prefetch" href="/assets/js/22.cdfd7184.js"><link rel="prefetch" href="/assets/js/23.3f297858.js"><link rel="prefetch" href="/assets/js/24.f60196ef.js"><link rel="prefetch" href="/assets/js/25.36c9da09.js"><link rel="prefetch" href="/assets/js/26.39bfa7a9.js"><link rel="prefetch" href="/assets/js/27.d74a5992.js"><link rel="prefetch" href="/assets/js/28.81f48e71.js"><link rel="prefetch" href="/assets/js/29.761f1315.js"><link rel="prefetch" href="/assets/js/3.f0e33edb.js"><link rel="prefetch" href="/assets/js/30.0d78fd34.js"><link rel="prefetch" href="/assets/js/31.455baee2.js"><link rel="prefetch" href="/assets/js/32.ee627427.js"><link rel="prefetch" href="/assets/js/33.8cf84eca.js"><link rel="prefetch" href="/assets/js/34.69947bf5.js"><link rel="prefetch" href="/assets/js/35.75f81fe9.js"><link rel="prefetch" href="/assets/js/36.16686ace.js"><link rel="prefetch" href="/assets/js/37.a1723078.js"><link rel="prefetch" href="/assets/js/38.79517a3a.js"><link rel="prefetch" href="/assets/js/39.3fee31fb.js"><link rel="prefetch" href="/assets/js/4.2a06bda3.js"><link rel="prefetch" href="/assets/js/40.64ebbb72.js"><link rel="prefetch" href="/assets/js/41.0caac018.js"><link rel="prefetch" href="/assets/js/42.5f767cda.js"><link rel="prefetch" href="/assets/js/43.46a6c6ec.js"><link rel="prefetch" href="/assets/js/44.1fbeed1c.js"><link rel="prefetch" href="/assets/js/45.8420eebd.js"><link rel="prefetch" href="/assets/js/46.3ffccd37.js"><link rel="prefetch" href="/assets/js/47.0dc8e60f.js"><link rel="prefetch" href="/assets/js/48.4a25340b.js"><link rel="prefetch" href="/assets/js/49.81251dda.js"><link rel="prefetch" href="/assets/js/5.f8fa80eb.js"><link rel="prefetch" href="/assets/js/50.7a68e1b2.js"><link rel="prefetch" href="/assets/js/51.810ace8e.js"><link rel="prefetch" href="/assets/js/52.3fb11e5b.js"><link rel="prefetch" href="/assets/js/53.51e1b163.js"><link rel="prefetch" href="/assets/js/54.a193919b.js"><link rel="prefetch" href="/assets/js/55.ed77a75a.js"><link rel="prefetch" href="/assets/js/56.cf8d783d.js"><link rel="prefetch" href="/assets/js/57.0c17175b.js"><link rel="prefetch" href="/assets/js/58.3ddb5f2e.js"><link rel="prefetch" href="/assets/js/59.68a213bb.js"><link rel="prefetch" href="/assets/js/6.a32889a2.js"><link rel="prefetch" href="/assets/js/60.a0636ebc.js"><link rel="prefetch" href="/assets/js/61.fc72f2e7.js"><link rel="prefetch" href="/assets/js/62.4fa897e2.js"><link rel="prefetch" href="/assets/js/63.2d20b2a2.js"><link rel="prefetch" href="/assets/js/64.d5daa534.js"><link rel="prefetch" href="/assets/js/65.594e30f7.js"><link rel="prefetch" href="/assets/js/66.a868f08c.js"><link rel="prefetch" href="/assets/js/67.611d69ab.js"><link rel="prefetch" href="/assets/js/68.2ecfeb2d.js"><link rel="prefetch" href="/assets/js/69.299a4679.js"><link rel="prefetch" href="/assets/js/7.3f15f61d.js"><link rel="prefetch" href="/assets/js/70.db68d2a2.js"><link rel="prefetch" href="/assets/js/71.ce42dcd6.js"><link rel="prefetch" href="/assets/js/72.38ac2674.js"><link rel="prefetch" href="/assets/js/73.bd7f9811.js"><link rel="prefetch" href="/assets/js/74.0afd81ce.js"><link rel="prefetch" href="/assets/js/75.e3619d1c.js"><link rel="prefetch" href="/assets/js/76.2d0d598d.js"><link rel="prefetch" href="/assets/js/77.92f479e8.js"><link rel="prefetch" href="/assets/js/78.95fc9d7c.js"><link rel="prefetch" href="/assets/js/79.bfd42746.js"><link rel="prefetch" href="/assets/js/8.fab6c840.js"><link rel="prefetch" href="/assets/js/80.79249f41.js"><link rel="prefetch" href="/assets/js/81.94e759cb.js"><link rel="prefetch" href="/assets/js/82.0808b875.js"><link rel="prefetch" href="/assets/js/83.84b2875f.js"><link rel="prefetch" href="/assets/js/84.675529f6.js"><link rel="prefetch" href="/assets/js/85.cf0d0ab0.js"><link rel="prefetch" href="/assets/js/86.ec839f55.js"><link rel="prefetch" href="/assets/js/87.e8a21e2f.js"><link rel="prefetch" href="/assets/js/88.70e23497.js"><link rel="prefetch" href="/assets/js/89.9c35d38c.js"><link rel="prefetch" href="/assets/js/9.9b98df55.js"><link rel="prefetch" href="/assets/js/90.9832c3fd.js"><link rel="prefetch" href="/assets/js/91.f808af71.js"><link rel="prefetch" href="/assets/js/92.80c53b0c.js"><link rel="prefetch" href="/assets/js/93.e58d71ad.js"><link rel="prefetch" href="/assets/js/94.4406b5b3.js"><link rel="prefetch" href="/assets/js/95.336d258f.js"><link rel="prefetch" href="/assets/js/96.cbe06dfe.js"><link rel="prefetch" href="/assets/js/97.865fc1c4.js"><link rel="prefetch" href="/assets/js/98.b4642947.js"><link rel="prefetch" href="/assets/js/99.cc65fe23.js">
    <link rel="stylesheet" href="/assets/css/0.styles.601feec8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name"> </span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/Guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/zh/Docs/" class="nav-link">开发</a></div><div class="nav-item"><a href="/zh/ENULS/" class="nav-link router-link-active">ENULS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ENULS/gas/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/ENULS/gas/" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/Guide/" class="nav-link">指南</a></div><div class="nav-item"><a href="/zh/Docs/" class="nav-link">开发</a></div><div class="nav-item"><a href="/zh/ENULS/" class="nav-link router-link-active">ENULS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ENULS/gas/" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/zh/ENULS/gas/" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/ENULS/intro/" class="sidebar-link">什么是区块链？</a></li><li><a href="/zh/ENULS/accounts/" class="sidebar-link">ENULS帐户</a></li><li><a href="/zh/ENULS/blocks/" class="sidebar-link">区块</a></li><li><a href="/zh/ENULS/transactions/" class="sidebar-link">交易</a></li><li><a href="/zh/ENULS/evm/" class="sidebar-link">ENULS虚拟机 (EVM)</a></li><li><a href="/zh/ENULS/gas/" aria-current="page" class="active sidebar-link">Gas 和费用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#前提条件" class="sidebar-link">前提条件</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#什么是-gas？" class="sidebar-link">什么是 Gas？</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#伦敦升级之前" class="sidebar-link">伦敦升级之前</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#伦敦升级之后" class="sidebar-link">伦敦升级之后</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#区块大小" class="sidebar-link">区块大小</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#基础费" class="sidebar-link">基础费</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#优先费（小费）" class="sidebar-link">优先费（小费）</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#最高费用" class="sidebar-link">最高费用</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#计算费用" class="sidebar-link">计算费用</a></li></ul></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#eip-1559-eip-1559" class="sidebar-link">EIP-1559 {#eip-1559}</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#为什么存在燃料费用？" class="sidebar-link">为什么存在燃料费用？</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#什么是燃料限额？" class="sidebar-link">什么是燃料限额？</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#为什么燃料费会变得如此高？" class="sidebar-link">为什么燃料费会变得如此高？</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#降低燃料成本的策略" class="sidebar-link">降低燃料成本的策略</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#相关工具" class="sidebar-link">相关工具</a></li><li class="sidebar-sub-header"><a href="/zh/ENULS/gas/#延伸阅读" class="sidebar-link">延伸阅读</a></li></ul></li><li><a href="/zh/ENULS/networks/" class="sidebar-link">网络</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>节点和客户端</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/ENULS/nodes-and-clients/quickstart/" class="sidebar-link">快速开始，启动ENULS节点</a></li><li><a href="/zh/ENULS/nodes-and-clients/" class="sidebar-link">节点和客户端</a></li><li><a href="/zh/ENULS/nodes-and-clients/run-a-node/" class="sidebar-link">启动自己的ENULS节点</a></li><li><a href="/zh/ENULS/nodes-and-clients/client-diversity/" class="sidebar-link">客户端多样性</a></li><li><a href="/zh/ENULS/nodes-and-clients/nodes-as-a-service/" class="sidebar-link">节点即服务</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>权益证明</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/zh/ENULS/pos/" class="sidebar-link">权益证明机制(PoS)</a></li><li><a href="/zh/ENULS/pos/gasper/" class="sidebar-link">Gasper</a></li><li><a href="/zh/ENULS/pos/weak-subjectivity/" class="sidebar-link">弱主观性</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p>Gas 对ENULS网络至关重要。 正是这种燃料使它能够运行，正如车辆需要汽油一样。</p> <h2 id="前提条件"><a href="#前提条件" class="header-anchor">#</a> 前提条件</h2> <p>为了更好地理解此页面，推荐先阅读<a href="/zh/ENULS/transactions/">交易</a>和 <a href="/zh/ENULS/evm/">EVM</a>。</p> <h2 id="什么是-gas？"><a href="#什么是-gas？" class="header-anchor">#</a> 什么是 Gas？</h2> <p>Gas 是指在ENULS网络上执行特定操作所需的计算工作量。</p> <p>由于每笔ENULS交易都需要计算资源才能执行，每笔交易都需要付费。 在这个方面上，Gas 是指在ENULS成功进行交易所需的费用。</p> <p>本质上，Gas 费用是ENULS的货币ENULS (NULS) 支付的。 Gas 价格以 Gwei 标明，Gwei 本身就是 NULS 的一个单位――每个 Gwei 等于 0.000000001 NULS (10<sup>-9</sup> NULS)。 例如，您可以说您的 Gas 成本为 1 Gwei，而不是说您的 Gas 成本为 0.000000001 NULS。 “gwei”一词本身表示“giga-wei”，等于 1,000,000,000 wei。 Wei 本身（以 <a href="https://www.investopedia.com/terms/b/bmoney.asp" target="_blank" rel="noopener noreferrer">b-money<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的发明者 <a href="https://wikipedia.org/wiki/Wei_Dai" target="_blank" rel="noopener noreferrer">Wei Dai<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 命名）是 NULS 中最小的单位。</p> <h2 id="伦敦升级之前"><a href="#伦敦升级之前" class="header-anchor">#</a> 伦敦升级之前</h2> <p>ENULS网络交易费的计算方式在 2021 年 8 月的伦敦升级后发生了改变。 以下回顾了过去的工作方式：</p> <p>假设 Alice 需要支付 1 NULS 给 Bob。 在交易中，燃料限额为 21,000 单位，燃料的价格是 200 gwei。</p> <p>总费用为:<code>燃料单位（限额） * 燃料单价</code> 例如 <code>21,000 * 200 = 4,200,000 gwei</code> 或者 0.0042 NULS</p> <h2 id="伦敦升级之后"><a href="#伦敦升级之后" class="header-anchor">#</a> 伦敦升级之后</h2> <p>假设 Jordan 需要向 Taylor 支付 1 个NULS。 在交易中，燃料限额为 21,000 单位，基础费是 10 gwei。 Jordan 支付了 2 gwei 作为小费。</p> <p>现在，总费用为：<code>units of gas used * (base fee + priority fee)</code>，其中 <code>base fee</code> 是协议设置的值，<code>priority fee</code> 是用户设置的值，即给验证者的小费。</p> <p>即，<code>21,000 * (10 + 2) = 252,000 gwei</code> 或 0.000252 个NULS。</p> <p>当 Jordan 转账时，将从 Jordan 帐户中扣除 1.000252 个NULS。 Taylor 的帐户增加 1.0000 个NULS。 验证者收到 0.000042 个NULS的小费。 0.00021 个NULS的基础费被销毁。</p> <p>此外，Jordan 还可以为交易设定最高费用 (<code>maxFeePerGas</code>)。 最高费用与实际费用之间的差额将退还 Jordan。即 <code>refund = max fee - (base fee + priority fee)</code>。 Jordan 可以为要执行的交易设置一个最高支付金额，而不用担心在执行交易时“超额”支付基础费。</p> <h3 id="区块大小"><a href="#区块大小" class="header-anchor">#</a> 区块大小</h3> <p>在伦敦升级之前，ENULS具有固定大小的区块。 在网络需求高峰期，这些区块满负荷运行。 因此，用户常常不得不等到需求量从高峰降低后才能将交易添加到区块中，这导致用户体验很糟糕。</p> <p>伦敦升级为ENULS引入了大小可变的区块。 每个区块的目标大小为 1500 万单位燃料，但区块的大小将根据网络需求增减，但不得超过 3000 万单位燃料的区块大小限制（目标区块大小的 2 倍）。 协议通过 <em>tâtonnement</em> 过程使均衡区块大小平均达到 1,500 万单位燃料。 这意味着如果区块大小超出目标区块大小，协议将增加下一个区块的基础费。 同样，如果区块大小小于目标区块大小，协议将减少基础费。 基础费的调整金额与当前区块大小和目标区块大小的差距成比例。 <a href="/zh/ENULS/blocks/">更多关于区块的信息</a>。</p> <h3 id="基础费"><a href="#基础费" class="header-anchor">#</a> 基础费</h3> <p>每个区块都有一个基础费作为底价。 要想有资格添加到区块中，燃料费用报价必须至少等于基础费。 基础费独立于当前区块计算，是由当前区块之前的区块决定的，这使得用户更容易预测交易费。 当区块被开采时，其基础费将被“销毁”并退出流通。</p> <p>基础费是用一个公式计算的，该公式将前一个区块的大小（所有交易中使用的燃料数量）与目标大小进行比较。 如果超过目标区块大小，每个区块的基础费将最多增加 12.5%。 这种指数级增长使得区块大小无限期保持高位在经济上不可行。</p> <table><thead><tr><th>区块编号</th> <th style="text-align:right">已包含燃料</th> <th style="text-align:right">费用增加</th> <th style="text-align:right">当前基本费用</th></tr></thead> <tbody><tr><td>1</td> <td style="text-align:right">15M</td> <td style="text-align:right">0%</td> <td style="text-align:right">100 gwei</td></tr> <tr><td>2</td> <td style="text-align:right">30M</td> <td style="text-align:right">0%</td> <td style="text-align:right">100 gwei</td></tr> <tr><td>3</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">112.5 gwei</td></tr> <tr><td>4</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">126.6 gwei</td></tr> <tr><td>5</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">142.4 gwei</td></tr> <tr><td>6</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">160.2 gwei</td></tr> <tr><td>7</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">180.2 gwei</td></tr> <tr><td>8</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">202.7 gwei</td></tr></tbody></table> <p>相对于伦敦升级之前的燃料拍卖市场，这种交易费机制的变化使费用更容易预测。 根据以上表格，要在 9 号区块创建交易，钱包会让用户明确知晓，要将交易添加到下一个区块的<strong>最大基础费</strong>等于 <code>current base fee * 112.5%</code> 或 <code>202.8 gwei * 112.5% = 228.1 gwei</code>。</p> <p>还请注意，由于在处理完整区块时基础费增加的速度，我们不太可能看到长时间出现完整区块高峰。</p> <table><thead><tr><th>区块编号</th> <th style="text-align:right">已包含燃料</th> <th style="text-align:right">费用增加</th> <th style="text-align:right">当前基本费用</th></tr></thead> <tbody><tr><td>30</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">2705.6 gwei</td></tr> <tr><td>...</td> <td style="text-align:right">...</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">...</td></tr> <tr><td>50</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">28531.3 gwei</td></tr> <tr><td>...</td> <td style="text-align:right">...</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">...</td></tr> <tr><td>100</td> <td style="text-align:right">30M</td> <td style="text-align:right">12.5%</td> <td style="text-align:right">10302608.6 gwei</td></tr></tbody></table> <h3 id="优先费（小费）"><a href="#优先费（小费）" class="header-anchor">#</a> 优先费（小费）</h3> <p>在伦敦升级之前，矿工获得区块中所含全部交易的总燃料费。</p> <p>由于新的基础费被销毁，伦敦升级引入了优先费（小费），激励矿工将交易添加到区块中。 如果没有小费，矿工会发现开采空区块在经济上可行，因为他们会获得相同的区块奖励。 在正常情况下，一笔金额不大的小费为矿工添加交易提供了极小的激励。 对于需要在同一区块中优先执行的交易，需要提供更高的小费，力争使出价高于竞争交易。</p> <h3 id="最高费用"><a href="#最高费用" class="header-anchor">#</a> 最高费用</h3> <p>要在网络上执行交易，用户可以为他们愿意支付的交易执行费用指定最高限额。 此可选参数称为 <code>maxFeePerGas</code>。 为了执行交易，最高费用必须超过基础费和小费的总和。 交易完成后，会退还给交易发送人最高费用与基础费和小费总和之间的差额。</p> <h3 id="计算费用"><a href="#计算费用" class="header-anchor">#</a> 计算费用</h3> <p>伦敦升级带来的主要好处之一是提升了用户在设定交易费时的体验。 对于支持该升级的钱包，用户无需明确说明愿意支付多少费用来完成交易，钱包提供商将自动设置推荐的交易费（基础费 + 建议优先费），以便降低用户面临的复杂程度。</p> <h2 id="eip-1559-eip-1559"><a href="#eip-1559-eip-1559" class="header-anchor">#</a> EIP-1559 {#eip-1559}</h2> <p>在伦敦升级中实现的 EIP-1559 使得交易费机制比以前的燃料价格竞拍更加复杂，但优点是提高了燃料费用的可预测性，使交易费市场更加高效。 用户可以在提交交易时设定 <code>maxFeePerGas</code>（对应于他们愿意为执行交易支付多少费用），他们清楚支付金额将不会超过燃料的市场价格 (<code>baseFeePerGas</code>)，并且多支付的金额将在减去小费后退还。</p> <h2 id="为什么存在燃料费用？"><a href="#为什么存在燃料费用？" class="header-anchor">#</a> 为什么存在燃料费用？</h2> <p>简而言之，燃料费用有助于确保ENULS网络的安全。 在网络上执行的每次计算都需要收费，这样可以防止不良行为者给网络带来垃圾信息。 为了防止代码中出现无意或恶意的无限循环或其他计算浪费，要求每个交易对可以采用的代码执行计算步骤设置一个限制。 基本计算单位是“燃料”。</p> <p>尽管交易中包含费用限制，但交易中未使用的所有燃料将退还给用户（即退还 <code>max fee - (base fee + tip)</code>）。</p> <h2 id="什么是燃料限额？"><a href="#什么是燃料限额？" class="header-anchor">#</a> 什么是燃料限额？</h2> <p>燃料限额是指你愿意在交易中消耗的最大燃料数量。 涉及智能合约]的更复杂交易需要进行更多的计算工作，因此相比简单的支付，它们需要更高的燃料限额。 标准NULS转账要求燃料限额为 21,000 单位燃料。</p> <p>例如，如果你对简单的NULS转账设置 50,000 单位燃料限额，ENULS虚拟机将消耗 21,000 单位，你将收到剩余的 29,000 单位。 然而，如果你设置的燃料太少，比如说，对于简单的NULS转账，设置燃料限额为 20,000 单位，ENULS虚拟机将消耗 20,000 单位燃料并尝试完成交易，但不会完成。 然后，ENULS虚拟机回滚所有变化，但由于矿工已经完成了价值 20k 单位燃料的工作，这些燃料就被消耗了。</p> <h2 id="为什么燃料费会变得如此高？"><a href="#为什么燃料费会变得如此高？" class="header-anchor">#</a> 为什么燃料费会变得如此高？</h2> <p>燃料费高是由于ENULS广受欢迎。 在ENULS进行任何操作都需要消耗燃料，并且每个区块的燃料空间有限。 费用括计算费用、存储或操作数据费用或转移代币费用，这些操作消耗不同数量的“燃料”单位。 随着去中心化应用程序的功能变得更加复杂，智能合约执行的操作数量也会增加，即每笔交易在有限大小的区块内占用更多空间。 如果需求量太大，用户必须提供更高的小费，力争使出价高于其他用户的交易。 小费越高，交易进入下一个区块的可能性就越大。</p> <p>光靠燃料价格并不能实际决定我们必须为特定交易支付的金额。 为了计算交易费，我们必须将使用的燃料乘以基础燃料费，后者以 Gwei 为单位。</p> <h2 id="降低燃料成本的策略"><a href="#降低燃料成本的策略" class="header-anchor">#</a> 降低燃料成本的策略</h2> <p>如果你希望降低NULS的燃料成本，可以设置小费来表明交易的优先级。 矿工将“处理”并执行每单位燃料小费更高的交易，因为他们可以保留你支付的小费；矿工不太愿意执行小费较低的交易。</p> <h2 id="相关工具"><a href="#相关工具" class="header-anchor">#</a> 相关工具</h2> <ul><li><a href="https://www.blocknative.com/gas" target="_blank" rel="noopener noreferrer">Blocknative 的燃料平台<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <em>由 Blocknative 的全局内存池数据平台提供支持的燃料估算应用程序接口</em></li></ul> <h2 id="延伸阅读"><a href="#延伸阅读" class="header-anchor">#</a> 延伸阅读</h2> <ul><li><a href="https://defiprime.com/gas" target="_blank" rel="noopener noreferrer">ENULS Gas 详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://medium.com/coinmonks/8-ways-of-reducing-the-gas-consumption-of-your-smart-contracts-9a506b339c0a" target="_blank" rel="noopener noreferrer">减少智能合约的 gas 消耗<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blockgeeks.com/guides/proof-of-work-vs-proof-of-stake/" target="_blank" rel="noopener noreferrer">权益证明与工作量证明<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/master/docs/zh/ENULS/gas/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023-3-1 9:09:00 ├F10: AM┤</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/zh/ENULS/evm/" class="prev">
          ENULS虚拟机 (EVM)
        </a></span> <span class="next"><a href="/zh/ENULS/networks/">
          网络
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.54504d68.js" defer></script><script src="/assets/js/128.68c19626.js" defer></script>
  </body>
</html>
