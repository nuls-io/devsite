<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gasper |  </title>
    <meta name="description" content="An explanation of the Gasper proof-of-stake mechanism.">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.601feec8.css" as="style"><link rel="preload" href="/assets/js/app.54504d68.js" as="script"><link rel="preload" href="/assets/js/86.ec839f55.js" as="script"><link rel="prefetch" href="/assets/js/10.2c42c519.js"><link rel="prefetch" href="/assets/js/100.c047bcbc.js"><link rel="prefetch" href="/assets/js/101.94e4250e.js"><link rel="prefetch" href="/assets/js/102.9b440203.js"><link rel="prefetch" href="/assets/js/103.276e1567.js"><link rel="prefetch" href="/assets/js/104.085711a1.js"><link rel="prefetch" href="/assets/js/105.826a6972.js"><link rel="prefetch" href="/assets/js/106.bb08c6f2.js"><link rel="prefetch" href="/assets/js/107.ab8d7449.js"><link rel="prefetch" href="/assets/js/108.175dd0bd.js"><link rel="prefetch" href="/assets/js/109.a5fce478.js"><link rel="prefetch" href="/assets/js/11.7172d40b.js"><link rel="prefetch" href="/assets/js/110.6e272742.js"><link rel="prefetch" href="/assets/js/111.25ac822c.js"><link rel="prefetch" href="/assets/js/112.ca268248.js"><link rel="prefetch" href="/assets/js/113.d6afc076.js"><link rel="prefetch" href="/assets/js/114.91b50a83.js"><link rel="prefetch" href="/assets/js/115.5fec28af.js"><link rel="prefetch" href="/assets/js/116.fd96878c.js"><link rel="prefetch" href="/assets/js/117.d786a7b7.js"><link rel="prefetch" href="/assets/js/118.ed7a3da2.js"><link rel="prefetch" href="/assets/js/119.6d0a3e35.js"><link rel="prefetch" href="/assets/js/12.b5e98483.js"><link rel="prefetch" href="/assets/js/120.04a5df62.js"><link rel="prefetch" href="/assets/js/121.fe9d4e57.js"><link rel="prefetch" href="/assets/js/122.330ca2c0.js"><link rel="prefetch" href="/assets/js/123.56f58e88.js"><link rel="prefetch" href="/assets/js/124.b34ac114.js"><link rel="prefetch" href="/assets/js/125.1c63cae5.js"><link rel="prefetch" href="/assets/js/126.c07e4e8b.js"><link rel="prefetch" href="/assets/js/127.3da7f77a.js"><link rel="prefetch" href="/assets/js/128.68c19626.js"><link rel="prefetch" href="/assets/js/129.da17cb73.js"><link rel="prefetch" href="/assets/js/13.af399327.js"><link rel="prefetch" href="/assets/js/130.644ad335.js"><link rel="prefetch" href="/assets/js/131.fac11a0e.js"><link rel="prefetch" href="/assets/js/132.dd8e5d9a.js"><link rel="prefetch" href="/assets/js/133.66aa35e9.js"><link rel="prefetch" href="/assets/js/134.9064829a.js"><link rel="prefetch" href="/assets/js/135.3dfa5ab4.js"><link rel="prefetch" href="/assets/js/136.3a9b9d51.js"><link rel="prefetch" href="/assets/js/137.e9effa42.js"><link rel="prefetch" href="/assets/js/138.5b803fb1.js"><link rel="prefetch" href="/assets/js/139.6d978762.js"><link rel="prefetch" href="/assets/js/14.2edeaac2.js"><link rel="prefetch" href="/assets/js/140.8f26a0bf.js"><link rel="prefetch" href="/assets/js/141.4ad1ec77.js"><link rel="prefetch" href="/assets/js/142.411f8bd5.js"><link rel="prefetch" href="/assets/js/143.c476ee42.js"><link rel="prefetch" href="/assets/js/144.8ff659a9.js"><link rel="prefetch" href="/assets/js/145.094df2c5.js"><link rel="prefetch" href="/assets/js/146.fc6bd90e.js"><link rel="prefetch" href="/assets/js/147.cf9013cd.js"><link rel="prefetch" href="/assets/js/148.1446da0e.js"><link rel="prefetch" href="/assets/js/149.8a30c89a.js"><link rel="prefetch" href="/assets/js/15.0d6cfe24.js"><link rel="prefetch" href="/assets/js/150.1adc1030.js"><link rel="prefetch" href="/assets/js/151.8f862dd2.js"><link rel="prefetch" href="/assets/js/152.5802adbc.js"><link rel="prefetch" href="/assets/js/153.c04fd5db.js"><link rel="prefetch" href="/assets/js/154.36dfa2b0.js"><link rel="prefetch" href="/assets/js/16.9d340927.js"><link rel="prefetch" href="/assets/js/17.026f2d74.js"><link rel="prefetch" href="/assets/js/18.2c98a894.js"><link rel="prefetch" href="/assets/js/19.c5092682.js"><link rel="prefetch" href="/assets/js/2.7d82c51f.js"><link rel="prefetch" href="/assets/js/20.88ddbd1c.js"><link rel="prefetch" href="/assets/js/21.15119ac9.js"><link rel="prefetch" href="/assets/js/22.cdfd7184.js"><link rel="prefetch" href="/assets/js/23.3f297858.js"><link rel="prefetch" href="/assets/js/24.f60196ef.js"><link rel="prefetch" href="/assets/js/25.36c9da09.js"><link rel="prefetch" href="/assets/js/26.39bfa7a9.js"><link rel="prefetch" href="/assets/js/27.d74a5992.js"><link rel="prefetch" href="/assets/js/28.81f48e71.js"><link rel="prefetch" href="/assets/js/29.761f1315.js"><link rel="prefetch" href="/assets/js/3.f0e33edb.js"><link rel="prefetch" href="/assets/js/30.0d78fd34.js"><link rel="prefetch" href="/assets/js/31.455baee2.js"><link rel="prefetch" href="/assets/js/32.ee627427.js"><link rel="prefetch" href="/assets/js/33.8cf84eca.js"><link rel="prefetch" href="/assets/js/34.69947bf5.js"><link rel="prefetch" href="/assets/js/35.75f81fe9.js"><link rel="prefetch" href="/assets/js/36.16686ace.js"><link rel="prefetch" href="/assets/js/37.a1723078.js"><link rel="prefetch" href="/assets/js/38.79517a3a.js"><link rel="prefetch" href="/assets/js/39.3fee31fb.js"><link rel="prefetch" href="/assets/js/4.2a06bda3.js"><link rel="prefetch" href="/assets/js/40.64ebbb72.js"><link rel="prefetch" href="/assets/js/41.0caac018.js"><link rel="prefetch" href="/assets/js/42.5f767cda.js"><link rel="prefetch" href="/assets/js/43.46a6c6ec.js"><link rel="prefetch" href="/assets/js/44.1fbeed1c.js"><link rel="prefetch" href="/assets/js/45.8420eebd.js"><link rel="prefetch" href="/assets/js/46.3ffccd37.js"><link rel="prefetch" href="/assets/js/47.0dc8e60f.js"><link rel="prefetch" href="/assets/js/48.4a25340b.js"><link rel="prefetch" href="/assets/js/49.81251dda.js"><link rel="prefetch" href="/assets/js/5.f8fa80eb.js"><link rel="prefetch" href="/assets/js/50.7a68e1b2.js"><link rel="prefetch" href="/assets/js/51.810ace8e.js"><link rel="prefetch" href="/assets/js/52.3fb11e5b.js"><link rel="prefetch" href="/assets/js/53.51e1b163.js"><link rel="prefetch" href="/assets/js/54.a193919b.js"><link rel="prefetch" href="/assets/js/55.ed77a75a.js"><link rel="prefetch" href="/assets/js/56.cf8d783d.js"><link rel="prefetch" href="/assets/js/57.0c17175b.js"><link rel="prefetch" href="/assets/js/58.3ddb5f2e.js"><link rel="prefetch" href="/assets/js/59.68a213bb.js"><link rel="prefetch" href="/assets/js/6.a32889a2.js"><link rel="prefetch" href="/assets/js/60.a0636ebc.js"><link rel="prefetch" href="/assets/js/61.fc72f2e7.js"><link rel="prefetch" href="/assets/js/62.4fa897e2.js"><link rel="prefetch" href="/assets/js/63.2d20b2a2.js"><link rel="prefetch" href="/assets/js/64.d5daa534.js"><link rel="prefetch" href="/assets/js/65.594e30f7.js"><link rel="prefetch" href="/assets/js/66.a868f08c.js"><link rel="prefetch" href="/assets/js/67.611d69ab.js"><link rel="prefetch" href="/assets/js/68.2ecfeb2d.js"><link rel="prefetch" href="/assets/js/69.299a4679.js"><link rel="prefetch" href="/assets/js/7.3f15f61d.js"><link rel="prefetch" href="/assets/js/70.db68d2a2.js"><link rel="prefetch" href="/assets/js/71.ce42dcd6.js"><link rel="prefetch" href="/assets/js/72.38ac2674.js"><link rel="prefetch" href="/assets/js/73.bd7f9811.js"><link rel="prefetch" href="/assets/js/74.0afd81ce.js"><link rel="prefetch" href="/assets/js/75.e3619d1c.js"><link rel="prefetch" href="/assets/js/76.2d0d598d.js"><link rel="prefetch" href="/assets/js/77.92f479e8.js"><link rel="prefetch" href="/assets/js/78.95fc9d7c.js"><link rel="prefetch" href="/assets/js/79.bfd42746.js"><link rel="prefetch" href="/assets/js/8.fab6c840.js"><link rel="prefetch" href="/assets/js/80.79249f41.js"><link rel="prefetch" href="/assets/js/81.94e759cb.js"><link rel="prefetch" href="/assets/js/82.0808b875.js"><link rel="prefetch" href="/assets/js/83.84b2875f.js"><link rel="prefetch" href="/assets/js/84.675529f6.js"><link rel="prefetch" href="/assets/js/85.cf0d0ab0.js"><link rel="prefetch" href="/assets/js/87.e8a21e2f.js"><link rel="prefetch" href="/assets/js/88.70e23497.js"><link rel="prefetch" href="/assets/js/89.9c35d38c.js"><link rel="prefetch" href="/assets/js/9.9b98df55.js"><link rel="prefetch" href="/assets/js/90.9832c3fd.js"><link rel="prefetch" href="/assets/js/91.f808af71.js"><link rel="prefetch" href="/assets/js/92.80c53b0c.js"><link rel="prefetch" href="/assets/js/93.e58d71ad.js"><link rel="prefetch" href="/assets/js/94.4406b5b3.js"><link rel="prefetch" href="/assets/js/95.336d258f.js"><link rel="prefetch" href="/assets/js/96.cbe06dfe.js"><link rel="prefetch" href="/assets/js/97.865fc1c4.js"><link rel="prefetch" href="/assets/js/98.b4642947.js"><link rel="prefetch" href="/assets/js/99.cc65fe23.js">
    <link rel="stylesheet" href="/assets/css/0.styles.601feec8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name"> </span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/Docs/" class="nav-link">Develop</a></div><div class="nav-item"><a href="/ENULS/" class="nav-link router-link-active">ENULS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ENULS/pos/gasper/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/ENULS/pos/gasper/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/Docs/" class="nav-link">Develop</a></div><div class="nav-item"><a href="/ENULS/" class="nav-link router-link-active">ENULS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ENULS/pos/gasper/" aria-current="page" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/ENULS/pos/gasper/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/nuls-io/devsite/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span></span> <!----></p> <ul class="sidebar-group-items"><li><a href="/ENULS/intro/" class="sidebar-link">Intro to ENULS</a></li><li><a href="/ENULS/accounts/" class="sidebar-link">ENULS accounts</a></li><li><a href="/ENULS/blocks/" class="sidebar-link">Blocks</a></li><li><a href="/ENULS/transactions/" class="sidebar-link">Transactions</a></li><li><a href="/ENULS/evm/" class="sidebar-link">ENULS Virtual Machine (EVM)</a></li><li><a href="/ENULS/gas/" class="sidebar-link">Gas and fees</a></li><li><a href="/ENULS/networks/" class="sidebar-link">Networks</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Nodes-and-clients</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/ENULS/nodes-and-clients/quickstart/" class="sidebar-link">QuickStart of running an ENULS node</a></li><li><a href="/ENULS/nodes-and-clients/" class="sidebar-link">Nodes and clients</a></li><li><a href="/ENULS/nodes-and-clients/run-a-node/" class="sidebar-link">Spin up your own ENULS node</a></li><li><a href="/ENULS/nodes-and-clients/client-diversity/" class="sidebar-link">Client diversity</a></li><li><a href="/ENULS/nodes-and-clients/nodes-as-a-service/" class="sidebar-link">Nodes as a service</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>POS</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/ENULS/pos/" aria-current="page" class="sidebar-link">Proof-of-stake (PoS)</a></li><li><a href="/ENULS/pos/gasper/" aria-current="page" class="active sidebar-link">Gasper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#the-role-of-gasper" class="sidebar-link">The role of Gasper</a></li><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#what-is-finality" class="sidebar-link">What is finality?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#incentives-and-slashing" class="sidebar-link">Incentives and Slashing</a></li><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#inactivity-leak" class="sidebar-link">Inactivity Leak</a></li><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#fork-choice" class="sidebar-link">Fork choice</a></li></ul></li><li class="sidebar-sub-header"><a href="/ENULS/pos/gasper/#further-reading" class="sidebar-link">Further Reading</a></li></ul></li><li><a href="/ENULS/pos/weak-subjectivity/" class="sidebar-link">Weak subjectivity</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p>Gasper is a combination of Casper the Friendly Finality Gadget (Casper-FFG) and the LMD-GHOST fork choice algorithm. Together these components form the consensus mechanism securing proof-of-stake ENULS. Casper is the mechanism that upgrades certain blocks to &quot;finalized&quot; so that new entrants into the network can be confident that they are syncing the canonical chain. The fork choice algorithm uses accumulated votes to ensure that nodes can easily select the correct one when forks arise in the blockchain.</p> <p><strong>Note</strong> that the original definition of Casper-FFG was updated slightly for inclusion in Gasper. On this page we consider the updated version.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>To understand this material it is necessary to read the introductory page on <a href="/developers/docs/consensus-mechanisms/pos/">proof-of-stake</a>.</p> <h2 id="the-role-of-gasper"><a href="#the-role-of-gasper" class="header-anchor">#</a> The role of Gasper</h2> <p>Gasper sits on top of a proof-of-stake blockchain where nodes provide NULS as a security deposit that can be destroyed if they are lazy or dishonest in proposing or validating blocks. Gasper is the mechanism defining how validators get rewarded and punished, decide which blocks to accept and reject, and which fork of the blockchain to build on.</p> <h2 id="what-is-finality"><a href="#what-is-finality" class="header-anchor">#</a> What is finality?</h2> <p>Finality is a property of certain blocks that means they cannot be reverted unless there has been a critical consensus failure and an attacker has destroyed at least 1/3 of the total staked NULS. Finalized blocks can be thought of as information the blockchain is certain about. A block must pass through a two-step upgrade procedure for a block to be finalized:</p> <ol><li>Two-thirds of the total staked NULS must have voted in favor of that block's inclusion in the canonical chain. This condition upgrades the block to &quot;justified&quot;. Justified blocks are unlikely to be reverted, but they can be under certain conditions.</li> <li>When another block is justified on top of a justified block, it is upgraded to &quot;finalized&quot;. Finalizing a block is a commitment to include the block in the canonical chain. It cannot be reverted unless an attacker destroys millions of NULS (billions of $USD).</li></ol> <p>These block upgrades do not happen in every slot. Instead, only epoch-boundary blocks can be justified and finalized. These blocks are known as &quot;checkpoints&quot;. Upgrading considers pairs of checkpoints. A &quot;supermajority link&quot; must exist between two successive checkpoints (i.e. two-thirds of the total staked NULS voting that checkpoint B is the correct descendant of checkpoint A) to upgrade the less recent checkpoint to finalized and the more recent block to justified.</p> <p>Because finality requires a two-thirds agreement that a block is canonical, an attacker cannot possibly create an alternative finalized chain without:</p> <ol><li>Owning or manipulating two-thirds of the total staked NULS.</li> <li>Destroying at least one-third of the total staked NULS.</li></ol> <p>The first condition arises because two-thirds of the staked NULS is required to finalize a chain. The second condition arises because if two-thirds of the total stake has voted in favor of both forks, then one-third must have voted on both. Double-voting is a slashing condition that would be maximally punished, and one-third of the total stake would be destroyed. As of May 2022, this requires an attacker to burn around $10 billion worth of NULS. The algorithm that justifies and finalizes blocks in Gasper is a slightly modified form of <a href="https://arxiv.org/pdf/1710.09437.pdf" target="_blank" rel="noopener noreferrer">Casper the Friendly Finality Gadget (Casper-FFG)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="incentives-and-slashing"><a href="#incentives-and-slashing" class="header-anchor">#</a> Incentives and Slashing</h3> <p>Validators get rewarded for honestly proposing and validating blocks. NULS is rewarded and added to their stake. On the other hand, validators that are absent and fail to act when called upon miss out on these rewards and sometimes lose a small portion of their existing stake. However, the penalties for being offline are small and, in most cases, amount to opportunity costs of missing rewards. However, some validator actions are very difficult to do accidentally and signify some malicious intent, such as proposing multiple blocks for the same slot, attesting to multiple blocks for the same slot, or contradicting previous checkpoint votes. These are &quot;slashable&quot; behaviors that are penalized more harshly—slashing results in some portion of the validator's stake being destroyed and the validator being removed from the network of validators. This process takes 36 days. On Day 1, there is an initial penalty of up to 0.5 NULS. Then the slashed validator's NULS slowly drains away across the exit period, but on Day 18, they receive a &quot;correlation penalty&quot;, which is larger when more validators are slashed around the same time. The maximum penalty is the entire stake. These rewards and penalties are designed to incentivize honest validators and disincentivize attacks on the network.</p> <h3 id="inactivity-leak"><a href="#inactivity-leak" class="header-anchor">#</a> Inactivity Leak</h3> <p>As well as security, Gasper also provides &quot;plausible liveness&quot;. This is the condition that as long as two-thirds of the total staked NULS is voting honestly and following the protocol, the chain will be able to finalize irrespective of any other activity (such as attacks, latency issues, or slashings). Put another way, one-third of the total staked NULS must be somehow compromised to prevent the chain from finalizing. In Gasper, there is an additional line of defense against a liveness failure, known as the &quot;inactivity leak&quot;. This mechanism activates when the chain has failed to finalize for more than four epochs. The validators that are not actively attesting to the majority chain have their stake gradually drained away until the majority regains two-thirds of the total stake, ensuring that liveness failures are only temporary.</p> <h3 id="fork-choice"><a href="#fork-choice" class="header-anchor">#</a> Fork choice</h3> <p>The original definition of Casper-FFG included a fork choice algorithm that imposed the rule: <code>follow the chain containing the justified checkpoint that has the greatest height</code> where height is defined as the greatest distance from the genesis block. In Gasper, the original fork choice rule is deprecated in favor of a more sophisticated algorithm called LMD-GHOST. It is important to realize that under normal conditions, a fork choice rule is unnecessary - there is a single block proposer for every slot, and honest validators attest to it. It is only in cases of large network asynchronicity or when a dishonest block proposer has equivocated that a fork choice algorithm is required. However, when those cases do arise, the fork choice algorithm is a critical defense that secures the correct chain.</p> <p>LMD-GHOST stands for &quot;latest message-driven greedy heaviest observed sub-tree&quot;. This is a jargon-heavy way to define an algorithm that selects the fork with the greatest accumulated weight of attestations as the canonical one (greedy heaviest subtree) and that if multiple messages are received from a validator, only the latest one is considered (latest-message driven). Before adding the heaviest block to its canonical chain, every validator assesses each block using this rule.</p> <h2 id="further-reading"><a href="#further-reading" class="header-anchor">#</a> Further Reading</h2> <ul><li><a href="https://arxiv.org/pdf/2003.03052.pdf" target="_blank" rel="noopener noreferrer">Gasper: Combining GHOST and Casper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://arxiv.org/pdf/1710.09437.pdf" target="_blank" rel="noopener noreferrer">Capser the Friendly Finality Gadget<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nuls-io/devsite/edit/master/docs/ENULS/pos/gasper/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">3/1/2023, 9:09:00 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/ENULS/pos/" class="prev router-link-active">
          Proof-of-stake (PoS)
        </a></span> <span class="next"><a href="/ENULS/pos/weak-subjectivity/">
          Weak subjectivity
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.54504d68.js" defer></script><script src="/assets/js/86.ec839f55.js" defer></script>
  </body>
</html>
